<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yalhu</title>
  
  <subtitle>yalhu&#39;s blob</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2023-08-20T15:19:47.276Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yalhu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Cssä¼ªç±»å’Œä¼ªå…ƒç´ </title>
    <link href="http://yoursite.com/sum/css/css%E4%BC%AA%E7%B1%BB%E5%92%8C%E4%BC%AA%E5%85%83%E7%B4%A0/"/>
    <id>http://yoursite.com/sum/css/cssä¼ªç±»å’Œä¼ªå…ƒç´ /</id>
    <published>2023-08-17T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.276Z</updated>
    
    <content type="html"><![CDATA[<p>ä¼ªå…ƒç´ : <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-elements" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-elements</a></p><p style="text-align:right"> 2023.8.17 æ˜ŸæœŸå›› </p><h2 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h2><h2 id="ä¼ªå…ƒç´ "><a href="#ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªå…ƒç´ "></a>ä¼ªå…ƒç´ </h2><p>[å‰ç«¯æ¯æ—¥çŸ¥è¯†ç‚¹8ï¼šæœ‰è¶£çš„cssä¼ªå…ƒç´ ]</p><p>1ã€::selection ä¼ªå…ƒç´ <br>2ã€::first-letterä¼ªå…ƒç´ <br>3ã€ ::first-line ä¼ªå…ƒç´ </p><h3 id="marker"><a href="#marker" class="headerlink" title="::marker"></a>::marker</h3><p>[å‰ç«¯æ¯æ—¥çŸ¥è¯†9ï¼šCSSä¼ªå…ƒç´ ä¹‹::marker]<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1ã€åˆ©ç”¨::markerå¯¹åºå·å‰é¢çš„å°åœ†ç‚¹è¿›è¡Œæ”¹é€ ï¼š */</span></span><br><span class="line"><span class="comment">/* ### 2 å¯ä»¥åŠ¨æ€å˜åŒ–çš„::marker */</span></span><br><span class="line"><span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">2s</span> all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">::marker</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'ğŸ˜Ÿ'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::marker</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'ğŸ˜Š'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¯ä»¥ä½¿ç”¨ emoji è¡¨æƒ…  */</span></span><br><span class="line"><span class="comment">/* ### é¢˜å‰é¢çš„ä¸€äº›è£…é¥° */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">::marker</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'â–'</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff5722</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¼ªå…ƒç´ : &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-elements&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.mozilla.
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="css" scheme="http://yoursite.com/categories/sum/css/"/>
    
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Uriç¼–è§£ç </title>
    <link href="http://yoursite.com/sum/js/uri%E7%BC%96%E8%A7%A3%E7%A0%81/"/>
    <id>http://yoursite.com/sum/js/uriç¼–è§£ç /</id>
    <published>2023-08-17T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.311Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right">2023.8.17 æ˜ŸæœŸå›› </p><h1 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h1><h1 id="decodeURIComponentè§£ç æ•°æ®ä¸¢å¤±"><a href="#decodeURIComponentè§£ç æ•°æ®ä¸¢å¤±" class="headerlink" title="decodeURIComponentè§£ç æ•°æ®ä¸¢å¤±"></a>decodeURIComponentè§£ç æ•°æ®ä¸¢å¤±</h1><!-- \# [decodeURIComponentè§£ç æ•°æ®ä¸¢å¤±](http://sd.compjd.com/article/18753?shareId=47379&isHideShareButton=1) --><p>å«æœ‰ç‰¹æ®Šç¬¦%25ç­‰ç‰¹æ®Šå­—ç¬¦æ—¶decodeä¼šä¸¢å¤±å­—ç¬¦ã€‚</p><p>URLä¸­çš„ä¿ç•™å’Œä¸å®‰å…¨å­—ç¬¦<br>æ‰€è°“ä¿ç•™å­—ç¬¦å°±æ˜¯é‚£äº›åœ¨URLä¸­å…·æœ‰ç‰¹å®šæ„ä¹‰çš„å­—ç¬¦ã€‚ä¸å®‰å…¨å­—ç¬¦æ˜¯æŒ‡é‚£äº›åœ¨URLä¸­æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä½†åœ¨URLæ‰€åœ¨çš„ä¸Šä¸‹æ–‡ä¸­å¯èƒ½å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ã€‚ä¾‹å¦‚åŒå¼•å·(â€œâ€)</p><p>éƒ¨åˆ†ä¿ç•™å­—ç¬¦å’Œä¸å®‰å…¨å­—ç¬¦åŠå…¶URLç¼–ç <br>å­—ç¬¦ | æè¿° | ç”¨æ³• | ç¼–ç <br> â€“ | -| - | -<br>; | åˆ†å· | ä¿ç•™ | %3B<br>/ | æ–œçº¿ | ä¿ç•™ | %2F<br>? | é—®å· | ä¿ç•™ | %3F<br>: | å†’å· | ä¿ç•™ | %3A<br>@ | â€œatâ€ç¬¦å· | ä¿ç•™ | %4O<br>= | ç­‰å· | ä¿ç•™ | %3D<br>&amp; | â€œå’Œâ€ç¬¦å· | ä¿ç•™ | %26<br>&lt; | å°äºå· | ä¸å®‰å…¨ | %3C<br>> | å¤§äºå· | ä¸å®‰å…¨ | %3E<br>â€œ | åŒå¼•å· | ä¸å®‰å…¨ | %22<br># | äº•å· | ä¸å®‰å…¨ | %23<br>% | ç™¾åˆ†å· | ä¸å®‰å…¨ | %25<br>{ | å·¦å¤§æ‹¬å· | ä¸å®‰å…¨ | %7B<br>} | å³å¤§æ‹¬å· | ä¸å®‰å…¨ | %7D<br>| | ç«–çº¿ | ä¸å®‰å…¨ | %7C<br>\ | åæ–œçº¿ | ä¸å®‰å…¨ | %5C<br>^ | åŠ å­—å· | ä¸å®‰å…¨ | %5E<br>~ | æ³¢æµª | ä¸å®‰å…¨ | %7E<br>[ | å·¦ä¸­æ‹¬å· | ä¸å®‰å…¨ | %5B<br>] | å³ä¸­æ‹¬å· | ä¸å®‰å…¨ | %5D<br>` | åå•å¼•å· | ä¸å®‰å…¨ | %60<br>  | ç©ºæ ¼ | ä¸å®‰å…¨ | %20</p><h3 id="æ¡ˆä¾‹ä¸€"><a href="#æ¡ˆä¾‹ä¸€" class="headerlink" title="æ¡ˆä¾‹ä¸€"></a>æ¡ˆä¾‹ä¸€</h3><p>ä¾‹å¦‚ï¼š<br><a href="http://abaaba.com/example/file-upload/file/shendeng%25-%25bal20bablabla.pdf" target="_blank" rel="noopener">http://abaaba.com/example/file-upload/file/shendeng%25-%25bal20bablabla.pdf</a><br>è¿™ç§å¸¦ç‰¹æ®Šç¬¦ï¼ˆ%25ï¼‰çš„é“¾æ¥ç»è¿‡è§£ç åï¼Œæ•°æ®ä¼šä¸¢å¤±ï¼ˆ25æ¶ˆå¤±ä¸è§äº†ï¼‰<br>è§£å†³æ–¹æ¡ˆ:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹æŸ¥è¯¢å…³é”®å­—ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç </span></span><br><span class="line">dealURISafely(key) &#123;</span><br><span class="line">    <span class="keyword">const</span> unsafeStr = [&#123;</span><br><span class="line">          code: <span class="string">'%'</span>,</span><br><span class="line">          encode: <span class="string">'%25'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          code: <span class="string">'&#123;'</span>,</span><br><span class="line">          encode: <span class="string">'%7B'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          code: <span class="string">'&#125;'</span>,</span><br><span class="line">          encode: <span class="string">'%7D'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          code: <span class="string">'#'</span>,</span><br><span class="line">          encode: <span class="string">'%23'</span></span><br><span class="line">        &#125;<span class="comment">// ç®€å•ä¸¾ä¾‹</span></span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">return</span> key.replace(<span class="regexp">/[%?#&amp;=]/g</span>, ($, index, str) =&gt; &#123;  <span class="comment">// åŒ¹é…æ›¿æ¢</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> unsafeStr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.code === $) &#123;</span><br><span class="line">          <span class="keyword">return</span> item.encode;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><!-- è¿™æ ·å°±å¯ä»¥è§£å†³å•¦~ --><h3 id="æ¡ˆä¾‹äºŒ"><a href="#æ¡ˆä¾‹äºŒ" class="headerlink" title="æ¡ˆä¾‹äºŒ"></a>æ¡ˆä¾‹äºŒ</h3><p>æœ‰æ—¶ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå¸®æˆ‘ä»¬ç¼–è¯‘å­—ç¬¦ï¼Œå¦‚ï¼š</p><p><a href="https://baidu.com/%E7%A5%9E%E7%81%AF%E4%B8%AA%E4%BA%BA%E6%A6%9C%E5%89%8D10%" target="_blank" rel="noopener">https://baidu.com/%E7%A5%9E%E7%81%AF%E4%B8%AA%E4%BA%BA%E6%A6%9C%E5%89%8D10%</a><br>ç”¨decodeURIComponentè§£ç ä¼šæŠ¥é”™ã€‚</p><p>ï»¿ï»¿ï»¿<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆä¸€</span></span><br><span class="line"><span class="comment">// ç®€å•ç²—æš´çš„ç”¨tryCatchå»æ£€æµ‹ï¼Œå¼‚å¸¸ç›´æ¥è·³å‡ºï¼</span></span><br><span class="line">dealURISafely(uri) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(uri)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Uncaught URIerror'</span> + uri)</span><br><span class="line">        <span class="keyword">return</span> uri</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè¿™æ ·çš„æ–¹æ³•è¿‡äºç²—æš´ï¼Œæ²¡æœ‰è§£å†³é—®é¢˜~ é‚£æˆ‘ä»¬å¯ä»¥å°è¯•ä¸‹é¢çš„æ›´ç»†è‡´ä¸€äº›çš„æ–¹æ³•~</span></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ¡ˆäºŒ</span></span><br><span class="line">dealURISafely(uri, mod = <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> decodeStr = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">const</span> dealUri = uri.split(<span class="regexp">/(%(?:d0|d1)%.&#123;2&#125;)/</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dealUri.length; i++) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> decoded = <span class="built_in">decodeURIComponent</span>(dealUri[i]);</span><br><span class="line">      decodeStr += decoded;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">if</span> (mod) &#123;</span><br><span class="line">        <span class="keyword">const</span> replaced = dealUri[i].replace(<span class="regexp">/%(?!\d+)/g</span>, <span class="string">'%25'</span>);</span><br><span class="line">        decodeStr += replaced;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        decodeStr += dealUri[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> decodeStr;</span><br><span class="line">&#125; <span class="comment">//  "https://baidu.com/ç¥ç¯ä¸ªäººæ¦œå‰10% "</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt;2023.8.17 æ˜ŸæœŸå›› &lt;/p&gt;

&lt;h1 id=&quot;åŸºç¡€&quot;&gt;&lt;a href=&quot;#åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;åŸºç¡€&quot;&gt;&lt;/a&gt;åŸºç¡€&lt;/h1&gt;&lt;h1 id=&quot;decodeURIComponen
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="js" scheme="http://yoursite.com/categories/sum/js/"/>
    
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>React çŠ¶æ€ç®¡ç†å·¥å…·å¦‚ä½•é€‰</title>
    <link href="http://yoursite.com/sum/jsplus/react%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%A6%82%E4%BD%95%E9%80%89/"/>
    <id>http://yoursite.com/sum/jsplus/reactçŠ¶æ€ç®¡ç†å·¥å…·å¦‚ä½•é€‰/</id>
    <published>2023-08-14T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.357Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p style="text-align:right"> 2023.8.14 æ˜ŸæœŸä¸€ </p><!-- [React çŠ¶æ€ç®¡ç†å·¥å…·å¦‚ä½•é€‰](http://xingyun.compjd.com/shendeng/article/detail/10000?forumId=29&jdme_router=jdme%3A%2F%2Fweb%2F202206081297%3Furl%3Dhttp%3A%2F%2Fsd.jd.com%2Farticle%2F10000) @dengwen 2023-01-11--><h2 id="ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†"><a href="#ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†" class="headerlink" title="ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†?"></a>ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†?</h2><p>â€œçŠ¶æ€â€æ˜¯æè¿°åº”ç”¨ç¨‹åºå½“å‰è¡Œä¸ºçš„ä»»ä½•æ•°æ®ã€‚è¿™å¯èƒ½åŒ…æ‹¬è¯¸å¦‚â€œä»æœåŠ¡å™¨è·å–çš„å¯¹è±¡åˆ—è¡¨â€ã€â€œå½“å‰é€‰æ‹©çš„é¡¹ç›®â€ã€â€œå½“å‰ç™»å½•ç”¨æˆ·çš„åç§°â€å’Œâ€œæ­¤æ¨¡å¼æ˜¯å¦æ‰“å¼€ï¼Ÿâ€ç­‰å€¼ã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬åœ¨ç ”å‘ä¸€ä¸ªå¤æ‚åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å¥—å¥½çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ—¢èƒ½æå‡ç ”å‘æ•ˆç‡ï¼Œåˆèƒ½é™ä½ç ”å‘ç»´æŠ¤æˆæœ¬ï¼Œé‚£ä¹ˆçŠ¶æ€ç®¡ç†æ–¹æ¡ˆé‚£ä¹ˆå¤šï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆä¸åŒï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•é€‰æ‹©é€‚åˆå½“å‰åº”ç”¨çš„æ–¹æ¡ˆå‘¢ï¼Ÿ</p><p>æœ¬æœŸå°†ä¸»è¦å°± react çš„å¸¸ç”¨çŠ¶æ€ç®¡ç†æ–¹æ¡ˆè¿›è¡Œå¯¹æ¯”åˆ†æï¼Œå¸Œæœ›å¯¹å„ä½çœ‹å®¢æœ‰å¸®åŠ©ã€‚</p><h2 id="React-çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ"><a href="#React-çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ" class="headerlink" title="React çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ"></a>React çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ</h2><p>### æ–¹æ¡ˆä»‹ç»<br>hooks context<br>react-redux<br>mobx<br>zustand<br>jotai<br>recoil<br>valtio</p><h3 id="æ–¹æ¡ˆå¯¹æ¯”"><a href="#æ–¹æ¡ˆå¯¹æ¯”" class="headerlink" title="æ–¹æ¡ˆå¯¹æ¯”"></a>æ–¹æ¡ˆå¯¹æ¯”</h3><table><thead><tr><th>æ¡†æ¶</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹  </th></tr></thead><tbody><tr><td>hooks context</td><td>åŸºäº react hookï¼Œå¼€å‘è€…å¯å®ç°å†…/å¤–éƒ¨å­˜å‚¨</td><td><li>1. ä½¿ç”¨ç®€å• </li><li>2. ä¸éœ€è¦å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œä½“ç§¯æœ€å° </li><li>3. æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€ï¼Œä½†åœ¨å¤æ‚åº”ç”¨ä¸­ä¸æ¨è </li><li>4. ä¸ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œå¯åœ¨ç»„ä»¶å¤–è°ƒç”¨ï¼ˆå¤–éƒ¨å­˜å‚¨çš„æ¡ä»¶ä¸‹ï¼‰</li></td><td><li>1. context valueå‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ç”¨åˆ°è¿™ä¸ªcontextçš„ç»„ä»¶éƒ½ä¼šè¢«é‡æ–°æ¸²æŸ“ï¼ŒåŸºäº content ç»´æŠ¤çš„æ¨¡å—è¶Šå¤šï¼Œå½±å“èŒƒå›´è¶Šå¤§ã€‚ </li><li>2.ä¾èµ– Context Provider åŒ…è£¹ä½ çš„åº”ç”¨ç¨‹åºï¼Œä¿®æ”¹ store æ— æ³•åœ¨åº”ç”¨æœ€é¡¶å±‚(App.tsx å±‚çº§)è§¦å‘æ¸²æŸ“ </li><li>3. å—uiæ¡†æ¶çº¦æŸ(react) </li><li>4. ä¾èµ–hooksè°ƒç”¨ </li></td></tr><tr><td>react-redux</td><td>Fluxæ€æƒ³ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œéµä»å‡½æ•°å¼ç¼–ç¨‹ï¼Œå¤–éƒ¨å­˜å‚¨</td><td><li>1. ä¸ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œå¯åœ¨ç»„ä»¶å¤–è°ƒç”¨ </li><li>2. æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€ </li><li>3.ä¸å—uiæ¡†æ¶çº¦æŸ</li></td><td><li>1. å¿ƒæ™ºæ¨¡å‹éœ€è¦ä¸€äº›æ—¶é—´æ¥ç†è§£ï¼Œç‰¹åˆ«æ˜¯å½“ä½ ä¸ç†Ÿæ‚‰å‡½æ•°å¼ç¼–ç¨‹çš„æ—¶å€™ </li><li>2. ä¾èµ– Context Provider åŒ…è£¹ä½ çš„åº”ç”¨ç¨‹åºï¼Œä¿®æ”¹ store æ— æ³•åœ¨åº”ç”¨æœ€é¡¶å±‚(App.tsx å±‚çº§)è§¦å‘æ¸²æŸ“</li></td></tr><tr><td>mobx</td><td>è§‚å¯Ÿè€…æ¨¡å¼ + æ•°æ®æˆªæ­¢ï¼Œå¤–éƒ¨å­˜å‚¨</td><td><li>1. ä½¿ç”¨ç®€å• </li><li>2. ä¸ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œå¯åœ¨ç»„ä»¶å¤–è°ƒç”¨ </li><li>3. æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€ </li><li>4.ä¸å—uiæ¡†æ¶çº¦æŸ</li></td><td><li>1.å¯å˜çŠ¶æ€æ¨¡å‹ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½å½±å“è°ƒè¯• </li><li>2. é™¤äº†ä½“ç§¯ç›¸å¯¹è¾ƒå¤§ä¹‹å¤–ï¼Œç¬”è€…ç›®å‰æœªæ„Ÿè§‰åˆ°è¾ƒä¸ºæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œ3.99M</li></td></tr><tr><td>zustand</td><td>Fluxæ€æƒ³ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ï¼Œå¤–éƒ¨å­˜å‚¨</td><td><li>1. è½»é‡ï¼Œä½¿ç”¨ç®€å• </li><li>2. ä¸ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œå¯åœ¨ç»„ä»¶å¤–è°ƒç”¨ </li><li>3. æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€</li></td><td><li>1.æ¡†æ¶æœ¬èº«ä¸æ”¯æŒ computed å±æ€§ï¼Œä½†å¯åŸºäº middleware æœºåˆ¶é€šè¿‡å°‘é‡ä»£ç é—´æ¥å®ç° computed ï¼Œæˆ–åŸºäºç¬¬ä¸‰æ–¹åº“ zustand-computed å®ç° </li><li>2.å—uiæ¡†æ¶çº¦æŸ(react / vue)</li></td></tr><tr><td>jotai</td><td>åŸºäº react hookï¼Œå†…éƒ¨å­˜å‚¨</td><td><li>1. ä½¿ç”¨ç®€å• </li><li>2. ç»„ä»¶é¢—ç²’åº¦è¾ƒç»†çš„æƒ…å†µä¸‹ï¼Œjotaiæ€§èƒ½æ›´å¥½ </li><li>3.æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€ï¼Œä½†åœ¨å¤æ‚åº”ç”¨ä¸­ä¸æ¨è</li></td><td><li>1. ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œ æ— æ³•ç»„ä»¶å¤–è°ƒç”¨ï¼Œç›¸å¯¹è€Œè¨€, zustand åœ¨ react ç¯å¢ƒå¤–åŠå…¨å±€å¯ä»¥æ›´å¥½åœ°å·¥ä½œ </li><li>2. å—uiæ¡†æ¶çº¦æŸ(react)</li></td></tr><tr><td>recoil</td><td>è¿›é˜¶ç‰ˆ jotai,åŸºäº react hook + provider contextï¼Œå†…éƒ¨å­˜å‚¨</td><td>ç›¸å¯¹äº jotaiè€Œè¨€ï¼Œä¼šæ›´é‡ä¸€äº›ï¼Œä½†æ€æƒ³åŸºæœ¬ä¸å˜ï¼Œæ‹¥æœ‰ä¸€äº› jotai æœªæ”¯æŒçš„ç‰¹æ€§åŠ apiï¼Œå¦‚ï¼š <li>1.ç›‘å¬ store å˜åŒ– </li><li>2. é’ˆå¯¹ atom çš„æ“ä½œæ‹¥æœ‰æ›´å¤šçš„ apiï¼Œç¼–ç¨‹ä¸Šæ‹¥æœ‰æ›´å¤šçš„å¯èƒ½æ€§ï¼Œæ›´åŠ æœ‰è¶£</li></td><td>æ‹¥æœ‰ jotai æ‰€æœ‰çš„ç¼ºç‚¹ï¼Œä¸”ç›¸å¯¹äº jotai è€Œè¨€: <li>1.ä½¿ç”¨ recoil éœ€è¦ &lt; RecoilRoot &gt; åŒ…è£¹åº”ç”¨ç¨‹åº </li><li>2. ç¼–å†™ selector ä¼šå¤æ‚ä¸€äº›</li></td></tr><tr><td>valtio</td><td>åŸºäºæ•°æ®åŠ«æŒï¼Œå¤–éƒ¨å­˜å‚¨</td><td><li>1. ä½¿ç”¨ç®€å•ï¼Œç±»mobxï¼ˆç±»vueï¼‰çš„ç¼–ç¨‹ä½“éªŒ </li><li>2.æ”¯æŒå­˜å‚¨å…¨å±€çŠ¶æ€ </li><li>3.ä¸ä¾èµ– react ä¸Šä¸‹æ–‡ï¼Œå¯åœ¨ç»„ä»¶å¤–è°ƒç”¨ </li><li>4. ä¸å—uiæ¡†æ¶çº¦æŸ</li></td><td><li>1.å¯å˜çŠ¶æ€æ¨¡å‹ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½å½±å“è°ƒè¯• </li><li>2.ç›®å‰ç¬”è€…æ²¡å‘ç°å…¶å®ƒç‰¹åˆ«å¤§çš„ç¼ºç‚¹ï¼Œä¸ªäººçŒœæµ‹ä¹‹æ‰€ä»¥starç›¸å¯¹zustandè¾ƒå°‘ï¼Œæ˜¯å› ä¸º valtio çš„æ•°æ®åŒå‘ç»‘å®šæ€æƒ³ä¸ react å­˜åœ¨å†²çªã€‚</li></td></tr></tbody></table><h3 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h3><h4 id="hooks-context"><a href="#hooks-context" class="headerlink" title="hooks context"></a>hooks context</h4><p><a href="https://github.com/AwesomeDevin/blog/issues/79" target="_blank" rel="noopener">1.ä½¿ç”¨ react hooks + context è¿›è¡Œæ–¹ä¾¿å¿«æ·çš„çŠ¶æ€ç®¡ç†</a><br><a href="https://github.com/AwesomeDevin/blog/issues/45" target="_blank" rel="noopener">2.ä½¿ç”¨ react hooks + context æ„å»º redux è¿›è¡ŒçŠ¶æ€ç®¡ç†</a></p><h4 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a><a href="https://codesandbox.io/s/github/reduxjs/redux-essentials-counter-example/tree/master/?from-embed=&amp;file=/src/features/counter/counterSlice.js" target="_blank" rel="noopener">react-redux</a></h4><h4 id="mobx"><a href="#mobx" class="headerlink" title="mobx"></a>mobx</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">"react-dom"</span></span><br><span class="line"><span class="keyword">import</span> &#123; makeAutoObservable &#125; <span class="keyword">from</span> <span class="string">"mobx"</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">"mobx-react"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çŠ¶æ€åŠç›¸å…³äº‹ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Timer</span> </span>&#123;</span><br><span class="line">    secondsPassed = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        makeAutoObservable(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    increase() &#123;</span><br><span class="line">        <span class="keyword">this</span>.secondsPassed += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    reset() &#123;</span><br><span class="line">        <span class="keyword">this</span>.secondsPassed = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myTimer = <span class="keyword">new</span> Timer()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„å»ºå¯è§‚æ“¦ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> TimerView = observer(<span class="function">(<span class="params">&#123; timer &#125;</span>) =&gt;</span> (</span><br><span class="line">    &lt;button onClick=&#123;() =&gt; timer.reset()&#125;&gt;Seconds passed: &#123;timer.secondsPassed&#125;&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">))</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(&lt;TimerView timer=&#123;myTimer&#125; /</span>&gt;, <span class="built_in">document</span>.body)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§¦å‘æ›´æ–°äº‹ä»¶</span></span><br><span class="line">setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    myTimer.increase()</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><h4 id="zustand"><a href="#zustand" class="headerlink" title="zustand"></a>zustand</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; create &#125; <span class="keyword">from</span> <span class="string">'zustand'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çŠ¶æ€åŠç›¸å…³äº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> useBearStore = create(<span class="function">(<span class="params">set</span>) =&gt;</span> (&#123;</span><br><span class="line">  bears: <span class="number">0</span>,</span><br><span class="line">  increasePopulation: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">set</span>((state) =&gt; (&#123; bears: state.bears + <span class="number">1</span> &#125;)),</span><br><span class="line">  removeAllBears: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">set</span>(&#123; bears: <span class="number">0</span> &#125;),</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸²æŸ“è§†å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BearCounter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> bears = useBearStore(<span class="function">(<span class="params">state</span>) =&gt;</span> state.bears)</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;bears&#125; around here ...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§¦å‘æ›´æ–°äº‹ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Controls</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> increasePopulation = useBearStore(<span class="function">(<span class="params">state</span>) =&gt;</span> state.increasePopulation)</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increasePopulation&#125;</span>&gt;</span>one up<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="jotai"><a href="#jotai" class="headerlink" title="jotai"></a>jotai</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; atom &#125; <span class="keyword">from</span> <span class="string">'jotai'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> countAtom = atom(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// çŠ¶æ€åŠç›¸å…³äº‹ä»¶</span></span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useAtom(countAtom)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;h1&gt;</span><br><span class="line">      &#123;count&#125;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; setCount(<span class="function"><span class="params">c</span> =&gt;</span> c + <span class="number">1</span>)&#125;&gt;one up&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>h1&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="recoil"><a href="#recoil" class="headerlink" title="recoil"></a>recoil</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fontSizeState = atom(&#123;  </span><br><span class="line">  key: <span class="string">'fontSizeState'</span>,  </span><br><span class="line">  <span class="keyword">default</span>: <span class="number">14</span>,  </span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FontButton</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">const</span> [fontSize, setFontSize] = useRecoilState(fontSizeState);  </span><br><span class="line">  <span class="keyword">return</span> (  </span><br><span class="line">    &lt;button onClick=&#123;() =&gt; setFontSize(<span class="function">(<span class="params">size</span>) =&gt;</span> size + <span class="number">1</span>)&#125; style=&#123;&#123;fontSize&#125;&#125;&gt;  </span><br><span class="line">      Click to Enlarge  </span><br><span class="line">    &lt;<span class="regexp">/button&gt;  </span></span><br><span class="line"><span class="regexp">  );  </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="valtio"><a href="#valtio" class="headerlink" title="valtio"></a>valtio</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; proxy, useSnapshot &#125; <span class="keyword">from</span> <span class="string">'valtio'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = proxy(&#123; <span class="attr">count</span>: <span class="number">0</span>, <span class="attr">text</span>: <span class="string">'hello'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> snap = useSnapshot(state)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;snap.count&#125;</span><br><span class="line">      &lt;button onClick=&#123;() =&gt; ++state.count&#125;&gt;+<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³å»ºè®®"><a href="#ç›¸å…³å»ºè®®" class="headerlink" title="ç›¸å…³å»ºè®®"></a>ç›¸å…³å»ºè®®</h2><ol><li>å¦‚æœä½ éœ€è¦useState+useContextçš„æ›¿ä»£å“ï¼Œé‚£ä¹ˆjotaiéå¸¸é€‚åˆï¼Œå³åŸå­åŒ–çš„ç»„ä»¶çŠ¶æ€ç®¡ç†æˆ–å°‘é‡ç»„ä»¶é—´çŠ¶æ€å…±äº«ã€‚</li><li>å¦‚æœä½ ä¹ æƒ¯äº†reduxæˆ–å–œæ¬¢reactçš„è‡ªç„¶ä¸å¯å˜æ›´æ–°ï¼Œé‚£ä¹ˆzustandå°†éå¸¸é€‚åˆã€‚</li><li>å¦‚æœä½ ä¹ æƒ¯äº†vue/ slute /mobxï¼Œæˆ–è€…æ˜¯JS/Reactçš„æ–°æ‰‹ï¼Œvaltioçš„å¯å˜æ¨¡å‹å°†å¾ˆé€‚åˆã€‚</li><li>å¦‚æœä½ åœ¨ä½¿ç”¨ zustand(redux/ç­‰ä¸å¯å˜æ•°æ®æ¨¡å‹) + immerï¼Œå»ºè®®æ”¹ç”¨valtio(mobx)</li><li>mobxæœ‰actionsæ¦‚å¿µï¼Œè€Œvaltioæ¦‚å¿µæ›´ä¸ºç®€å•ï¼ˆè‡ªç”±ï¼‰ï¼Œå¦‚æœä½ å¸Œæœ›å·¥ç¨‹æ›´ä¸ºè§„èŒƒï¼Œå¯ä»¥ä½¿ç”¨mobxï¼Œå¦‚æœæ˜¯å¸Œæœ›å·¥ç¨‹æ›´ä¸ºè‡ªç”±ä¾¿æ·ï¼Œå¯ä»¥ä½¿ç”¨valtio</li><li>recoilä¸jotaiçš„ç¼–ç¨‹æ€æƒ³ç±»ä¼¼ï¼Œä½†æä¾›äº†æ›´å¤šçš„ api ä¸ ç‰¹æ€§ï¼Œé’ˆå¯¹åŸå­çŠ¶æ€æ‹¥æœ‰æ›´å¤šçš„å¯æ“ä½œæ€§ï¼ŒåŒæ—¶åŒ…ä½“ç§¯ä¹Ÿæ›´å¤§ï¼Œä½†ç”±äºrecoilåŠŸèƒ½åºå¤§ï¼Œå…¶ä½¿ç”¨ç›¸å¯¹äºjotaiä¼šç¹çä¸€äº›,å¦‚æœä½ å¸Œæœ›å·¥ç¨‹è½»å·§ä¾¿æ·å¯ä»¥é€‰ç”¨jotaiï¼Œå¦‚æœä½ æƒ³è¯•è¯•åŸå­çŠ¶æ€æ›´å¤šçš„å¯èƒ½æ€§ï¼Œé‚£ä¹ˆè¯•è¯•recoilå§ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p style=&quot;text-align:right&quot;&gt; 2023.8.14 æ˜ŸæœŸä¸€ &lt;/p&gt;


&lt;!-- 
[React çŠ¶æ€ç®¡ç†å·¥å…·å¦‚ä½•é€‰](http://xingyun.compjd.com/shendeng/article/detai
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
      <category term="react.js" scheme="http://yoursite.com/tags/react-js/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨æ’ä»¶è·åˆ©</title>
    <link href="http://yoursite.com/sum/others/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E8%8E%B7%E5%88%A9/"/>
    <id>http://yoursite.com/sum/others/æµè§ˆå™¨æ’ä»¶è·åˆ©/</id>
    <published>2023-06-16T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.406Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right"> 2023.6.16 æ˜ŸæœŸäº” </p><h2 id="ä»˜è´¹æ’ä»¶å…é™¤"><a href="#ä»˜è´¹æ’ä»¶å…é™¤" class="headerlink" title="ä»˜è´¹æ’ä»¶å…é™¤"></a>ä»˜è´¹æ’ä»¶å…é™¤</h2><p><a href="https://www.xinhuatone.com/shouji/202009/28375.html" target="_blank" rel="noopener">Google Chromeæµè§ˆå™¨çš„ä»˜è´¹æ‰©å±•ç¨‹åºå·²è¢«åˆ é™¤</a></p><blockquote><p>Chrome Web Storeä»˜æ¬¾ç³»ç»Ÿç°å·²å¼ƒç”¨ï¼Œå¹¶å°†åœ¨æœªæ¥å‡ ä¸ªæœˆå†…å…³é—­ã€‚è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹å¼å¯ä»¥é€šè¿‡æ‰©å±•è·åˆ©ï¼Œå¦‚æœæ‚¨å½“å‰æ­£åœ¨ä½¿ç”¨Chrome Web Storeä»˜æ¬¾ï¼Œåˆ™éœ€è¦åˆ‡æ¢åˆ°å¦ä¸€ç§æ–¹å¼ã€‚</p></blockquote><p># X-1 <a href="https://w2solo.com/topics/88" target="_blank" rel="noopener">æ€ä¹ˆåˆ©ç”¨ Chrome æ’ä»¶èµšé’± (How to monetize your Chrome extensionï¼Œè°·æ­Œå¼€å‘è€…å¤§ä¼šåˆ†äº«)</a></p><h2 id="Chromeæ’ä»¶ç›ˆåˆ©æœºåˆ¶å’Œç±»å‹è°ƒç ”"><a href="#Chromeæ’ä»¶ç›ˆåˆ©æœºåˆ¶å’Œç±»å‹è°ƒç ”" class="headerlink" title="Chromeæ’ä»¶ç›ˆåˆ©æœºåˆ¶å’Œç±»å‹è°ƒç ”"></a>Chromeæ’ä»¶ç›ˆåˆ©æœºåˆ¶å’Œç±»å‹è°ƒç ”</h2><ol><li>å…è´¹ä¸ªâ¼ˆæ’ä»¶â€”è¿™ç§ç±»å‹çš„ Chrome æ’ä»¶åº”è¯¥å â¼¤å¤šæ•°ï¼›</li><li>å…è´¹ä¼ä¸šæ’ä»¶â€”è¿™ç±»æ’ä»¶ä¸ºæŸäº›å…¬å¸çš„äº§å“ä¸º Chrome â½¤æˆ·ç‰¹æ„å¼€å‘çš„æ’ä»¶ç‰ˆæœ¬ï¼Œ æ’ä»¶æœ¬èº«å¹¶ä¸æ˜¯å…¶ç›ˆåˆ©â½¬æ ‡ï¼Œæ›´â¼¤çš„æ„ä¹‰ç»™å…¶â½¤æˆ·å¸¦æ¥ä¾¿åˆ©æˆ–è€…é€šè¿‡ Chrome è¿™ä¸ª å¹³å°å¸å¼•æ›´å¤šçš„â½¤æˆ·ï¼Œè¿™ç±»æ’ä»¶â½å¦‚ Wunderlistï¼ŒDropbox ç­‰ç­‰ï¼›</li><li>Freemium æ’ä»¶â€”åŸºæœ¬åŠŸèƒ½å…è´¹ï¼Œâ¾¼çº§åŠŸèƒ½æ”¶è´¹ï¼Œè¿™ç±»æ’ä»¶å’Œç¬¬â¼†ç±»æœ‰â¼€å®šçš„é‡ åˆï¼Œå…¶æ’ä»¶æ•°é‡ä¹Ÿä¸å°‘ã€‚å…¸å‹çš„åˆ—â¼¦å°±æ˜¯ Grammarlyï¼ŒPocket ï¼›</li><li>Premium æ’ä»¶â€”å…è´¹è¯•â½¤ï¼Œè¿‡æœŸä¹‹åéœ€è¦è®¢é˜…ã€‚â½å¦‚ Anyshortcutï¼›</li><li>æ”¶è´¹æ’ä»¶â€”è¿™ç±»æ’ä»¶ä¸‹è½½å®‰è£…çš„æ—¶å€™å°±éœ€è¦æ”¶è´¹ï¼ˆâ¾®å¸¸å°‘ï¼‰ï¼Œâ½å¦‚ lingua.ly</li><li>å”®å–â¼´å‘Šã€â½¤æˆ·æ•°æ®ç›ˆåˆ©æ’ä»¶â€”ä¸ä¸¾ä¾‹ï¼›</li><li>æ¥å—å¼€æºæåŠ©â€”â½å¦‚ çœ¼ä¸â»…â¼¼ä¸çƒ¦ï¼ŒWeb Makerï¼›</li><li>è¢«æ”¶è´­æ’ä»¶â€”â½å¦‚ Github æ ‘å½¢â½¬å½•æ‰©å±• InSight.ioï¼›</li></ol><h2 id="Monetize-with-SaaS-Overview"><a href="#Monetize-with-SaaS-Overview" class="headerlink" title="Monetize with SaaS - Overview"></a>Monetize with SaaS - Overview</h2><p>è§£å†³æŸä¸ªâ½¤æˆ·ç—›ç‚¹â€”ä»â¼©ä¼—å¸‚åœºâ¼Šâ¼¿ï¼Œæ‰¾åˆ°â½¤æˆ·ç—›ç‚¹ï¼Œä¹Ÿè®¸â¼€ä¸ªå°±å¤Ÿäº†ï¼›<br>è‰¯å¥½çš„â½¤æˆ·ä½“éªŒâ€”äº§å“ä½“éªŒã€è§†è§‰è®¾è®¡ã€ç¤¾äº¤å½¢è±¡ç­‰ï¼›<br>é›†æˆâ½€ä»˜â½…æ¡ˆâ€”åœ¨å›½å†…â½€ä»˜æ˜¯â¼€ä¸ªâ½¼â¼¤éš¾çš„é—®é¢˜ï¼Œæƒ³åŠæ³•æå®šå®ƒï¼//paybase.cn<br>æŒç»­ä¸ºâ½¤æˆ·æä¾›ä»·å€¼â€”â½¤æˆ·èƒ½å¤Ÿæ¥å— SaaS åˆ¶çš„æ ¸â¼¼ä»·å€¼æ‰€åœ¨;<br>æŒç»­ marketingâ€”æŒç»­å¯»æ‰¾æ›´å¤šä½ çš„â½¬æ ‡â½¤æˆ·ï¼æœ€éš¾ï¼</p><h3 id="Monetize-with-SaaS-Strategy-ï¼ˆç­–ç•¥ï¼‰"><a href="#Monetize-with-SaaS-Strategy-ï¼ˆç­–ç•¥ï¼‰" class="headerlink" title="Monetize with SaaS - Strategy ï¼ˆç­–ç•¥ï¼‰"></a>Monetize with SaaS - Strategy ï¼ˆç­–ç•¥ï¼‰</h3><ol><li>â½¤â¼¼åšå¥½äº§å“</li><li>â¼€ä¸ªå¥½çš„å®˜â½¹å’Œ pricing â»š</li><li>è‰¯å¥½çš„æ–°â¼¿å¼•å¯¼</li><li>æµç•…çš„â½€ä»˜ä½“éªŒ</li><li>æ°åˆ°å¥½å¤„çš„é‚®ä»¶è¿è¥</li><li>å¿…è¦çš„ç¤¾åŒºè¿è¥<!-- END#X-1 --></li></ol><h2 id="ä»˜è´¹-chrome-æ’ä»¶æ¡ˆä¾‹"><a href="#ä»˜è´¹-chrome-æ’ä»¶æ¡ˆä¾‹" class="headerlink" title="ä»˜è´¹ chrome æ’ä»¶æ¡ˆä¾‹"></a>ä»˜è´¹ chrome æ’ä»¶æ¡ˆä¾‹</h2><p># X-2 <a href="https://www.v2ex.com/t/747058" target="_blank" rel="noopener">ä¸€ä¸ªä»˜è´¹ chrome æ’ä»¶çš„ä¸€ç”Ÿ</a><br>åœ¨è¿™ä¸ªæ’ä»¶çš„é¼“èˆä¸‹ï¼Œæˆ‘åæ¥åˆåšäº†å¾ˆå¤šå¼€æºé¡¹ç›®ï¼Œä¸è¿‡é—æ†¾çš„æ˜¯åˆ°ç›®å‰ä¸ºæ­¢é‚£äº›èŠ±è´¹æˆ‘å¤§é‡æ—¶é—´çš„å…¶ä»– side project æ²¡æœ‰ä¸€ä¸ªçš„æ”¶å…¥è¶…è¿‡è¿™ä¸ªâ€œå‘¨æœ«äº§å“â€ğŸ˜…</p><p>ä¸¤ç‚¹æ„Ÿæƒ³</p><ul><li>ç”¨æˆ·æ˜¯æ„¿æ„ä»˜è´¹çš„ï¼Œå¦‚æœäº§å“çœŸæ­£å¸®åŠ©ä»–ä»¬è§£å†³äº†é—®é¢˜</li><li>äº§å“çš„æˆè´¥ä¸ä½ ä»˜å‡ºçš„å·¥ä½œé‡æ²¡æœ‰å…³ç³»</li></ul><h2 id="å…¶ä»–å‚è€ƒ"><a href="#å…¶ä»–å‚è€ƒ" class="headerlink" title="å…¶ä»–å‚è€ƒ"></a>å…¶ä»–å‚è€ƒ</h2><p># X-11 <a href="https://liujinkai.com/2020/02/13/how-to-monetise-a-chrome-extension/" target="_blank" rel="noopener">Chromeæµè§ˆå™¨æ‰©å±•æ’ä»¶çš„8ç§è·åˆ©æ–¹å¼</a><br>1ã€å¸®åŠ©ç”¨æˆ·å±è”½å¹¿å‘Š - AdblockPlus<br>2ã€ç¬¬ä¸‰æ–¹ â€” Yieldkit<br>3ã€CPUå ç”¨â€”CoinHive<br>4ã€å…è´¹å’Œä»˜è´¹<br>5ã€å¹¿å‘Š<br>6ã€å‡ºå”®ç”¨æˆ·æ•°æ®<br>7ã€å°†ä½ çš„ç”¨æˆ·ä½œä¸ºåƒµå°¸ç½‘ç»œå‡ºå”®<br>8ã€æèµ </p><p style="text-align:right"> </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt; 2023.6.16 æ˜ŸæœŸäº” &lt;/p&gt;

&lt;h2 id=&quot;ä»˜è´¹æ’ä»¶å…é™¤&quot;&gt;&lt;a href=&quot;#ä»˜è´¹æ’ä»¶å…é™¤&quot; class=&quot;headerlink&quot; title=&quot;ä»˜è´¹æ’ä»¶å…é™¤&quot;&gt;&lt;/a&gt;ä»˜è´¹æ’ä»¶å…é™¤&lt;/h2&gt;&lt;p&gt;&lt;a hr
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="others" scheme="http://yoursite.com/categories/sum/others/"/>
    
    
      <category term="chrome" scheme="http://yoursite.com/tags/chrome/"/>
    
      <category term="browser" scheme="http://yoursite.com/tags/browser/"/>
    
  </entry>
  
  <entry>
    <title>Reactæºç å­¦ä¹ </title>
    <link href="http://yoursite.com/sum/jsplus/react%E5%8E%9F%E7%90%86/react%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"/>
    <id>http://yoursite.com/sum/jsplus/reactåŸç†/reactæºç å­¦ä¹ /</id>
    <published>2023-05-04T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.355Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right"> 2023.5.4 æ˜ŸæœŸä¸€ </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt; 2023.5.4 æ˜ŸæœŸä¸€ &lt;/p&gt;


      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
      <category term="reactåŸç†" scheme="http://yoursite.com/categories/sum/jsplus/react%E5%8E%9F%E7%90%86/"/>
    
    
  </entry>
  
  <entry>
    <title>Pnpmä½¿ç”¨è®°å½•</title>
    <link href="http://yoursite.com/sum/jsplus/pnpm%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
    <id>http://yoursite.com/sum/jsplus/pnpmä½¿ç”¨è®°å½•/</id>
    <published>2023-04-12T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.342Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right">2023.4.12 æ˜ŸæœŸä¸‰</p><h1 id="issues"><a href="#issues" class="headerlink" title="issues"></a>issues</h1><p><code>ERROR: This version of pnpm requires at least Node.js v16.14</code><br>è§£å†³ï¼šnpm install pnpm@7<br>åŸå› ï¼šnode14ä¸æ”¯æŒæœ€æ–°çš„pnpm@8<br>pnpmå®‰è£…#compatibility: <a href="https://pnpm.io/installation#compatibility" target="_blank" rel="noopener">https://pnpm.io/installation#compatibility</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt;2023.4.12 æ˜ŸæœŸä¸‰&lt;/p&gt;


&lt;h1 id=&quot;issues&quot;&gt;&lt;a href=&quot;#issues&quot; class=&quot;headerlink&quot; title=&quot;issues&quot;&gt;&lt;/a&gt;issues&lt;/h1&gt;&lt;p&gt;&lt;code&gt;
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
      <category term="react.js" scheme="http://yoursite.com/tags/react-js/"/>
    
  </entry>
  
  <entry>
    <title>Reactä»£ç å¤ç”¨-ç»„ä»¶</title>
    <link href="http://yoursite.com/sum/jsplus/react%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8-%E7%BB%84%E4%BB%B6/"/>
    <id>http://yoursite.com/sum/jsplus/reactä»£ç å¤ç”¨-ç»„ä»¶/</id>
    <published>2023-03-08T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.343Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šç»Ÿä¸€å¤„ç†é¡µé¢æ¥å£æ•°æ®åŠ è½½ï¼›å¹¶ä¸”æ¸²æŸ“ä¸åŒçŠ¶æ€çš„uiã€‚<br>    æˆ–è€…æ˜¯å­ç»„ä»¶ï¼›ä¹Ÿå¯ä»¥è‡ªå®šä¹‰loading/skeletonï¼Œerrorã€‚<br>æœ€åï¼šé«˜é˜¶ç»„ä»¶-render props<br><!-- å®ç°ä¸Šå‚è€ƒï¼šå…ˆ1 -ã€‹ 4 -ã€‹5ã€‚ æœ€åå‘ç°æ˜¯2çš„å®è·µ-é¡µé¢å¤ç”¨ --></p><!-- 1: ç»„ä»¶å°è£…æ–¹æ³• - 2: ä»‹ç»é«˜é˜¶ç»„ä»¶3ï¼š ä»‹ç»hooks4: å°è£…è¯·æ±‚ - DataBoundary5: render-props - display nameï¼š æ–‡æ¡£æœ‰ä»‹ç» --><p>reactæ–‡æ¡£-é«˜é˜¶ç»„ä»¶ï¼š <a href="https://zh-hans.reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener">https://zh-hans.reactjs.org/docs/higher-order-components.html</a></p><p style="text-align:right">2023.3.8 æ˜ŸæœŸä¸‰</p><h1 id="1-Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•"><a href="#1-Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•" class="headerlink" title="1 Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•"></a>1 Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•</h1><p># 1 SS <a href="https://www.shymean.com/article/Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•" target="_blank" rel="noopener">Reactä¸­å°è£…ç»„ä»¶çš„ä¸€äº›æ–¹æ³•</a></p><h2 id="1-extends-æ­£å‘ç»§æ‰¿"><a href="#1-extends-æ­£å‘ç»§æ‰¿" class="headerlink" title="1. extends æ­£å‘ç»§æ‰¿"></a>1. extends æ­£å‘ç»§æ‰¿</h2><p>å¯¹äºç±»ç»„ä»¶è€Œè¨€ï¼Œå¯ä»¥é€šè¿‡extendsç»§æ‰¿æŸä¸ªçˆ¶ç±»ï¼Œä»è€Œè·å¾—ä¸€äº›å…¬å…±çš„èƒ½åŠ›<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogPage</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    trackLog() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"trackLog"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Page1</span> <span class="keyword">extends</span> <span class="title">LogPage</span> </span>&#123;</span><br><span class="line">    onBtnClick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'click'</span>)</span><br><span class="line">        <span class="keyword">this</span>.trackLog();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.onBtnClick&#125;</span>&gt;</span>click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å€ŸåŠ©OOPçš„æ€æƒ³ï¼Œå¯ä»¥é€šè¿‡å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ¥å®ç°æ•°æ®çš„éš”ç¦»å’ŒåŠŸèƒ½çš„å¤ç”¨ã€‚</p><h2 id="2-HOC"><a href="#2-HOC" class="headerlink" title="2. HOC"></a>2. HOC</h2><h3 id="2-1-åŠ«æŒprops"><a href="#2-1-åŠ«æŒprops" class="headerlink" title="2.1. åŠ«æŒprops"></a>2.1. åŠ«æŒprops</h3><p>é«˜é˜¶ç»„ä»¶ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šæ‹¦æˆªä¼ é€’è¿‡æ¥çš„propsï¼Œè¿™æ ·å°±å¯ä»¥åšä¸€äº›ç‰¹æ®Šçš„å¤„ç†ï¼Œæˆ–è€…ä»…ä»…æ˜¯æ·»åŠ ä¸€äº›é€šç”¨çš„props<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOC</span>(<span class="params">Comp</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> commonProps = &#123; <span class="attr">x</span>: <span class="number">1</span>, commonMethod1, commonMethod2  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">props</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Comp</span> &#123;<span class="attr">...commonProps</span>&#125; &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><!-- çœ‹èµ·æ¥åƒç»„ä»¶æ³¨å…¥ä¸€äº›é€šç”¨çš„propså°±æ›´è½»æ¾äº†ã€‚ --><h3 id="2-2-åå‘ç»§æ‰¿"><a href="#2-2-åå‘ç»§æ‰¿" class="headerlink" title="2.2. åå‘ç»§æ‰¿"></a>2.2. åå‘ç»§æ‰¿</h3><p>é«˜é˜¶ç»„ä»¶çš„æ ¸å¿ƒæ€æƒ³æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œå¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œç”šè‡³å¯ä»¥é€šè¿‡ç»§æ‰¿çš„æ–¹å¼åŠ«æŒç»„ä»¶åŸæœ¬çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæ‰©å±•æ–°çš„åŠŸèƒ½<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOC</span>(<span class="params">Comp</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">SubComp</span> <span class="keyword">extends</span> <span class="title">Comp</span> </span>&#123;</span><br><span class="line">    componentDidMount()&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†æ–°çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¯ä»¥æŒ‰éœ€è¦å†³å®šæ˜¯å¦è°ƒç”¨supder.componentDidMount</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render()&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åŸå§‹çš„render</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.render();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="2-3-æ§åˆ¶æ¸²æŸ“"><a href="#2-3-æ§åˆ¶æ¸²æŸ“" class="headerlink" title="2.3. æ§åˆ¶æ¸²æŸ“"></a>2.3. æ§åˆ¶æ¸²æŸ“</h3><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦åˆ¤æ–­æŸä¸ªé¡µé¢æ˜¯å¦éœ€è¦ç™»å½•ï¼Œä¸€ç§åšæ³•æ˜¯ç›´æ¥åœ¨é¡µé¢ç»„ä»¶é€»è¾‘ä¸­ç¼–å†™åˆ¤æ–­ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªè¿™ç§çš„é¡µé¢ï¼Œå°±å˜å¾—é‡å¤äº†<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (Comp) =&gt; <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isLogin = checkLogin()</span><br><span class="line">  <span class="keyword">if</span> (isLogin) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">Comp</span> &#123;<span class="attr">...props</span>&#125;/&gt;</span></span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">Redirect</span> <span class="attr">to</span>=<span class="string">&#123;&#123;</span> <span class="attr">pathname:</span> '<span class="attr">login</span>' &#125;&#125;/&gt;</span></span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2.4. HOCçš„ç¼ºç‚¹<br>åŠ«æŒPropsæ˜¯HOCæœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä½†è¿™ä¹Ÿæ˜¯å®ƒçš„ç¼ºç‚¹ï¼šå±‚çº§çš„åµŒå¥—å’ŒçŠ¶æ€çš„é€ä¼ ã€‚</p><p>å¯¹äºHOCæœ¬èº«è€Œè¨€ï¼Œä¼ é€’ç»™ä»–çš„propsæ˜¯ä¸éœ€è¦å…³å¿ƒçš„ï¼Œä»–åªæ˜¯è´Ÿè´£å°†propsé€ä¼ ä¸‹å»ã€‚è¿™å°±è¦æ±‚å¯¹äºä¸€äº›ç‰¹æ®Šçš„propå¦‚refç­‰ï¼Œéœ€è¦é¢å¤–ä½¿ç”¨forwardRefæ‰èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘è®¤ä¸ºè¿™ä¹Ÿå¯¼è‡´ç»„ä»¶çš„propsæ¥æºå˜å¾—ä¸æ¸…æ™°ã€‚æœ€åç»„ä»¶ç»è¿‡å¤šä¸ªHOCçš„è£…é¥°ä¹‹åï¼Œæˆ‘ä»¬å°±å¾ˆéš¾åŒºåˆ†æŸä¸ªpropsæ³¨å…¥çš„æ•°æ®åˆ°åº•æ˜¯å“ªé‡Œæ¥çš„äº†</p><h2 id="3-Render-Props"><a href="#3-Render-Props" class="headerlink" title="3. Render Props"></a>3. Render Props</h2><p>3.1. propä¼ é€’ReactElement<br>Reactç»„ä»¶é»˜è®¤çš„prop: childrenå¯ä»¥å®ç°default slotçš„åŠŸèƒ½<br>3.2. propä¼ é€’å‡½æ•°<br>ä½†è¿™ç§ç›´æ¥ä¼ é€’ReactElementä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œé‚£å°±æ˜¯è¿™äº›èŠ‚ç‚¹éƒ½æ˜¯åœ¨çˆ¶å…ƒç´ å®šä¹‰çš„ã€‚</p><p>å¦‚æœèƒ½å¤Ÿæ ¹æ®ç»„ä»¶å†…éƒ¨çš„ä¸€äº›æ•°æ®æ¥åŠ¨æ€æ¸²æŸ“è¦å±•ç¤ºçš„å…ƒç´ ï¼Œè¿™æ ·å°±ä¼šæ›´åŠ çµæ´»äº†ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬éœ€è¦å®ç°åœ¨ç»„ä»¶å†…éƒ¨åŠ¨æ€æ„å»ºæ¸²æŸ“å…ƒç´ ã€‚</p><p>æœ€ç®€å•çš„è§£å†³åŠæ³•å°±æ˜¯ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œç”±ç»„ä»¶å†…éƒ¨é€šè¿‡ä¼ å‚çš„å½¢å¼é€šè¿‡å‡½æ•°åŠ¨æ€ç”Ÿæˆéœ€è¦æ¸²æŸ“çš„å…ƒç´ <br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Baz = <span class="function">(<span class="params">&#123; renderHead &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;renderHead(count)&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;Baz </span><br><span class="line">  renderHead=&#123;(count) =&gt; <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>count is &#123;count&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br><span class="line">&gt;&lt;<span class="regexp">/Baz&gt;</span></span><br></pre></td></tr></table></figure></p><p>é€šè¿‡å‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨ä¸æ”¹åŠ¨ç»„ä»¶å†…éƒ¨å®ç°çš„å‰æä¸‹ï¼Œåˆ©ç”¨ç»„ä»¶çš„æ•°æ®å®ç°UIåˆ†å‘å’Œé€»è¾‘å¤ç”¨ï¼Œç±»ä¼¼äºVueçš„æ’æ§½ä½œç”¨åŸŸï¼Œä¹Ÿè·ŸJavaScriptä¸­å¸¸è§çš„å›è°ƒå‡½æ•°ä½œç”¨ä¸€è‡´ã€‚</p><p>Reactå®˜æ–¹æŠŠè¿™ç§æŠ€æœ¯ç§°ä½œRender Props:</p><blockquote><p>Render Propsæ˜¯æŒ‡ä¸€ç§åœ¨ React ç»„ä»¶ä¹‹é—´ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„ prop å…±äº«ä»£ç çš„ç®€å•æŠ€æœ¯</p></blockquote><p>Render Propsæœ‰ä¸‹é¢å‡ ä¸ªç‰¹ç‚¹</p><ul><li>ä¹Ÿæ˜¯ä¸€ä¸ªpropï¼Œç”¨äºçˆ¶å­ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®</li><li>ä»–çš„å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å‚æ•°ç”±å­ç»„ä»¶åœ¨åˆé€‚çš„æ—¶å€™ä¼ å…¥</li><li>é€šå¸¸ç”¨æ¥render(æ¸²æŸ“)æŸä¸ªå…ƒç´ æˆ–ç»„ä»¶</li></ul><p>å†ä¸¾ä¸€ä¸ªæ›´å¸¸ç”¨çš„ä¾‹å­ï¼Œæ¸²æŸ“åˆ—è¡¨ç»„ä»¶ï¼Œ</p><p>3.3. propä¼ é€’ç»„ä»¶<br>ä¸Šé¢æåˆ°Render propsæ˜¯å€¼ä¸ºå‡½æ•°çš„propï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯ReactElementã€‚é‚£ä¸å°±æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶å—ï¼Ÿæ—¢ç„¶å¦‚æ­¤ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ç›´æ¥ä¼ é€’ç»„ä»¶å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><p>3.4. Render Propså­˜åœ¨çš„é—®é¢˜<br>Render Propså¯ä»¥æœ‰æ•ˆåœ°ä»¥æ¾æ•£è€¦åˆçš„æ–¹å¼è®¾è®¡ç»„ä»¶ï¼Œä½†ç”±äºå…¶æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿä¼šå­˜åœ¨å›è°ƒåµŒå¥—è¿‡æ·±çš„é—®é¢˜ï¼šå½“è¿”å›çš„èŠ‚ç‚¹ä¹Ÿéœ€è¦ä¼ å…¥render propsæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå¤šå±‚åµŒå¥—ã€‚</p><p>ä¸€ç§è§£å†³åŠæ³•æ˜¯ä½¿ç”¨<a href="https://github.com/pedronauck/react-adopt" target="_blank" rel="noopener">react-adopt</a>ï¼Œå®ƒæä¾›äº†ç»„åˆå¤šä¸ªrender propsè¿”å›ç»“æœçš„åŠŸèƒ½ã€‚</p><h2 id="4-Hooks"><a href="#4-Hooks" class="headerlink" title="4. Hooks"></a>4. Hooks</h2><h3 id="4-1-Hooksè§£å†³çš„é—®é¢˜"><a href="#4-1-Hooksè§£å†³çš„é—®é¢˜" class="headerlink" title="4.1. Hooksè§£å†³çš„é—®é¢˜"></a>4.1. Hooksè§£å†³çš„é—®é¢˜</h3><p>Reactä¸­ç»„ä»¶åˆ†ä¸ºäº†å‡½æ•°ç»„ä»¶å’ŒClassç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶æ˜¯æ— çŠ¶æ€çš„ï¼Œåœ¨Hooksä¹‹å‰ï¼Œåªèƒ½é€šè¿‡propsæ§åˆ¶å‡½æ•°ç»„ä»¶çš„æ•°æ®ï¼Œå¦‚æœå¸Œæœ›å®ç°ä¸€ä¸ªå¸¦çŠ¶æ€çš„ç»„ä»¶ï¼Œåˆ™éœ€è¦é€šè¿‡Classç»„ä»¶çš„instaceæ¥ç»´æŠ¤ã€‚</p><p>Classç»„ä»¶ä¸»è¦æœ‰å‡ ä¸ªé—®é¢˜</p><ul><li>é€»è¾‘åˆ†æ•£ï¼Œç›¸äº’å…³è¿çš„é€»è¾‘åˆ†æ•£åœ¨å„ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼›æ¯ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°åˆå¡æ»¡äº†å„ä¸ç›¸åŒçš„é€»è¾‘</li><li>é€»è¾‘å¤ç”¨éœ€è¦é€šè¿‡é«˜é˜¶ç»„ä»¶HOCæˆ–è€…Render Propsæ¥å¤„ç†ï¼Œ<br>ä¸è®ºæ˜¯HOCè¿˜æ˜¯Render Propsï¼Œéƒ½éœ€è¦é‡æ–°ç»„ç»‡ç»„ä»¶ç»“æ„ï¼Œå¾ˆå®¹æ˜“å½¢æˆç»„ä»¶åµŒå¥—ï¼Œä»£ç é˜…è¯»æ€§å’Œå¯ç»´æŠ¤æ€§éƒ½ä¼šå˜å·®ã€‚</li></ul><p>å› æ­¤éœ€è¦ä¸€ç§æ‰å¹³åŒ–çš„é€»è¾‘å¤ç”¨çš„æ–¹å¼ï¼Œå› æ­¤Hookså‡ºç°äº†ã€‚å…¶ä¼˜ç‚¹æœ‰</p><ul><li>æ‰å¹³åŒ–çš„é€»è¾‘å¤ç”¨ï¼Œåœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘</li><li>å°†ç›¸äº’å…³è”çš„éƒ¨åˆ†æ”¾åœ¨ä¸€èµ·ï¼Œäº’ä¸ç›¸å…³çš„åœ°æ–¹ç›¸äº’éš”ç¦»</li><li>å‡½æ•°å¼ç¼–ç¨‹</li></ul><p>## 5. å°ç»“<br>æœ¬æ–‡ä¸»è¦æ€»ç»“äº†å‡ ç§å°è£…Reactç»„ä»¶çš„æ–¹å¼ï¼ŒåŒ…æ‹¬æ­£å‘ç»§æ‰¿ã€HOCã€Render Propsã€ Hooksç­‰æ–¹å¼ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚æ°å¥½æœ€è¿‘å‚ä¸äº†æ–°çš„Reacté¡¹ç›®ï¼Œå¯ä»¥å¤šå°è¯•ä¸€ä¸‹è¿™äº›æ–¹æ³•ã€‚<br><!-- END#1 --></p><h1 id="2-é«˜é˜¶ç»„ä»¶-HOC-çš„å…¥é—¨åŠå®è·µ"><a href="#2-é«˜é˜¶ç»„ä»¶-HOC-çš„å…¥é—¨åŠå®è·µ" class="headerlink" title="2 é«˜é˜¶ç»„ä»¶(HOC)çš„å…¥é—¨åŠå®è·µ"></a>2 é«˜é˜¶ç»„ä»¶(HOC)çš„å…¥é—¨åŠå®è·µ</h1><p># 2 <a href="https://juejin.cn/post/6844904050236850184#heading-11" target="_blank" rel="noopener">Reacté«˜é˜¶ç»„ä»¶(HOC)çš„å…¥é—¨åŠå®è·µ</a><br>## ä½¿ç”¨é«˜é˜¶ç»„ä»¶çš„åŸå› ï¼ˆä¸ºä»€ä¹ˆâ“ï¼‰<br>å…³äºé«˜é˜¶ç»„ä»¶èƒ½è§£å†³çš„é—®é¢˜å¯ä»¥ç®€å•æ¦‚æ‹¬æˆä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š<br>1) æŠ½å–é‡å¤ä»£ç ï¼Œå®ç°ç»„ä»¶å¤ç”¨ï¼Œå¸¸è§åœºæ™¯ï¼šé¡µé¢å¤ç”¨ã€‚<br>1) æ¡ä»¶æ¸²æŸ“ï¼Œæ§åˆ¶ç»„ä»¶çš„æ¸²æŸ“é€»è¾‘ï¼ˆæ¸²æŸ“åŠ«æŒï¼‰ï¼Œå¸¸è§åœºæ™¯ï¼šæƒé™æ§åˆ¶ã€‚<br>1) æ•è·/åŠ«æŒè¢«å¤„ç†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¸¸è§åœºæ™¯ï¼šç»„ä»¶æ¸²æŸ“æ€§èƒ½è¿½è¸ªã€æ—¥å¿—æ‰“ç‚¹ã€‚</p><h2 id="é«˜é˜¶ç»„ä»¶çš„å®ç°ï¼ˆæ€ä¹ˆåšâ“ï¼‰"><a href="#é«˜é˜¶ç»„ä»¶çš„å®ç°ï¼ˆæ€ä¹ˆåšâ“ï¼‰" class="headerlink" title="é«˜é˜¶ç»„ä»¶çš„å®ç°ï¼ˆæ€ä¹ˆåšâ“ï¼‰"></a>é«˜é˜¶ç»„ä»¶çš„å®ç°ï¼ˆæ€ä¹ˆåšâ“ï¼‰</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®ç°é«˜é˜¶ç»„ä»¶çš„æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§:</p><ul><li>å±æ€§ä»£ç†(Props Proxy)<ul><li>è¿”å›ä¸€ä¸ªæ— çŠ¶æ€ï¼ˆstatelessï¼‰çš„å‡½æ•°ç»„ä»¶</li><li>è¿”å›ä¸€ä¸ª class ç»„ä»¶</li></ul></li><li>åå‘ç»§æ‰¿(Inheritance Inversion)</li></ul><p>é«˜é˜¶ç»„ä»¶å®ç°æ–¹å¼çš„å·®å¼‚æ€§å†³å®šäº†å®ƒä»¬å„è‡ªçš„åº”ç”¨åœºæ™¯ï¼šä¸€ä¸ª React ç»„ä»¶åŒ…å«äº† propsã€stateã€refã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€staticæ–¹æ³•å’ŒReact å…ƒç´ æ ‘å‡ ä¸ªé‡è¦éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘å°†ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å¯¹æ¯”ä¸¤</p><h3 id="å±æ€§ä»£ç†-Props-Proxy"><a href="#å±æ€§ä»£ç†-Props-Proxy" class="headerlink" title="å±æ€§ä»£ç†(Props Proxy)"></a>å±æ€§ä»£ç†(Props Proxy)</h3><ul><li>å±æ€§ä»£ç†æ˜¯æœ€å¸¸è§çš„å®ç°æ–¹å¼ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨ç»„åˆçš„æ–¹å¼ï¼Œé€šè¿‡å°†ç»„ä»¶åŒ…è£…åœ¨å®¹å™¨ç»„ä»¶ä¸­å®ç°åŠŸèƒ½ã€‚</li><li>å±æ€§ä»£ç†æ–¹å¼å®ç°çš„é«˜é˜¶ç»„ä»¶å’ŒåŸç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå…³ç³»å®Œå…¨æ˜¯Reactçˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå…³ç³»ï¼Œæ‰€ä»¥è¯¥æ–¹å¼å®ç°çš„é«˜é˜¶ç»„ä»¶ä¼šå½±å“åŸç»„ä»¶æŸäº›ç”Ÿå‘½å‘¨æœŸç­‰æ–¹æ³•ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ— çŠ¶æ€çš„å‡½æ•°ç»„ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newProps = &#123; <span class="attr">type</span>: <span class="string">'HOC'</span> &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">props</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...props</span>&#125; &#123;<span class="attr">...newProps</span>&#125;/&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæœ‰çŠ¶æ€çš„ class ç»„ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">const</span> newProps = &#123; <span class="attr">type</span>: <span class="string">'HOC'</span> &#125;;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; &#123;<span class="attr">...newProps</span>&#125;/&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>#### æ“ä½œ props<br>#### æŠ½è±¡ state<br>#### è·å– refs å¼•ç”¨<br>#### è·å–åŸç»„ä»¶çš„ static æ–¹æ³•<br>#### é€šè¿‡ props å®ç°æ¡ä»¶æ¸²æŸ“<br>#### ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹ä¼ å…¥çš„ç»„ä»¶<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»ä¼¼ä¸‹é¢çš„æ–¹å¼å°†åŸç»„ä»¶åŒ…è£¹èµ·æ¥ï¼Œä»è€Œå®ç°å¸ƒå±€æˆ–è€…æ˜¯æ ·å¼çš„ç›®çš„ï¼š</p><h3 id="åå‘ç»§æ‰¿"><a href="#åå‘ç»§æ‰¿" class="headerlink" title="åå‘ç»§æ‰¿"></a>åå‘ç»§æ‰¿</h3><p>åå‘ç»§æ‰¿æŒ‡çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªç»§æ‰¿äº†è¯¥ä¼ å…¥ç»„ä»¶çš„ç±»ç»„ä»¶ï¼Œä¸”åœ¨è¿”å›ç»„ä»¶çš„ render() æ–¹æ³•ä¸­è¿”å› super.render() æ–¹æ³•ï¼Œæœ€ç®€å•çš„å®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HOC = <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.render();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>#### åŠ«æŒåŸç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•<br>#### è¯»å–/æ“ä½œåŸç»„ä»¶çš„ state<br>#### æ¸²æŸ“åŠ«æŒ</p><h3 id="å±æ€§ä»£ç†å’Œåå‘ç»§æ‰¿çš„å¯¹æ¯”"><a href="#å±æ€§ä»£ç†å’Œåå‘ç»§æ‰¿çš„å¯¹æ¯”" class="headerlink" title="å±æ€§ä»£ç†å’Œåå‘ç»§æ‰¿çš„å¯¹æ¯”"></a>å±æ€§ä»£ç†å’Œåå‘ç»§æ‰¿çš„å¯¹æ¯”</h3><p>## å…·ä½“å®è·µ<br>### é¡µé¢å¤ç”¨<br>### æƒé™æ§åˆ¶<br>### ç»„ä»¶æ¸²æŸ“æ€§èƒ½è¿½è¸ª<br>## æ‰©å±•é˜…è¯»ï¼ˆQ &amp; Aï¼‰<br>### Hook ä¼šæ›¿ä»£é«˜é˜¶ç»„ä»¶å—ï¼Ÿ<br><!-- END#2 --></p><h1 id="3-ä½¿ç”¨React-hooks"><a href="#3-ä½¿ç”¨React-hooks" class="headerlink" title="3 ä½¿ç”¨React hooks"></a>3 ä½¿ç”¨React hooks</h1><p># 3 SS <a href="https://developer.aliyun.com/article/900776#slide-52" target="_blank" rel="noopener">ä½¿ç”¨React hooksï¼Œäº›è®¸åˆå¤šäº†ä¸å°‘æ‘¸é±¼æ—¶é—´</a><br>ä¸€ã€ğŸ“»æ¦‚è¿°<br>1ã€å…³äºReact Hooks<br>â€¢ React Hooks æ˜¯ä¸€ä¸ªå¯é€‰åŠŸèƒ½ï¼Œé€šå¸¸ç”¨ class ç»„ä»¶ æ¥å’Œå®ƒåšæ¯”è¾ƒï¼›<br>â€¢ 100% å‘åå…¼å®¹ï¼Œæ²¡æœ‰ç ´åæ€§æ”¹åŠ¨ï¼›<br>â€¢ ä¸ä¼šå–ä»£ class ç»„ä»¶ï¼Œå°šæ— è®¡åˆ’è¦ç§»é™¤ class ç»„ä»¶ã€‚</p><p>2ã€è®¤è¯†React Hooks<br>ï¼ˆ1ï¼‰å›é¡¾Reactå‡½æ•°å¼ç»„ä»¶<br>ï¼ˆ2ï¼‰å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹</p><ul><li>æ²¡æœ‰ç»„ä»¶å®ä¾‹ï¼›</li><li>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼›</li><li>æ²¡æœ‰ state å’Œ setState ï¼Œåªèƒ½æ¥æ”¶ props ã€‚<br>ï¼ˆ3ï¼‰classç»„ä»¶çš„é—®é¢˜<br>ä¸Šé¢æˆ‘ä»¬è¯´åˆ°äº†å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œåªèƒ½æ¥æ”¶ props ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–åŠŸèƒ½ã€‚è€Œ class ç»„ä»¶æ‹¥æœ‰ä»¥ä¸ŠåŠŸèƒ½ï¼Œä½†æ˜¯å‘¢ï¼Œclass ç»„ä»¶ä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</li><li>å¤§å‹ç»„ä»¶å¾ˆéš¾æ‹†åˆ†å’Œé‡æ„ï¼Œå¾ˆéš¾æµ‹è¯•ï¼ˆå³ class ä¸æ˜“æ‹†åˆ†ï¼‰ï¼›</li><li>ç›¸åŒä¸šåŠ¡é€»è¾‘ï¼Œåˆ†æ•£åˆ°å„ä¸ªæ–¹æ³•ä¸­ï¼Œé€»è¾‘æ··ä¹±ï¼›</li><li>å¤ç”¨é€»è¾‘å˜å¾—å¤æ‚ï¼Œå¦‚ Mixins ã€ HOC ã€ Render Props ã€‚</li></ul><p>å› æ­¤ï¼Œæœ‰äº†ä»¥ä¸Šé—®é¢˜çš„å‡ºç°ï¼Œä¹Ÿå°±æœ‰äº† React Hooks ã€‚<br>ï¼ˆ4ï¼‰React ç»„ä»¶<br>â€¢ React ç»„ä»¶æ›´æ˜“äºç”¨å‡½æ•°æ¥è¡¨è¾¾ï¼š<br>â€¢ React æå€¡å‡½æ•°å¼ç¼–ç¨‹ï¼Œå³ view=fn(props) ï¼›<br>â€¢ å‡½æ•°æ›´çµæ´»ï¼Œæ›´æ˜“æ‹†åˆ†ï¼Œæ›´æ˜“æµ‹è¯•ï¼›<br>â€¢ ä½†å‡½æ•°ç»„ä»¶å¤ªç®€å•ï¼Œéœ€è¦å¢å¼ºèƒ½åŠ› â€”â€”å› æ­¤ï¼Œæœ‰äº† React Hooks ã€‚<br>äºŒã€ğŸª•å‡ ç§ Hooks</p><h2 id="ä¸‰ã€âŒ¨ï¸React-Hooksç»„ä»¶é€»è¾‘å¤ç”¨"><a href="#ä¸‰ã€âŒ¨ï¸React-Hooksç»„ä»¶é€»è¾‘å¤ç”¨" class="headerlink" title="ä¸‰ã€âŒ¨ï¸React-Hooksç»„ä»¶é€»è¾‘å¤ç”¨"></a>ä¸‰ã€âŒ¨ï¸React-Hooksç»„ä»¶é€»è¾‘å¤ç”¨</h2><p>1ã€classç»„ä»¶çš„é€»è¾‘å¤ç”¨<br>class ç»„ä»¶æœ‰ä¸‰ç§é€»è¾‘å¤ç”¨å½¢å¼ã€‚åˆ†åˆ«æ˜¯ï¼š</p><ul><li>Mixin</li><li>é«˜é˜¶ç»„ä»¶ HOC</li><li>Render Prop</li></ul><p>ä¸‹é¢è¯´ä¸‹å®ƒä»¬ä¸‰è€…å„è‡ªçš„ç¼ºç‚¹ã€‚<br>ï¼ˆ1ï¼‰Mixin</p><ul><li>å˜é‡ä½œç”¨åŸŸæ¥æºä¸æ¸…</li><li>å±æ€§é‡å</li><li>mixins å¼•å…¥è¿‡å¤šä¼šå¯¼è‡´é¡ºåºå†²çª<br>ï¼ˆ2ï¼‰é«˜é˜¶ç»„ä»¶ HOC</li><li>ç»„ä»¶å±‚çº§åµŒå¥—è¿‡å¤šï¼Œä¸æ˜“æ¸²æŸ“ï¼Œä¸æ˜“è°ƒè¯•</li><li>HOC ä¼šåŠ«æŒ props ï¼Œå¿…é¡»ä¸¥æ ¼è§„èŒƒï¼Œå®¹æ˜“å‡ºç°ç–æ¼<br>ï¼ˆ3ï¼‰Render Prop</li><li>å­¦ä¹ æˆæœ¬é«˜ï¼Œä¸æ˜“ç†è§£</li><li>åªèƒ½ä¼ é€’çº¯å‡½æ•°ï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹çº¯å‡½æ•°åŠŸèƒ½æœ‰é™</li></ul><p>äº†è§£äº†ä¸‰ç§ class ç»„ä»¶çš„ç¼ºç‚¹ä¹‹åï¼Œç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨ Hooks åšç»„ä»¶é€»è¾‘å¤ç”¨ã€‚</p><h3 id="2ã€ä½¿ç”¨-Hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨"><a href="#2ã€ä½¿ç”¨-Hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨" class="headerlink" title="2ã€ä½¿ç”¨ Hooks åšç»„ä»¶é€»è¾‘å¤ç”¨"></a>2ã€ä½¿ç”¨ Hooks åšç»„ä»¶é€»è¾‘å¤ç”¨</h3><p>ä½¿ç”¨ hooks æ¥ä½¿å¾—ç»„ä»¶å¯ä»¥è¿›è¡Œé€»è¾‘å¤ç”¨çš„æœ¬è´¨æ˜¯ï¼šè‡ªå®šä¹‰ hooks ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºã€‚<br>useMousePosition</p><!-- END#3 --><h1 id="4-React-Hooksï¼šå‘è¯·æ±‚è¿™ä»¶å°äº‹"><a href="#4-React-Hooksï¼šå‘è¯·æ±‚è¿™ä»¶å°äº‹" class="headerlink" title="4 React Hooksï¼šå‘è¯·æ±‚è¿™ä»¶å°äº‹"></a>4 React Hooksï¼šå‘è¯·æ±‚è¿™ä»¶å°äº‹</h1><p># 4 <a href="https://zhuanlan.zhihu.com/p/72596932" target="_blank" rel="noopener">React Hooks ç¬¬äºŒæœŸï¼šå‘è¯·æ±‚è¿™ä»¶å°äº‹</a><br>## useData ?<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useData</span>(<span class="params">dataLoader</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> currentDataLoader = useRef(<span class="literal">null</span>);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    currentDataGetter.current = dataGetter;</span><br><span class="line"></span><br><span class="line">    dataLoader().then(<span class="function">(<span class="params">responseData</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¦‚æœæœ‰æ›´æ–°çš„è¯·æ±‚ï¼Œæ”¾å¼ƒä¹‹å‰çš„</span></span><br><span class="line">      <span class="keyword">if</span> (currentDataGetter.current !== dataGetter) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      setData(responseData);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, [dataLoader);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>## å¤„ç†å¼‚æ­¥çŠ¶æ€<br>ä»¥ä¸Šçš„ useData åªèƒ½è§£å†³å…³äºæ•°æ®è·å–çš„é‚£ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä¸ºäº†å¤„ç†æˆ‘ä»¬å¾—åˆ°çš„å‡ ä¸ªçŠ¶æ€ï¼Œä¸å…éœ€è¦å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (loading &amp;&amp; data == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Spin</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Exception</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    &lt;Spin loading=&#123;loading&#125;&gt;</span><br><span class="line">    &#123;renderMovieList(movieListData)&#125;</span><br><span class="line">    &lt;<span class="regexp">/Spin&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure></p><h2 id="renderProps"><a href="#renderProps" class="headerlink" title="renderProps"></a>renderProps</h2><p>ä¹…è€Œä¹…ä¹‹æˆ‘ä»¬ä¼šå‘ç°åœ¨æ‰€æœ‰ä½¿ç”¨è¿™ä¸ª useData çš„ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éƒ½é¿å…ä¸äº†æ‰‹å†™è¿™ä¸¤ä¸ª ifã€‚ä½†æ˜¯ hooks åªèƒ½è§£å†³ç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜ï¼Œæ²¡æ³•å°è£…ä¸€äº› render çš„é€»è¾‘ã€‚å…¶å®è¿™é‡Œ<strong>æœ€æœ‰æ•ˆçš„è§£å†³æ–¹æ³•å°±æ˜¯ Suspense</strong>ï¼Œä½†æ˜¯å› ä¸ºè¿˜æ²¡æœ‰å‘å¸ƒï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³åˆ°äº† <strong>renderProps</strong>:<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DataBoundary</span>(<span class="params">&#123; data, loading, error, children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (loading) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Spin</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Spin</span> <span class="attr">loading</span>=<span class="string">&#123;loading&#125;</span>&gt;</span>&#123;children(data)&#125;<span class="tag">&lt;/<span class="name">Spin</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*  */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MovieList</span>(<span class="params">&#123; page, size &#125;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> queryMovieList = useCallback(<span class="function">(<span class="params">page, size</span>) =&gt;</span> api.queryMovieList(&#123; page, size &#125;), [page, size]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> movieListResult = useData(queryMovieList);</span><br><span class="line">  <span class="comment">// const &#123; data: movieListData, loading, error &#125; = useData(queryMovieList);</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;DataBoundary &#123;...movieListResult&#125;&gt;</span><br><span class="line">    &#123;<span class="comment">/* &lt;DataBoundary data=&#123;movieListData&#125; loading=&#123;loading&#125; error=&#123;error&#125;&gt; */</span>&#125;</span><br><span class="line">      &#123;(data) =&gt; renderMovieList(data)&#125;</span><br><span class="line">    &lt;<span class="regexp">/DataBoundary&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  function renderMovieList(movieList) &#123;</span></span><br><span class="line"><span class="regexp">    return movieList.map(item =&gt; &lt;MovieItem key=&#123;item.id&#125; data=&#123;item&#125; /</span>&gt;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨ DataBoundary é‡Œï¼Œæˆ‘ä»¬å°è£…äº†å…³äºå¼‚æ­¥çŠ¶æ€å¤„ç†çš„æ¸²æŸ“æµç¨‹ï¼Œè¿˜å¯ä»¥æä¾›å‡ºç±»ä¼¼ fallback çš„é’©å­ï¼Œæ»¡è¶³éœ€è¦å®šåˆ¶åŒ–çš„ç»„ä»¶åœºæ™¯ã€‚ç”¨å®ƒåšåˆ°äº†ç±»ä¼¼äº Suspense çš„äº‹æƒ…ã€‚</p><p>## All in Hooksï¼Ÿ<br>ä½†æ˜¯å¦‚æœæˆ‘ä»¬çœŸçš„æƒ³åœ¨ hooks é‡Œå®Œæˆæ‰€æœ‰çš„äº‹æƒ…å‘¢ï¼Ÿè¿™é‡Œå†æŠ›å‡ºä¸€ä¸ªå½©è›‹ï¼š</p><p>å¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨ hooks ä¸­è¿”å›ä¸€ä¸ª â€œrenderPropâ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæ•´çš„å°† render ç›¸å…³çš„é€»è¾‘ä¹Ÿå°è£…åœ¨ hooks é‡Œäº†ï¼Œä½†æ˜¯åŒæ—¶è¿™æ ·ä¹Ÿä¼šä½¿å¾—ä¸€ä¸ª hook é‡Œçš„ä»£ç å˜å¾—å¤æ‚ï¼Œè¿™é‡Œåªæ˜¯æä¾›ä¸€ç§æ€è·¯ã€‚é‚£ä¹ˆè¿™ä¸¤ç§å†™æ³•ä½ æ›´å–œæ¬¢é‚£ä¸ªå‘¢ï¼Ÿ</p><!-- END#4 --><h1 id="44-Suspense"><a href="#44-Suspense" class="headerlink" title="44 Suspense"></a>44 Suspense</h1><p># 44 <a href="https://juejin.cn/post/7155268983246028807#heading-1" target="_blank" rel="noopener">Reactç»„ä»¶å¦‚ä½•ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥æ•°æ®</a><br>PS: Suspense æ–‡æ¡£åªå¤„ç†åŠ¨æ€åŠ è½½ç»„ä»¶ï¼›å¹¶æ²¡æœ‰æ‹¦æˆªæ¸²æŸ“çš„è¯´æ˜ã€‚<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ErrorBoundary <span class="keyword">from</span> <span class="string">"./ErrorBoundary"</span></span><br><span class="line"><span class="keyword">import</span> RandomWord <span class="keyword">from</span> <span class="string">"./RandomWord"</span></span><br><span class="line"><span class="keyword">import</span> &#123;Suspense&#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">   &lt;ErrorBoundary&gt;</span><br><span class="line">    &lt;Suspense fallback=&#123;&lt;div&gt;loading...&lt;<span class="regexp">/div&gt;&#125;&gt;</span></span><br><span class="line"><span class="regexp">      &lt;RandomWord /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/Suspense&gt;</span></span><br><span class="line"><span class="regexp">   &lt;/</span>ErrorBoundary&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App</span><br></pre></td></tr></table></figure></p><!-- END#44 --><h1 id="5-Reactçš„render-propsæ¨¡å¼"><a href="#5-Reactçš„render-propsæ¨¡å¼" class="headerlink" title="5 Reactçš„render-propsæ¨¡å¼"></a>5 Reactçš„render-propsæ¨¡å¼</h1><p># 5 <a href="https://www.jianshu.com/p/8d69a74fc5b3" target="_blank" rel="noopener">Reactçš„render-propsæ¨¡å¼ã€é«˜é˜¶ç»„ä»¶</a><br>props.render()æ¨¡å¼<br>ä½¿ç”¨childrenä»£æ›¿render</p><h2 id="ä½¿ç”¨displayName"><a href="#ä½¿ç”¨displayName" class="headerlink" title="ä½¿ç”¨displayName"></a>ä½¿ç”¨displayName</h2><p>ä½¿ç”¨äº†é«˜é˜¶ç»„ä»¶ä¹‹åä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜: å¼€å‘è€…å·¥å…·ä¼šæ˜¾ç¤ºä¸¤ä¸ªç»„ä»¶åç§°ä¸€æ ·çš„ç»„ä»¶</p><p>å› ä¸ºé»˜è®¤æƒ…å†µä¸‹, Reactä¼šä½¿ç”¨ç»„ä»¶åç§°ä½œä¸ºç»„ä»¶åç§°,æ‰€æœ‰åœ¨ä¸¤ä¸ªç»„ä»¶éƒ½ä½¿ç”¨äº†é«˜é˜¶ç»„ä»¶çš„æƒ…å†µä¸‹,ä¸¤ä¸ªç»„ä»¶çš„å¤–å£³éƒ½æ˜¯å…¶é«˜é˜¶ç»„ä»¶çš„åç§°</p><p>è§£å†³æ–¹æ¡ˆ: æ‰‹åŠ¨è®¾ç½®displayName<br>ä½¿ç”¨æ­¥éª¤<br>åœ¨é«˜é˜¶ç»„ä»¶çš„å‡½æ•°å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•°getDisplayName(){}æŠŠä¼ å…¥ç»„ä»¶ä½œä¸ºå‚æ•°ä¼ å…¥è¿™ä¸ªå‡½æ•°</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°,åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»å¼ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> withMouse = <span class="function"><span class="params">WarppedComponent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¤ç”¨çš„é€»è¾‘ä»£ç </span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è®¾ç½®å¼€å‘è€…å·¥å…·æ˜¾ç¤ºåç§°,å¦‚æœä¸è®¾ç½®å¼€å‘è€…å·¥å…·æ˜¾ç¤ºçš„å¤–å£³ç»„ä»¶éƒ½æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getDisplayName</span>(<span class="params">WarppedComponent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> WarppedComponent.displayName || WarppedComponent.name || <span class="string">'Component'</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ç»™ç»„ä»¶æ·»åŠ displayNameå±æ€§</span></span><br><span class="line">  Mouse.displayName = <span class="string">`WithMouse<span class="subst">$&#123;getDisplayName(WarppedComponent)&#125;</span>`</span></span><br><span class="line">  <span class="keyword">return</span> Mouse</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withMouse</span><br></pre></td></tr></table></figure><!-- END#5--><h1 id="111-é«˜é˜¶ç»„ä»¶å’Œaxiosçš„æ‹¦æˆªå™¨"><a href="#111-é«˜é˜¶ç»„ä»¶å’Œaxiosçš„æ‹¦æˆªå™¨" class="headerlink" title="111 é«˜é˜¶ç»„ä»¶å’Œaxiosçš„æ‹¦æˆªå™¨"></a>111 é«˜é˜¶ç»„ä»¶å’Œaxiosçš„æ‹¦æˆªå™¨</h1><p># 111 <a href="https://zhuanlan.zhihu.com/p/34192569" target="_blank" rel="noopener">Reactä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶å’Œaxiosçš„æ‹¦æˆªå™¨ï¼Œç»Ÿä¸€å¤„ç†è¯·æ±‚å¤±è´¥æç¤º</a><br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (WrappedComponent) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">      <span class="keyword">super</span>(props)</span><br><span class="line">      <span class="keyword">this</span>.state = &#123;</span><br><span class="line">        error: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">      axios.interceptors.response.use(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;,  (error) =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          error: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">const</span> errorElem = <span class="keyword">this</span>.state.error ? <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è¯·æ±‚å‡ºé”™äº†<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> : <span class="literal">null</span></span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &#123; errorElem &#125;</span><br><span class="line">          &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><!-- END#111 --><p># ç¬¬ä¸‰æ–¹åº“</p><h1 id="react-adopt"><a href="#react-adopt" class="headerlink" title="react-adopt"></a>react-adopt</h1><p>react-adopt: <a href="https://github.com/pedronauck/react-adopt" target="_blank" rel="noopener">https://github.com/pedronauck/react-adopt</a></p><p>React Adopt - Compose render props components like a pro</p><h1 id="SWR"><a href="#SWR" class="headerlink" title="SWR"></a>SWR</h1><p>SWR: <a href="https://swr.vercel.app/zh-CN" target="_blank" rel="noopener">https://swr.vercel.app/zh-CN</a><br>vercel/swr: <a href="https://github.com/vercel/swr" target="_blank" rel="noopener">https://github.com/vercel/swr</a><br>â€œSWRâ€ è¿™ä¸ªåå­—æ¥è‡ªäº stale-while-revalidateï¼šä¸€ç§ç”± HTTP RFC 5861(opens in a new tab) æ¨å¹¿çš„ HTTP ç¼“å­˜å¤±æ•ˆç­–ç•¥ã€‚è¿™ç§ç­–ç•¥é¦–å…ˆä»ç¼“å­˜ä¸­è¿”å›æ•°æ®ï¼ˆè¿‡æœŸçš„ï¼‰ï¼ŒåŒæ—¶å‘é€ fetch è¯·æ±‚ï¼ˆé‡æ–°éªŒè¯ï¼‰ï¼Œæœ€åå¾—åˆ°æœ€æ–°æ•°æ®ã€‚</p><blockquote><p>ä½¿ç”¨ SWRï¼Œç»„ä»¶å°†ä¼šä¸æ–­åœ°ã€è‡ªåŠ¨è·å¾—æœ€æ–°æ•°æ®æµã€‚<br>UI ä¹Ÿä¼šä¸€ç›´ä¿æŒå¿«é€Ÿå“åº”ã€‚</p></blockquote><h1 id="useRequest"><a href="#useRequest" class="headerlink" title="useRequest"></a>useRequest</h1><p><a href="https://github.com/alibaba/hooks" target="_blank" rel="noopener">https://github.com/alibaba/hooks</a><br><code>import { useRequest } from &#39;ahooks&#39;;</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRequest &#125; <span class="keyword">from</span> <span class="string">'@umijs/hooks'</span>;</span><br><span class="line">â€‹</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUsername</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">'jack'</span>);</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; data, error, loading &#125; = useRequest(getUsername)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>failed to load<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Username: &#123;data&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><a href="https://zhuanlan.zhihu.com/p/106796295" target="_blank" rel="noopener">useRequest- èš‚èšä¸­å°æ ‡å‡†è¯·æ±‚ Hooks</a><br>ä½†æ—¥å¸¸å·¥ä½œä¸­ï¼Œåªç”¨ä¸€ä¸ª useAsync è¿˜æ˜¯ä¸å¤Ÿçš„ï¼ŒUmi Hooks ä¸­å’Œç½‘ç»œè¯·æ±‚ç›¸å…³çš„ Hooks å°±æœ‰éå¸¸å¤šã€‚æ¯”å¦‚å’Œåˆ†é¡µè¯·æ±‚ç›¸å…³çš„ usePaginationï¼Œè¯·æ±‚è‡ªå¸¦é˜²æŠ–çš„ useSearchï¼Œå†…ç½® umi-request çš„ useAPIï¼ŒåŠ è½½æ›´å¤šåœºæ™¯çš„ useLoadMoreï¼Œç­‰ç­‰ç­‰ç­‰ã€‚</p><p>åŒæ—¶éšç€ zeit/swr çš„è¯ç”Ÿï¼Œç»™äº†æˆ‘ä»¬å¾ˆå¤šçµæ„Ÿï¼ŒåŸæ¥ç½‘ç»œè¯·æ±‚è¿˜å¯ä»¥è¿™ä¹ˆç©ï¼swr æœ‰éå¸¸å¤šå¥½ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³ä¸åˆ°çš„èƒ½åŠ›ã€‚æ¯”å¦‚ï¼š</p><ul><li>å±å¹•èšç„¦é‡æ–°å‘èµ·è¯·æ±‚ã€‚</li><li>swr èƒ½åŠ›ã€‚</li></ul><p>èƒ½åŠ›ä»‹ç»</p><ul><li>åŸºç¡€ç½‘ç»œè¯·æ±‚</li><li>æ‰‹åŠ¨è¯·æ±‚</li><li>è½®è¯¢</li><li>å¹¶è¡Œè¯·æ±‚</li><li>é˜²æŠ– &amp; èŠ‚æµ</li><li>ç¼“å­˜ &amp; SWR &amp; é¢„åŠ è½½</li><li>å±å¹•èšç„¦é‡æ–°è¯·æ±‚</li><li>é›†æˆè¯·æ±‚åº“</li><li>åˆ†é¡µ</li><li>åŠ è½½æ›´å¤š</li></ul><!-- > çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå †ç Œäº†å¾ˆå¤šä¸šåŠ¡åŠŸèƒ½çš„å¤åˆ» swrï¼Œæ²¡æœ‰ä»€ä¹ˆå€¼å¾—å…´å¥‹çš„åœ°æ–¹ã€‚ä¸è¿‡é¡¹ç›®æ”¶è—äº†ï¼Œå¯ä»¥æé†’ä¸€ä¸‹è‡ªå·±ä¸è¦å†™å‡ºç¼ºä¹æŠ€æœ¯å®¡ç¾çš„ä¸œè¥¿ã€‚ --><h1 id="42-fetching-box"><a href="#42-fetching-box" class="headerlink" title="42 fetching-box"></a>42 fetching-box</h1><p>fetching-box: <a href="https://github.com/GitHubJiKe/fetching-box" target="_blank" rel="noopener">https://github.com/GitHubJiKe/fetching-box</a></p><blockquote><p>React å¼€å‘ä¸­ï¼Œæ›´ç®€æ´ã€ä¼˜é›…çš„å¤„ç† loadingã€error ä»¥åŠç»Ÿä¸€ Container æ ·å¼çš„é—®é¢˜çš„æ€è·¯<br><!-- PS: åˆ©ç”¨render props é«˜é˜¶ç»„ä»¶ã€‚ --><br><!-- END#42 fetching-box--></p></blockquote><!-- \# å…¶ä»–ä¸‹é¢ä¸¤ç¯‡å’Œæƒ³è¦å®ç°çš„åŠŸèƒ½ä¸åŒ¹é…äº†[loading åŠ¨ç”» æ”¾åœ¨è¯·æ±‚æ‹¦æˆªé‡Œåšç»Ÿä¸€å¤„ç†ï¼Œè¿˜æ˜¯æ”¾åœ¨æ¯ä¸ªé¡µé¢é‡Œï¼Ÿ](https://www.zhihu.com/question/361499790)[Reacté¡¹ç›®ä¼˜åŒ–(2)-ä½¿ç”¨Axios+CommonModelç»Ÿä¸€å¤„ç†Loading](https://juejin.cn/post/7105994337913143333) --><h1 id="Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“04-ç»„ä»¶çš„æ€ç»´"><a href="#Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“04-ç»„ä»¶çš„æ€ç»´" class="headerlink" title="Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“04 - ç»„ä»¶çš„æ€ç»´"></a>Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“04 - ç»„ä»¶çš„æ€ç»´</h1><!-- \# [Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“04 - ç»„ä»¶çš„æ€ç»´](https://juejin.cn/post/6844903844711759880) --><ol><li>é«˜é˜¶ç»„ä»¶</li><li>Render Props</li><li>ä½¿ç”¨ç»„ä»¶çš„æ–¹å¼æ¥æŠ½è±¡ä¸šåŠ¡é€»è¾‘</li><li>hooks å–ä»£é«˜é˜¶ç»„ä»¶</li><li>hooks å®ç°å“åº”å¼ç¼–ç¨‹</li><li>ç±»ç»§æ‰¿ä¹Ÿæœ‰ç”¨å¤„</li><li>æ¨¡æ€æ¡†ç®¡ç†</li><li>ä½¿ç”¨ Context è¿›è¡Œä¾èµ–æ³¨å…¥</li><li>ä¸å¯å˜çš„çŠ¶æ€</li><li>React-router: URL å³çŠ¶æ€</li><li>ç»„ä»¶è§„èŒƒ<br>æ‰©å±•</li></ol><h2 id="4-hooks-å–ä»£é«˜é˜¶ç»„ä»¶"><a href="#4-hooks-å–ä»£é«˜é˜¶ç»„ä»¶" class="headerlink" title="4. hooks å–ä»£é«˜é˜¶ç»„ä»¶"></a>4. hooks å–ä»£é«˜é˜¶ç»„ä»¶</h2><p>è‡ªå®šä¹‰ hook å’Œå‡½æ•°ç»„ä»¶çš„ä»£ç ç»“æ„åŸºæœ¬ä¸€è‡´, æ‰€ä»¥æœ‰æ—¶å€™hooks å†™ç€å†™ç€åŸæ¥è¶Šåƒç»„ä»¶, ç»„ä»¶å†™ç€å†™ç€è¶Šåƒ hooks. æˆ‘è§‰å¾—å¯ä»¥è®¤ä¸ºç»„ä»¶å°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„ hook, åªä¸è¿‡å®ƒè¾“å‡º Virtual DOM.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šç»Ÿä¸€å¤„ç†é¡µé¢æ¥å£æ•°æ®åŠ è½½ï¼›å¹¶ä¸”æ¸²æŸ“ä¸åŒçŠ¶æ€çš„uiã€‚&lt;br&gt;    æˆ–è€…æ˜¯å­ç»„ä»¶ï¼›ä¹Ÿå¯ä»¥è‡ªå®šä¹‰loading/skeletonï¼Œerrorã€‚&lt;br&gt;æœ€åï¼šé«˜é˜¶ç»„ä»¶-render props&lt;br&gt;&lt;!-- å®ç°ä¸Šå‚è€ƒï¼šå…ˆ1 -ã€‹ 4 -ã€‹5ã€‚ æœ€åå‘ç°æ˜¯2çš„å®è·µ
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
      <category term="react.js" scheme="http://yoursite.com/tags/react-js/"/>
    
  </entry>
  
  <entry>
    <title>éª¨æ¶å±æ–¹æ¡ˆ</title>
    <link href="http://yoursite.com/sum/jsplus/%E9%AA%A8%E6%9E%B6%E5%B1%8F%E6%96%B9%E6%A1%88/"/>
    <id>http://yoursite.com/sum/jsplus/éª¨æ¶å±æ–¹æ¡ˆ/</id>
    <published>2023-03-03T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.382Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right"> 2023.3.3 æ˜ŸæœŸäº” </p><h1 id="å®é™…"><a href="#å®é™…" class="headerlink" title="å®é™…"></a>å®é™…</h1><p>é€šè¿‡chromeæ’ä»¶<!-- æµè§ˆå™¨æ’ä»¶ï¼špage-web-skeleton -->ï¼Œç”Ÿæˆäº†éª¨æ¶å±ä»£ç ï¼Œæ”¾åˆ°<code>&lt;div id=&#39;app&#39;&gt;&lt;/div&gt;</code> å†…ã€‚<br>ä¹Ÿå¯ä»¥åœ¨æ¥å£è¯·æ±‚ç»“æŸåç§»é™¤éª¨æ¶å±ã€‚</p><h1 id="åŸºæœ¬æ–¹å¼"><a href="#åŸºæœ¬æ–¹å¼" class="headerlink" title="åŸºæœ¬æ–¹å¼"></a>åŸºæœ¬æ–¹å¼</h1><!-- \#1-SSS [Vueé¡¹ç›®éª¨æ¶å±æ³¨å…¥å®è·µ](https://www.f2ecoder.net/814.html) --><p>ç”Ÿæˆéª¨æ¶å±çš„æ–¹å¼ä¸»è¦æœ‰ï¼š</p><ol><li>æ‰‹å†™HTMLã€CSSçš„æ–¹å¼ä¸ºç›®æ ‡é¡µå®šåˆ¶éª¨æ¶å±<br>åšæ³•å¯ä»¥å‚è€ƒã€Vueé¡µé¢éª¨æ¶å±æ³¨å…¥å®è·µã€‘ï¼Œä¸»è¦æ€è·¯å°±æ˜¯ä½¿ç”¨ vue-server-renderer è¿™ä¸ªæœ¬æ¥ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“çš„æ’ä»¶ï¼Œç”¨æ¥æŠŠæˆ‘ä»¬å†™çš„.vueæ–‡ä»¶å¤„ç†ä¸ºHTMLï¼Œæ’å…¥åˆ°é¡µé¢æ¨¡æ¿çš„æŒ‚è½½ç‚¹ä¸­ï¼Œå®Œæˆéª¨æ¶å±çš„æ³¨å…¥ã€‚è¿™ç§æ–¹å¼ä¸ç”šæ–‡æ˜ï¼Œå¦‚æœé¡µé¢æ ·å¼æ”¹å˜äº†ï¼Œè¿˜å¾—æ”¹ä¸€ééª¨æ¶å±ï¼Œå¢åŠ äº†ç»´æŠ¤æˆæœ¬ã€‚ éª¨æ¶å±çš„æ ·å¼å®ç°å‚è€ƒ CodePen</li><li>ä½¿ç”¨å›¾ç‰‡ä½œä¸ºéª¨æ¶å±ï¼›<br>ç®€å•æš´åŠ›ï¼Œè®©UIåŒå­¦èŠ±ç‚¹åŠŸå¤«å§å“ˆå“ˆï¼›å°ç±³å•†åŸçš„ç§»åŠ¨ç«¯é¡µé¢é‡‡ç”¨çš„å°±æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªBase64çš„å›¾ç‰‡æ¥ä½œä¸ºéª¨æ¶å±ã€‚</li><li>è‡ªåŠ¨ç”Ÿæˆå¹¶è‡ªåŠ¨æ’å…¥é™æ€éª¨æ¶å± <!-- è¿™ç§æ–¹æ³•è·Ÿç¬¬ä¸€ç§æ–¹æ³•ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±ï¼Œå¯ä»¥å…³æ³¨ä¸‹é¥¿äº†ä¹ˆå¼€æºçš„æ’ä»¶ page-skeleton-webpack-plugin ï¼Œå®ƒæ ¹æ®é¡¹ç›®ä¸­ä¸åŒçš„è·¯ç”±é¡µé¢ç”Ÿæˆç›¸åº”çš„éª¨æ¶å±é¡µé¢ï¼Œå¹¶å°†éª¨æ¶å±é¡µé¢é€šè¿‡ webpack æ‰“åŒ…åˆ°å¯¹åº”çš„é™æ€è·¯ç”±é¡µé¢ä¸­ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæ’ä»¶ç›®å‰åªæ”¯æŒhistoryæ–¹å¼çš„è·¯ç”±ï¼Œä¸æ”¯æŒhashæ–¹å¼ï¼Œä¸”ç›®å‰åªæ”¯æŒé¦–é¡µçš„éª¨æ¶å±ï¼Œå¹¶æ²¡æœ‰ç»„ä»¶çº§çš„å±€éƒ¨éª¨æ¶å±å®ç°ï¼Œä½œè€…è¯´ä»¥åä¼šæœ‰è®¡åˆ’å®ç°(issue9)ã€‚ --></li><li>vue-skeleton-webpack-plugin<!-- å¦å¤–è¿˜æœ‰ä¸ªæ’ä»¶ vue-skeleton-webpack-pluginï¼Œå®ƒå°†æ’å…¥éª¨æ¶å±çš„æ–¹å¼ç”±æ‰‹åŠ¨æ”¹ä¸ºè‡ªåŠ¨ï¼ŒåŸç†åœ¨æ„å»ºæ—¶ä½¿ç”¨ Vue é¢„æ¸²æŸ“åŠŸèƒ½ï¼Œå°†éª¨æ¶å±ç»„ä»¶çš„æ¸²æŸ“ç»“æœ HTML ç‰‡æ®µæ’å…¥ HTML é¡µé¢æ¨¡ç‰ˆçš„æŒ‚è½½ç‚¹ä¸­ï¼Œå°†æ ·å¼å†…è”åˆ° head æ ‡ç­¾ä¸­ã€‚è¿™ä¸ªæ’ä»¶å¯ä»¥ç»™å•é¡µé¢çš„ä¸åŒè·¯ç”±è®¾ç½®ä¸åŒçš„éª¨æ¶å±ï¼Œä¹Ÿå¯ä»¥ç»™å¤šé¡µé¢è®¾ç½®ï¼ŒåŒæ—¶ä¸ºäº†å¼€å‘æ—¶è°ƒè¯•æ–¹ä¾¿ï¼Œä¼šå°†éª¨æ¶å±ä½œä¸ºè·¯ç”±å†™å…¥routerä¸­ï¼Œå¯è°“æ˜¯ç›¸å½“ä½“è´´äº†ã€‚ vue-skeleton-webpack-pluginçš„å…·ä½“ä½¿ç”¨å‚è€ƒ vue-style-codebaseï¼Œä¸»è¦å…³æ³¨buildç›®å½•çš„å‡ ä¸ªæ–‡ä»¶ï¼Œçº¿ä¸ŠDemo åœ¨Chromeçš„DevToolsä¸­æŠŠnetworkçš„ç½‘é€Ÿè°ƒä¸ºGast 3G / Slow 3Gå°±èƒ½çœ‹åˆ°æ•ˆæœäº†~ --></li></ol><!-- END#1 --><h1 id="awesome-skeleton"><a href="#awesome-skeleton" class="headerlink" title="awesome-skeleton"></a>awesome-skeleton</h1><p><a href="https://github.com/kaola-fed/awesome-skeleton" target="_blank" rel="noopener">https://github.com/kaola-fed/awesome-skeleton</a></p><ul><li>éª¨æ¶å›¾ç”Ÿæˆç»„ä»¶ï¼Œä»…é™nodeç«¯ä½¿ç”¨ã€‚è¯¥ç»„ä»¶æä¾›éª¨æ¶å›¾ç”Ÿæˆå’Œéª¨æ¶å›¾æ¨¡æ¿æ³¨å…¥ä¸¤ä¸ªèƒ½åŠ›ã€‚</li><li>éª¨æ¶å›¾ç”Ÿæˆé€»è¾‘ï¼šé€šè¿‡ä¼ å…¥é¡µé¢åœ°å€ï¼Œä½¿ç”¨ Puppeteer æ— å¤´æµè§ˆå™¨æ‰“å¼€é¡µé¢åœ°å€ï¼Œå¯¹é¡µé¢é¦–å±å›¾ç‰‡å’Œæ–‡æœ¬ç­‰èŠ‚ç‚¹è¿›è¡Œç°è‰²èƒŒæ™¯å¤„ç†ï¼Œç„¶åå¯¹é¡µé¢é¦–å±è¿›è¡Œæˆªå›¾ï¼Œç”Ÿæˆå‹ç¼©åçš„ base64 png å›¾ç‰‡ã€‚</li></ul><p>#11 <a href="https://zhuanlan.zhihu.com/p/114362353" target="_blank" rel="noopener">è€ƒæ‹‰å‰ç«¯éª¨æ¶å±ç”ŸæˆæŠ€æœ¯æ­ç§˜</a></p><ol><li>é€šè¿‡è®¾è®¡å¸ˆç»™å‡ºçš„éª¨æ¶å±å›¾ç‰‡ã€‚</li><li>é€šè¿‡ HTML+CSS ç¼–å†™éª¨æ¶å±ä»£ç ã€‚</li><li>éä¾µå…¥å¼è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±ä»£ç ã€‚</li></ol><p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±æŠ€æœ¯è¿›è¡Œäº†æ·±å…¥çš„æ¢è®¨ï¼Œå¹¶å¼€å‘äº† awesome-skeletonï¼Œæ”¯æŒå¤šç§é…ç½®ï¼Œä»¥åŠéª¨æ¶å±å®šåˆ¶åŠŸèƒ½ï¼Œå¹¶æä¾›éª¨æ¶å›¾ç”Ÿæˆå’Œéª¨æ¶å›¾æ¨¡æ¿æ³¨å…¥èƒ½åŠ›ã€‚</p><p>ä½¿ç”¨ awesome-skeleton</p><p>é€šè¿‡ä¸Šè¿°è®¨è®ºçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæˆ‘ä»¬å®ç°äº† awesome-skeleton éª¨æ¶å±ç”Ÿæˆå·¥å…·ã€‚æ”¯æŒå‘½ä»¤è¡Œç”Ÿæˆéª¨æ¶å±ä»£ç ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥éå¸¸æ–¹ä¾¿çš„åœ¨ç¬¬ä¸‰æ–¹å¹³å°æ¥å…¥ã€‚<br><!-- END#11 --></p><h1 id="page-skeleton-webpack-plugin"><a href="#page-skeleton-webpack-plugin" class="headerlink" title="page-skeleton-webpack-plugin"></a>page-skeleton-webpack-plugin</h1><!-- æµè§ˆå™¨æ’ä»¶ï¼špage-web-skeleton --><p><a href="https://github.com/ElemeFE/page-skeleton-webpack-plugin" target="_blank" rel="noopener">https://github.com/ElemeFE/page-skeleton-webpack-plugin</a></p><p>Page Skeleton æ˜¯ä¸€æ¬¾ webpack æ’ä»¶ï¼Œè¯¥æ’ä»¶çš„ç›®çš„æ˜¯æ ¹æ®ä½ é¡¹ç›®ä¸­ä¸åŒçš„è·¯ç”±é¡µé¢ç”Ÿæˆç›¸åº”çš„éª¨æ¶å±é¡µé¢ï¼Œå¹¶å°†éª¨æ¶å±é¡µé¢é€šè¿‡ webpack æ‰“åŒ…åˆ°å¯¹åº”çš„é™æ€è·¯ç”±é¡µé¢ä¸­ã€‚</p><ul><li>æ”¯æŒå¤šç§åŠ è½½åŠ¨ç”»</li><li>é’ˆå¯¹ç§»åŠ¨ç«¯ web é¡µé¢</li><li>æ”¯æŒå¤šè·¯ç”±</li><li>å¯å®šåˆ¶åŒ–ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹å¯¹éª¨æ¶å—å½¢çŠ¶é¢œè‰²è¿›è¡Œé…ç½®ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨é¢„è§ˆé¡µé¢ç›´æ¥ä¿®æ”¹éª¨æ¶é¡µé¢æºç </li><li>å‡ ä¹å¯ä»¥é›¶é…ç½®ä½¿ç”¨</li></ul><p>#21 <a href="https://www.jianshu.com/p/ec55680fa48c" target="_blank" rel="noopener">ä¸€ç§è‡ªåŠ¨åŒ–ç”Ÿæˆéª¨æ¶å±çš„æ–¹æ¡ˆ</a><br>ä»Šå¤©çš„åˆ†äº«ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š<br>é¦–å±åŠ è½½çŠ¶æ€æ¼”è¿›<br>å¦‚ä½•æ„å»ºéª¨æ¶å±<br>å°†éª¨æ¶å±æ‰“åŒ…çš„é¡¹ç›®ä¸­</p><p>ä¸‹é¢æˆ‘å°†é€šè¿‡ page-skeleton-webpack-plugin å·¥å…·ä¸­çš„ä»£ç ï¼Œæ¥å±•ç¤ºéª¨æ¶å±çš„å…·ä½“ç”Ÿæˆè¿‡ç¨‹ã€‚<br><!-- END#21 --><br># 22 <a href="https://cloud.tencent.com/developer/article/2109640" target="_blank" rel="noopener">å‰ç«¯éª¨æ¶å±æ–¹æ¡ˆå°ç»“</a><br>ä½œä¸ºé¦–å±æ¸²æŸ“(è‡ªåŠ¨åŒ–æ–¹æ¡ˆ)</p><p>è¯¥æ–¹æ¡ˆæ˜¯é¥¿äº†ä¹ˆåœ¨éª¨æ¶å±çš„å®è·µä¸­æ€»ç»“å‡ºçš„ä¸€å¥—æ–¹æ¡ˆ:</p><p>éª¨æ¶å±çš„domç»“æ„å’Œcssé€šè¿‡ç¦»çº¿ç”Ÿæˆåæ„å»ºçš„æ—¶å€™æ³¨å…¥æ¨¡æ¿ä¸­çš„èŠ‚ç‚¹ä¸‹é¢.<br>åŸç†ç›¸å…³elemeéª¨æ¶å±æ’ä»¶å®ç°åŸç†<br>æ–¹æ¡ˆçš„é¡¹ç›®åœ°å€:page-skeleton-webpack-plugin<br><!-- END#22 --></p><h1 id="smart-skeleton-screen"><a href="#smart-skeleton-screen" class="headerlink" title="smart-skeleton-screen"></a>smart-skeleton-screen</h1><p># 31 <a href="https://segmentfault.com/a/1190000040463903" target="_blank" rel="noopener">ä»€ä¹ˆï¼Ÿéƒ½1202å¹´äº†ï¼Œä½ è¿˜åœ¨æ‰‹å†™éª¨æ¶å±</a><br># 31 <a href="https://juejin.cn/post/6993003923866910733" target="_blank" rel="noopener">éª¨æ¶å±è‡ªåŠ¨åŒ–ï¼Ÿçœ‹è¿™ç¯‡å°±å¤Ÿäº†</a><br>ç™¾åº¦ - vue-skeleton-webpack-plugin<br>&lt;!â€“<br>å®ç°åŸç†<br>é€šè¿‡ vueSSR (vue æœåŠ¡ç«¯æ¸²æŸ“)ç»“åˆ webpack åœ¨æ„å»ºæ—¶æ¸²æŸ“å†™å¥½çš„ vue éª¨æ¶å±ç»„ä»¶ï¼Œå°†é¢„æ¸²æŸ“ç”Ÿæˆçš„ DOM èŠ‚ç‚¹å’Œç›¸å…³æ ·å¼æ’å…¥åˆ°æœ€ç»ˆè¾“å‡ºçš„ html ä¸­</p><p>ä¸è¶³<br>é¢„æ¸²æŸ“çš„éª¨æ¶å±ç»„ä»¶éœ€è¦å¼€å‘è€…ç¼–å†™ï¼ˆå¯¹äºæƒ³å·æ‡’çš„å°ä¼Ÿæ¥è¯´æ˜æ˜¾ä¸æ˜¯æœ€ä¼˜è§£ğŸ™„ï¸ï¼‰<br>æ–¹æ¡ˆåªé€‚ç”¨äºvueé¡¹ç›®(å°ä¼Ÿçš„H5é¡¹ç›®æ—¢æœ‰reactä¹Ÿæœ‰vue) â€“&gt;<br>äº¬ä¸œ - dps<br>&lt;!â€“<br>å®ç°åŸç†<br>é€šè¿‡ puppeteer åœ¨æœåŠ¡ç«¯æ“æ§ headless Chrome æ‰“å¼€å¼€å‘ä¸­çš„éœ€è¦ç”Ÿæˆéª¨æ¶é¡µé¢çš„é¡µé¢ï¼Œåœ¨ç­‰å¾…é¡µé¢åŠ è½½æ¸²æŸ“å®Œæˆä¹‹å, æ‰§è¡Œéå†domæ ‘çš„è„šæœ¬ä»£ç ï¼Œé€šè¿‡å•çº¯çš„ DOM æ“ä½œï¼ŒæŒ‘é€‰ç›®æ ‡èŠ‚ç‚¹ï¼Œç”Ÿæˆéª¨æ¶å±htmlå’Œcssä»£ç </p><p>ä¸è¶³</p><p>æ— æ³•é€‰æ‹©ç”Ÿæˆéª¨æ¶å±çš„æ—¶æœºã€‚å½“é¡µé¢å­˜åœ¨ç€é‡å®šå‘(H5éœ€è¦é‰´æƒ)çš„æ—¶å€™ï¼Œç”Ÿæˆçš„éª¨æ¶å±å’Œé¢„æœŸç›¸å·®æ¯”è¾ƒå¤§<br>å†…éƒ¨å®ç°å¹¶ä¸å®Œå–„ï¼ŒæŸäº›å…ƒç´ æ¯”å¦‚ä¼ªå…ƒç´ ç­‰æ— æ³•ç”Ÿæˆéª¨æ¶å±<br>æŸäº›ä¾èµ–æµè§ˆå™¨jsbridgeæ¥å£çš„é¡µé¢ï¼Œå·¥å…·æ— æ³•ä½¿ç”¨ â€“&gt;<br>é¥¿äº†ä¹ˆ - page-skeleton-webpack-plugin<br>&lt;!â€“<br>å®ç°åŸç†</p><p>é€šè¿‡ puppeteer åœ¨æœåŠ¡ç«¯æ“æ§ headless Chrome æ‰“å¼€å¼€å‘ä¸­çš„éœ€è¦ç”Ÿæˆéª¨æ¶é¡µé¢çš„é¡µé¢ï¼Œåœ¨ç­‰å¾…é¡µé¢åŠ è½½æ¸²æŸ“å®Œæˆä¹‹åï¼Œåœ¨ä¿ç•™é¡µé¢å¸ƒå±€æ ·å¼çš„å‰æä¸‹ï¼Œé€šè¿‡å¯¹é¡µé¢ä¸­å…ƒç´ è¿›è¡Œåˆ å‡æˆ–å¢æ·»ï¼Œå¯¹å·²æœ‰å…ƒç´ é€šè¿‡å±‚å æ ·å¼è¿›è¡Œè¦†ç›–ï¼Œè¿™æ ·è¾¾åˆ°åœ¨ä¸æ”¹å˜é¡µé¢å¸ƒå±€ä¸‹ï¼Œéšè—å›¾ç‰‡ã€æ–‡å­—å’Œå›¾ç‰‡çš„å±•ç°ï¼Œé€šè¿‡æ ·å¼è¦†ç›–ï¼Œä½¿å¾—å…¶å±•ç¤ºä¸ºç°è‰²å—ã€‚å¹¶ä¸”å°†ä¿®æ”¹åçš„ HTML å’Œ CSS æ ·å¼æå–å‡ºæ¥ï¼Œé€šè¿‡ webpack æ’ä»¶çš„å½¢å¼æ³¨å…¥æœ€åç”Ÿæˆçš„htmlä¸­ï¼Œå¹¶ä¸”è¿˜å¯ä»¥å¯åŠ¨ UI ç•Œé¢ä¸“é—¨è°ƒæ•´éª¨æ¶å±ä»£ç ã€‚</p><p>ä¸è¶³</p><p>ç”±äºç”Ÿæˆçš„éª¨æ¶å±èŠ‚ç‚¹æ˜¯åŸºäºé¡µé¢æœ¬èº«çš„ç»“æ„å’Œæ ·å¼ï¼Œåœ¨æŸäº›åµŒå¥—æ¯”è¾ƒæ·±çš„é¡µé¢ï¼Œéª¨æ¶å±ä»£ç ä½“ç§¯ä¸ä¼šå¾ˆå°ï¼Œå¹¶ä¸”å¯¹äºå¤šè·¯ç”±çš„é¡µé¢ï¼Œç”Ÿæˆçš„ä»£ç å°±æ›´åŠ åºå¤§äº†<br>æ— æ³•é€‰æ‹©ç”Ÿæˆéª¨æ¶å±çš„æ—¶æœºã€‚å½“é¡µé¢å­˜åœ¨ç€é‡å®šå‘(H5éœ€è¦é‰´æƒ)çš„æ—¶å€™ï¼Œç”Ÿæˆçš„éª¨æ¶å±å’Œé¢„æœŸç›¸å·®æ¯”è¾ƒå¤§<br>æŸäº›ä¾èµ–æµè§ˆå™¨jsbridgeæ¥å£çš„é¡µé¢ï¼Œå·¥å…·æ— æ³•ä½¿ç”¨<br>åªæ”¯æŒhistoryè·¯ç”± â€“&gt;</p><p>## éª¨æ¶å±ä»£ç å¦‚ä½•ç”Ÿæˆ<br>## å¦‚ä½•å°†ç”Ÿæˆçš„éª¨æ¶å±ä»£ç æ’ä»¶é›†æˆåˆ°é¡¹ç›®ä¸­<br>å½“æˆ‘ä»¬æŠŠéª¨æ¶å±ä»£ç ä¿å­˜åˆ°ç”¨æˆ·é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬ä¸€æ ·å¯ä»¥å€Ÿç”¨æ„å»ºå·¥å…·æ’ä»¶çš„åŠŸèƒ½ï¼Œéå†éª¨æ¶å±æ–‡ä»¶å¤¹ï¼Œè·å–æ‰€æœ‰éª¨æ¶å±ä»£ç ï¼Œå†æ’å…¥åˆ°é¡¹ç›®çš„htmlä¸­ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç®€ç‰ˆçš„HtmlWebpackPluginã€‚</p><p>## éª¨æ¶å±ç¼–è¾‘å™¨<br>### æ— ç—›æ¥å…¥smart-skeleton-screen<br>å®‰è£…æ’ä»¶åŒ… (æ ¹æ®é¡¹ç›®æ„å»ºå·¥å…·é€‰æ‹©ç›¸å…³çš„æ’ä»¶åŒ…ï¼Œä»¥webpackä¸ºä¾‹)<br><code>tnpm install @tencent/smart-skeleton-screen</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;<span class="name">%</span> <span class="attr">smart-skeleton</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><!-- END#31 --><h1 id="draw-page-structure"><a href="#draw-page-structure" class="headerlink" title="draw-page-structure"></a>draw-page-structure</h1><p><a href="https://github.com/famanoder/dps#readme" target="_blank" rel="noopener">https://github.com/famanoder/dps#readme</a></p><ul><li>automatic: easy to use CLI to make skeleton screen</li><li>flexible: just use javascript even in browser</li><li>simple: some usefull config items do it well</li></ul><blockquote><p>å¯åœ¨æ§åˆ¶å°è¾“å‡ºå½“å‰é¡µé¢éª¨æ¶å±èŠ‚ç‚¹ï¼Œå¤åˆ¶æ·»åŠ åˆ°åº”ç”¨é¡µé¢ï¼›è¯¥åšæ³•ç›®å‰æ¥è¯´æœ€å¤§çš„ä½œç”¨åœ¨äºåº”å¯¹éœ€è¦ç™»å½•çš„é¡µé¢ï¼Œå¯åœ¨ç›¸åº”é¡µé¢ç›´æ¥è°ƒç”¨evalDOMå‡½æ•°ç”Ÿæˆè¯¥é¡µé¢çš„éª¨æ¶å±èŠ‚ç‚¹ï¼›</p></blockquote><p># 71 <a href="https://blog.csdn.net/weixin_39843414/article/details/116177807" target="_blank" rel="noopener">å‰ç«¯éª¨æ¶å±è‡ªåŠ¨ç”Ÿæˆæ–¹æ¡ˆ</a><br># 71 <a href="https://codeantenna.com/a/YbpZlonQLo" target="_blank" rel="noopener">ä¸€ç§å¯¹å¼€å‘æ›´å‹å¥½çš„å‰ç«¯éª¨æ¶å±è‡ªåŠ¨ç”Ÿæˆæ–¹æ¡ˆ</a></p><p>page-skeleton-webpack-plguin ç”Ÿæˆéª¨æ¶å±çš„æ–¹æ¡ˆå¯ä»¥æ ¹æ®é¡¹ç›®ä¸­ä¸åŒçš„è·¯ç”±é¡µé¢ç”Ÿæˆç›¸åº”çš„éª¨æ¶å±é¡µé¢ï¼Œå¹¶å°†éª¨æ¶å±é¡µé¢é€šè¿‡ webpack æ‰“åŒ…åˆ°å¯¹åº”çš„é™æ€è·¯ç”±é¡µé¢ä¸­ã€‚<br>å®ƒçš„ä¸è¶³ä¹‹å¤„åœ¨äºï¼š<br>å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­æ— æ³•ç›‘å¬æ¥å£è¿”å›å¯¼è‡´ç”Ÿæˆéª¨æ¶å±çš„æ—¶æœºæ˜¯å¦å‡†ç¡®<br>ç”Ÿæˆçš„é¡µé¢ä¸ä¸šåŠ¡äººå‘˜å†™çš„ç»“æ„è´¨é‡æœ‰ç›´æ¥å…³ç³»ï¼Œç»å¸¸å‡ºç°éœ€è¦æ‰‹å·¥äºŒæ¬¡è°ƒæ•´çš„æƒ…å†µ</p><p>åœ¨æ–¹æ¡ˆè°ƒç ”è¿‡ç¨‹ä¸­ï¼Œdraw-page-structure ä¸ºæˆ‘ä»¬çš„è®¾è®¡æä¾›äº†çµæ„Ÿã€‚ â€“&gt;<br>draw-page-structure</p><!-- END#71 --><h1 id="create-skeleton-quickly"><a href="#create-skeleton-quickly" class="headerlink" title="create-skeleton-quickly"></a>create-skeleton-quickly</h1><p># 81 <a href="https://juejin.cn/post/6917519801170526222" target="_blank" rel="noopener">å‰ç«¯å¯è§†åŒ–å·¥å…·ï¼ˆè‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±ä»£ç ï¼‰</a><br><code>npm i create-skeleton-quickly -g</code></p><p>PS: å’Œé¡¹ç›®æ— å…³ã€‚å¯åŠ¨ç‹¬ç«‹æœåŠ¡ï¼Œä¼ å…¥é¡µé¢è·¯å¾„ã€‚<br><!-- END#81 --></p><h1 id="skeleton"><a href="#skeleton" class="headerlink" title="skeleton"></a>skeleton</h1><p># 113 <a href="https://korbinzhao.github.io/å‰ç«¯å¼€å‘/éª¨æ¶å±/2018/06/23/skeleton-auto-generator/" target="_blank" rel="noopener">ä¸€ä¸ªå‰ç«¯éä¾µå…¥å¼éª¨æ¶å±è‡ªåŠ¨ç”Ÿæˆæ–¹æ¡ˆ</a></p><!-- END#113 --><h1 id="åŸºäº-React-Native"><a href="#åŸºäº-React-Native" class="headerlink" title="åŸºäº React Native"></a>åŸºäº React Native</h1><p># 443 <a href="https://cloud.tencent.com/developer/article/1876082" target="_blank" rel="noopener">å¹²è´§ | å‰ç«¯æ™ºèƒ½åŒ–æ¢ç´¢ï¼Œéª¨æ¶å±ä½ä»£ç è‡ªåŠ¨ç”Ÿæˆæ–¹æ¡ˆå®è·µ</a><br>ç›®å‰ä¸šç•Œå¯¹äºè‡ªåŠ¨åŒ–éª¨æ¶å±çš„å®ç°æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ä¸»æµæ–¹æ¡ˆã€‚<br>1.2.1 puppeteer è‡ªåŠ¨ç”Ÿæˆéª¨æ¶<br>1.2.2 ç°æœ‰çš„ RN å®ç°æ–¹æ¡ˆ</p><p>æˆ‘ä»¬å®ç°çš„éª¨æ¶å±æ–¹æ¡ˆä¸»è¦åŸºäº React Nativeï¼Œä½†ä» DSL å±‚é¢æ¥è¯´ï¼Œè¿™æ ·çš„æ–¹æ¡ˆå¯ä»¥ç§»æ¤åˆ°ä»»ä½•å‰ç«¯æ¡†æ¶æ–¹æ¡ˆä¸­è¿›è¡Œå®ç°ã€‚<br>æœ€ç»ˆå®ç°çš„æ–¹æ¡ˆä¸ä»…è¾¾åˆ°äº†é¢„æœŸï¼Œè¿˜å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å¯é’ˆå¯¹å¤šç§å‰ç«¯æ–¹æ¡ˆï¼Œè¾“å‡ºå¯¹åº”çš„éª¨æ¶å±ä»£ç ï¼›</li><li>ç»“åˆè§†è§‰ç¨¿æ ‡æ³¨å¹³å°ï¼Œç”±è§†è§‰è®¾è®¡å¸ˆçš„ UI è®¾è®¡ç¨¿å¯ç›´å‡ºå¯ç”¨çš„ä»£ç å†…å®¹ï¼›</li><li>è§£æ”¾å¼€å‘åŒå­¦çš„åŒæ‰‹ï¼Œå¤åˆ¶ç²˜è´´å³å¯ä½¿ç”¨ï¼Œä¸éœ€è¦åšèŠ‚ç‚¹æ ‡ç¤ºã€ç­›é™¤ï¼›</li><li>å°è£…éª¨æ¶å± loading åŠ¨ç”»ï¼Œå¼€ç®±å³ç”¨ï¼›</li><li>ä»è§†è§‰ç¨¿æ ‡æ³¨å¹³å°ï¼Œå¯ç›´æ¥é¢„è§ˆç”Ÿæˆåçš„ä»£ç æ•ˆæœï¼Œæ–¹ä¾¿å¿«æ·ã€‚</li></ul><!-- END#443 --><h1 id="åŸºäº-BeeMa-æ¶æ„å’Œvscodeæ’ä»¶"><a href="#åŸºäº-BeeMa-æ¶æ„å’Œvscodeæ’ä»¶" class="headerlink" title="åŸºäº BeeMa æ¶æ„å’Œvscodeæ’ä»¶"></a>åŸºäº BeeMa æ¶æ„å’Œvscodeæ’ä»¶</h1><p># 444 <a href="https://mdnice.com/writing/bb3aaf5c613d4e0a9cc86ee2244754df" target="_blank" rel="noopener">è‡ªåŠ¨åŒ–ç”Ÿæˆéª¨æ¶å±çš„æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ä¸è½åœ°</a><br>&lt;!â€“<br>æ–¹æ¡ˆè°ƒç ”<br>éª¨æ¶å±æŠ€æœ¯æ–¹æ¡ˆä¸Šä»å®ç°ä¸Šæ¥è¯´å¤§è‡´å¯ä»¥ä¸‰ç±»ï¼š</p><ol><li>æ‰‹åŠ¨ç»´æŠ¤éª¨æ¶å±çš„ä»£ç ï¼ˆHTMLã€css or vue ã€Reactï¼‰</li><li>ä½¿ç”¨å›¾ç‰‡ä½œä¸ºéª¨æ¶å±</li><li>è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±<br>å¯¹äºå‰ä¸¤ç§æ–¹æ¡ˆæœ‰ä¸€å®šçš„ç»´æŠ¤æˆæœ¬æ¯”è¾ƒè´¹äººåŠ›ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»ä¸‹è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±çš„æ–¹æ¡ˆã€‚<br>æŠ€æœ¯æ–¹æ¡ˆ<br>ç›®å‰å¸‚é¢ä¸Šä¸»è¦ä½¿ç”¨çš„æ˜¯é¥¿äº†ä¹ˆå¼€æºçš„ webpack æ’ä»¶ï¼špage-skeleton-webpack-pluginã€‚å®ƒæ ¹æ®é¡¹ç›®ä¸­ä¸åŒçš„è·¯ç”±é¡µé¢ç”Ÿæˆç›¸åº”çš„éª¨æ¶å±é¡µé¢ï¼Œå¹¶å°†éª¨æ¶å±é¡µé¢é€šè¿‡ webpack æ‰“åŒ…åˆ°å¯¹åº”çš„é™æ€è·¯ç”±é¡µé¢ä¸­ã€‚è¿™ç§æ–¹å¼å°†éª¨æ¶å±ä»£ç ä¸ä¸šåŠ¡ä»£ç éš”ç¦»ï¼Œé€šè¿‡ webpack æ³¨å…¥çš„æ–¹å¼éª¨æ¶å±ä»£ç ï¼ˆå›¾ç‰‡ï¼‰æ³¨å…¥åˆ°é¡¹ç›®ä¸­ã€‚ä¼˜åŠ¿éå¸¸æ˜æ˜¾ä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¾è€Œæ˜“è§ï¼šwebpacké…ç½®æˆæœ¬ï¼ˆè¿˜ä¾èµ–html-webpack-pluginï¼‰ã€‚ â€“&gt;<br>ç»¼åˆå¦‚ä¸Šçš„æŠ€æœ¯è°ƒç ”ï¼Œæˆ‘ä»¬è¿˜æ˜¯å†³å®šé‡‡ç”¨æœ€ä½ä¾µå…¥ä¸šåŠ¡ä»£ç ä¸”é™ä½é…ç½®æˆæœ¬çš„éª¨æ¶å±è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ¡ˆã€‚å‚è€ƒé¥¿äº†ä¹ˆçš„è®¾è®¡æ€è·¯ï¼ŒåŸºäº BeeMa æ¶æ„å’Œvscodeæ’ä»¶æ¥å®ç°ä¸€ä¸ªæ–°çš„éª¨æ¶å±ç”Ÿæˆæ–¹æ¡ˆã€‚<blockquote><p>ç›®å‰ä»…æ”¯æŒ beema æ¶æ„æºç å¼€å‘</p><!-- END#444 --></blockquote></li></ol><p># <a href></a><br># <a href></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt; 2023.3.3 æ˜ŸæœŸäº” &lt;/p&gt;

&lt;h1 id=&quot;å®é™…&quot;&gt;&lt;a href=&quot;#å®é™…&quot; class=&quot;headerlink&quot; title=&quot;å®é™…&quot;&gt;&lt;/a&gt;å®é™…&lt;/h1&gt;&lt;p&gt;é€šè¿‡chromeæ’ä»¶&lt;!-- æµè§ˆå™¨æ’ä»¶ï¼šp
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
  </entry>
  
  <entry>
    <title>Chrome Devtoolsä½¿ç”¨</title>
    <link href="http://yoursite.com/sum/js/chrome%20devtools%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/sum/js/chrome devtoolsä½¿ç”¨/</id>
    <published>2023-02-24T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.291Z</updated>
    
    <content type="html"><![CDATA[<h2 id="network"><a href="#network" class="headerlink" title="network"></a>network</h2><!-- \# SS [Network Throttling in Chrome DevTools](https://www.debugbear.com/blog/chrome-devtools-network-throttling) --><!-- 33 How to test a page speed with a slower connection## What do Slow 3G and Fast 3G mean in DevTools?### What is latency? --><h3 id="transferred-over-networkå’Œresources-loaded-by-the-page"><a href="#transferred-over-networkå’Œresources-loaded-by-the-page" class="headerlink" title="transferred over networkå’Œresources loaded by the page"></a>transferred over networkå’Œresources loaded by the page</h3><p># S <a href="https://www.webperf.tips/tip/resource-size-vs-transfer-size/" target="_blank" rel="noopener">Transfer Size vs. Resource Size</a></p><blockquote><p>â€œTransferredâ€ is the compressed size of all resources. You can think of it as the amount of upload and download data that a mobile user will use in order to load this page. â€œResourcesâ€ is the uncompressed size of all resources.</p></blockquote><!-- å…¶ä»–å‚è€ƒï¼š[Chromeå¼€å‘è€…å·¥å…·networkæ ‡ç­¾é¡µé‡Œçš„transferred over networkå’Œresources loaded by the pageçš„åŒºåˆ«](https://www.jianshu.com/p/c12c61ab5162)[Chromeå¼€å‘è€…å·¥å…·networkæ ‡ç­¾é¡µé‡Œçš„transferred over networkå’Œresources loaded by the pageçš„åŒºåˆ«](https://blog.csdn.net/i042416/article/details/109447173)[What is the difference between "transferred" and "resources" in Chrome DevTools Network tab?](https://stackoverflow.com/questions/56043151/what-is-the-difference-between-transferred-and-resources-in-chrome-devtools)transferred over networkæ˜¯é€šè¿‡ç½‘ç»œåŠ è½½çš„èµ„æºå°ºå¯¸ï¼Œè€Œresources loaded by the pageä¸ä»…åŒ…å«å‰è€…ï¼Œä¹ŸåŒ…å«ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜é‡ŒåŠ è½½çš„èµ„æºå°ºå¯¸ã€‚è¿™ç§è¯´æ³•ä¸å®Œå…¨å‡†ç¡®ï¼Œæ›´ç²¾ç¡®çš„è¯´æ³•æ˜¯ï¼Œresources loaded by the pageç»Ÿè®¡çš„æ˜¯å‰ç«¯é¡µé¢åŠ è½½çš„æ‰€æœ‰èµ„æºç»è¿‡è§£å‹ä¹‹åçš„åŸå§‹å¤§å°ã€‚ --><h2 id="performence"><a href="#performence" class="headerlink" title="performence"></a>performence</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;network&quot;&gt;&lt;a href=&quot;#network&quot; class=&quot;headerlink&quot; title=&quot;network&quot;&gt;&lt;/a&gt;network&lt;/h2&gt;&lt;!-- \# SS [Network Throttling in Chrome DevTools](ht
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="js" scheme="http://yoursite.com/categories/sum/js/"/>
    
    
  </entry>
  
  <entry>
    <title>ç½‘é€ŸåŸºç¡€çŸ¥è¯†</title>
    <link href="http://yoursite.com/sum/others/%E7%BD%91%E9%80%9F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>http://yoursite.com/sum/others/ç½‘é€ŸåŸºç¡€çŸ¥è¯†/</id>
    <published>2023-02-24T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.407Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right">2023.2.24 æ˜ŸæœŸäº”</p><h1 id="Mbpsã€Mb-sã€MB-s"><a href="#Mbpsã€Mb-sã€MB-s" class="headerlink" title="Mbpsã€Mb/sã€MB/s"></a>Mbpsã€Mb/sã€MB/s</h1><!-- \# [ä¸€æ–‡çœ‹æ‡‚Mbpsã€Mb/sã€MB/s æœ‰ä»€ä¹ˆåŒºåˆ«](https://www.ithome.com/0/437/491.htm) --><p>é‚£ä¹ˆè¿™ä¸ªMbpsè·Ÿæˆ‘ä»¬å¹³å¸¸è¯´çš„MB/såˆ°åº•æ˜¯ä¸æ˜¯ä¸€ä¸ªæ„æ€å‘¢ï¼Ÿç›´æ¥å…¬å¸ƒç­”æ¡ˆå§ï¼Œä¸æ˜¯ï¼Œå› ä¸ºå…¶ä¸­æ¶‰åŠåˆ°æ¢ç®—çš„é—®é¢˜ï¼Œä½ ä¸èƒ½æƒ³å½“ç„¶çš„è®¤ä¸ºç¾å›½çš„ä¸€å…ƒè·Ÿä¸­å›½çš„ä¸€å…ƒå…¶ä»·å€¼æ˜¯ä¸€æ ·ã€‚</p><p>Mbpsã€Mb/sã€MB/så‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ</p><h2 id="Mbpsã€Mb-sã€MB-så‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ"><a href="#Mbpsã€Mb-sã€MB-så‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ" class="headerlink" title="Mbpsã€Mb/sã€MB/så‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ"></a>Mbpsã€Mb/sã€MB/så‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ¢ç®—å…³ç³»ï¼š</p><p>B=Byte<br>b=bit<br>1 Kb = 1024 bit<br>1 KB = 1024 Byte<br>1 Mb = 1024 Kb<br>1 MB = 1024 KB<br>1 Byte = 8 bit<br>1 MB = 8Mb<br>1 Mb = 0.125 MB</p><p>å…¶ä¸­ï¼Œbitï¼ˆæ¯”ç‰¹ï¼Œ1æ¯”ç‰¹ä»£è¡¨1ä¸ªä½ï¼‰æ˜¯ä¿¡æ¯çš„æœ€å°å•ä½ï¼Œæ˜¯äºŒè¿›åˆ¶æ•°çš„ä¸€ä½åŒ…å«çš„ä¿¡æ¯æˆ–2ä¸ªé€‰é¡¹ä¸­ç‰¹åˆ«æŒ‡å®š1ä¸ªçš„éœ€è¦ä¿¡æ¯é‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œnæ¯”ç‰¹çš„ä¿¡æ¯é‡å¯ä»¥è¡¨ç°å‡º2çš„næ¬¡æ–¹ç§é€‰æ‹©ã€‚</p><p>è€ŒByteï¼ˆå­—èŠ‚ï¼‰æ˜¯è®¡ç®—æœºä¿¡æ¯æŠ€æœ¯ç”¨äºè®¡é‡å­˜å‚¨å®¹é‡çš„ä¸€ç§è®¡é‡å•ä½ï¼Œä½œä¸ºä¸€ä¸ªå•ä½æ¥å¤„ç†çš„ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ä¸²ï¼Œæ˜¯æ„æˆä¿¡æ¯çš„ä¸€ä¸ªå°å•ä½ã€‚æœ€å¸¸ç”¨çš„å­—èŠ‚æ˜¯å…«ä½çš„å­—èŠ‚ï¼Œå³å®ƒåŒ…å«å…«ä½çš„äºŒè¿›åˆ¶æ•°ã€‚ä¸€ä¸ªä½å°±ä»£è¡¨ä¸€ä¸ª0æˆ–1ï¼ˆå³äºŒè¿›åˆ¶ï¼‰ï¼Œæ¯8ä¸ªä½ç»„æˆä¸€ä¸ªå­—èŠ‚ï¼ˆByteï¼Œç®€å†™ä¸ºBï¼‰ã€‚</p><p>é‚£ä¹ˆç­”æ¡ˆå°±å‡ºæ¥äº†ï¼Œ1 Byte = 8 bitï¼Œæ¯ç§’ä¼ è¾“å¤šå°‘bitã€æ¯ç§’ä¼ è¾“å¤šå°‘Byteï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Byte/sã€bit/sæ¥è¡¨ç¤ºï¼Œæ¢ç®—ä¸€ä¸‹å°±å¯ä»¥å¾—å‡º8Mbps=8Mb/s=1MB/sã€‚</p><h2 id="ä¸ºä»€ä¹ˆç½‘é€Ÿç”¨Mbpsè€Œä¸æ˜¯MB-så‘¢"><a href="#ä¸ºä»€ä¹ˆç½‘é€Ÿç”¨Mbpsè€Œä¸æ˜¯MB-så‘¢" class="headerlink" title="ä¸ºä»€ä¹ˆç½‘é€Ÿç”¨Mbpsè€Œä¸æ˜¯MB/så‘¢"></a>ä¸ºä»€ä¹ˆç½‘é€Ÿç”¨Mbpsè€Œä¸æ˜¯MB/så‘¢</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œè®¡ç®—æœºæ˜¯ä»¥Bitå’ŒByteä½œä¸ºè®¡ç®—å•ä½ï¼Œå…¶ä¸­bitï¼ˆæ¯”ç‰¹ï¼‰æ˜¯ç”µè„‘è¾¨è¯†è®¯æ¯çš„æœ€å°å•ä½ï¼Œå†ä¸Šä¸€ä¸ªæ›´å¤§çš„å•ä½ä¸ºByteï¼ˆå­—èŠ‚ï¼‰ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®ä¼ è¾“å¤§å¤šæ˜¯ä»¥â€œä½â€ï¼ˆbitï¼Œåˆåâ€œæ¯”ç‰¹â€ï¼‰ä¸ºå•ä½çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç½‘é€Ÿçš„å•ä½éƒ½æ˜¯Mbpsè€Œä¸æ˜¯MB/säº†ï¼Œè€Œæ•°æ®å­˜å‚¨æ˜¯åˆ™ä»¥â€œå­—èŠ‚â€ï¼ˆByteï¼‰ä¸ºå•ä½ï¼Œæ¯”å¦‚ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦ä¸€èˆ¬å°±ç”¨çš„æ˜¯MB/Sã€‚</p><p>é€šå¸¸ï¼Œè¿è¥å•†è¯´çš„1Må®½å¸¦çš„Mæ˜¯æŒ‡Mb/sï¼Œä¹Ÿå°±æ˜¯Mbpsï¼Œæ¢ç®—ä¸€ä¸‹çš„è¯ï¼Œ1Må®½å¸¦ä¸‹è½½é€Ÿåº¦ä¹Ÿå°±æ˜¯125KB/sï¼Œå†å»æ‰æŸè€—çš„è¯å°±æ˜¯120KB/så·¦å³ã€‚ä»¥æ­¤ç±»æ¨ï¼Œ10Må®½å¸¦çš„æœ€å¿«ä¸‹è½½é€Ÿåº¦æ˜¯1.25MB/sï¼Œ100Mçš„å®½å¸¦æœ€å¿«ä¸‹è½½é€Ÿåº¦æ˜¯12.5MB/sã€‚</p><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æ— è®ºæ˜¯ä»¥Byteè¿˜æ˜¯bitä½œä¸ºç½‘é€Ÿå•ä½å…¶å®éƒ½æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨åœ¨ä¹¦å†™å•ä½æ—¶ä¸€å®šè¦æ³¨æ„Bå­—æ¯çš„å¤§å°å†™ï¼Œæ­¤æ—¶Bå­—æ¯çš„å¤§å°å†™çœŸçš„å¯ä»¥ç§°ä¹‹ä¸ºâ€œå¤±ä¹‹æ¯«å˜ï¼Œè°¬ä»¥åƒé‡Œâ€ã€‚å…¶å®è¿è¥å•†ç­‰åœ¨å®£ä¼ çš„æ—¶å€™ï¼ŒMbpsä½œä¸ºç½‘ç»œé€Ÿç‡å•ä½æ˜¯æœ€æ­£ç¡®çš„ï¼Œå› ä¸ºæ•°æ®çš„ä¼ è¾“ä»¥åŠè¿è¥å•†åœ¨æµé‡æ”¶è´¹çš„æ—¶å€™éƒ½æ˜¯æŒ‰ç…§æ¯”ç‰¹æ¥è®¡ç®—çš„ï¼›ä½†ä»æ¶ˆè´¹è€…çš„è§’åº¦æ¥çœ‹ï¼ŒMB/sç¬¦åˆæˆ‘ä»¬å¤§ä¼—çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œè€Œä¸”ä¹Ÿä¾¿äºç†è§£ã€‚</p><h1 id="ä¸‰å¤§è¿è¥å•†4Gç½‘é€Ÿ"><a href="#ä¸‰å¤§è¿è¥å•†4Gç½‘é€Ÿ" class="headerlink" title="ä¸‰å¤§è¿è¥å•†4Gç½‘é€Ÿ"></a>ä¸‰å¤§è¿è¥å•†4Gç½‘é€Ÿ</h1><!-- [ä¸‰å¤§è¿è¥å•†4Gç½‘é€Ÿè°å®¶æœ€å¿«ï¼Ÿä¸­å›½4Gå¹³å‡ç½‘é€Ÿæ­æ™“](http://m.ikanchai.com/pcarticle/240464) --><p>æ ¹æ®Speedtestå…¬å¸ƒçš„ç»Ÿè®¡æ•°æ®ï¼Œç›®å‰ä¸­å›½çš„4Gç§»åŠ¨ç½‘é€Ÿå¹³å‡ä¸‹è½½é€Ÿåº¦ä¸º29.91Mbpsï¼ˆ3.74MB/sï¼‰ï¼Œå¹³å‡ä¸Šä¼ é€Ÿåº¦åˆ™æ˜¯12.5Mbpsï¼ˆ1.56MB/sï¼‰ã€‚è¿™ä¸ªæ•°å€¼ç®—å¿«è¿˜æ˜¯æ…¢å‘¢ï¼Ÿ</p><p>ç›¸å¯¹äºå…¨çƒç§»åŠ¨å®½å¸¦å¹³å‡ä¸‹è½½é€Ÿåº¦22.99Mbpsï¼Œå¹³å‡ä¸Šä¼ é€Ÿåº¦9.19Mbpsæ¥è¯´ï¼Œè¿˜ç®—æ˜¯ä¸é”™çš„ã€‚</p><p>æœ€æ…¢çš„æ˜¯ä¸­å›½ç§»åŠ¨ã€‚<br>ç§»åŠ¨çš„4Gä¿¡å·è¦†ç›–è™½ç„¶å¹¿ï¼Œä½†å…¶ç”¨æˆ·æ•°é‡è¿œè¿œè¶…è¿‡è”é€šå’Œç”µä¿¡ï¼Œå¹³å‡ä¸‹æ¥ï¼Œç½‘é€Ÿä¹Ÿå°±è‡ªç„¶ä¸å¦‚è”é€šå’Œç”µä¿¡äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt;2023.2.24 æ˜ŸæœŸäº”&lt;/p&gt;


&lt;h1 id=&quot;Mbpsã€Mb-sã€MB-s&quot;&gt;&lt;a href=&quot;#Mbpsã€Mb-sã€MB-s&quot; class=&quot;headerlink&quot; title=&quot;Mbpsã€Mb/sã€MB/s&quot;&gt;
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="others" scheme="http://yoursite.com/categories/sum/others/"/>
    
    
  </entry>
  
  <entry>
    <title>Ens-2023</title>
    <link href="http://yoursite.com/ins/ens/characters-2023/"/>
    <id>http://yoursite.com/ins/ens/characters-2023/</id>
    <published>2023-02-22T00:00:00.000Z</published>
    <updated>2023-02-22T14:01:19.286Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p style="text-align:right"> 2023.22.22 æ˜ŸæœŸä¸‰ </p><h2 id="0222"><a href="#0222" class="headerlink" title="0222"></a>0222</h2><ol><li>concurrentï¼š adj-åŒæ—¶ï¼›åˆæµçš„</li><li>suspenseï¼š [n] æ‚¬å¿µã€‚<br>React 18 introduces the foundation of concurrent rendering and new features such as suspense, streaming server rendering, and transitions are powered by concurrent rendering.<!-- googleç¿»è¯‘ï¼šReact 18 å¼•å…¥äº†å¹¶å‘æ¸²æŸ“çš„åŸºç¡€ï¼Œå¹¶ä¸”æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚æ‚¬å¿µã€æµå¼æœåŠ¡å™¨æ¸²æŸ“å’Œè¿‡æ¸¡ï¼‰ç”±å¹¶å‘æ¸²æŸ“æä¾›æ”¯æŒã€‚ --></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p style=&quot;text-align:right&quot;&gt; 2023.22.22 æ˜ŸæœŸä¸‰ &lt;/p&gt;


&lt;h2 id=&quot;0222&quot;&gt;&lt;a href=&quot;#0222&quot; class=&quot;headerlink&quot; title=&quot;0222&quot;&gt;&lt;/a&gt;0222&lt;
      
    
    </summary>
    
      <category term="ins" scheme="http://yoursite.com/categories/ins/"/>
    
      <category term="ens" scheme="http://yoursite.com/categories/ins/ens/"/>
    
    
      <category term="ens" scheme="http://yoursite.com/tags/ens/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯åŸ‹ç‚¹å®ç°</title>
    <link href="http://yoursite.com/sum/js/%E5%89%8D%E7%AB%AF%E5%9F%8B%E7%82%B9%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/sum/js/å‰ç«¯åŸ‹ç‚¹å®ç°/</id>
    <published>2023-02-20T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.342Z</updated>
    
    <content type="html"><![CDATA[<p>Intersection Observer API: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API</a></p><a id="more"></a><p style="text-align:right">2023.2.20 æ˜ŸæœŸä¸€ </p><p>å°ç¨‹åºï¼Œh5ï¼Œtaroç­‰åŸ‹ç‚¹ï¼šå±æ€§åŸ‹ç‚¹ï¼Œè‡ªåŠ¨/å…¨/é›¶åŸ‹ç‚¹ï¼ŒåŒºåˆ«äºæ‰‹åŠ¨ä¸ŠæŠ¥ã€‚</p><h1 id="æ›å…‰åŸ‹ç‚¹"><a href="#æ›å…‰åŸ‹ç‚¹" class="headerlink" title="æ›å…‰åŸ‹ç‚¹"></a>æ›å…‰åŸ‹ç‚¹</h1><h2 id="IntersectionObserver-æ–¹å¼"><a href="#IntersectionObserver-æ–¹å¼" class="headerlink" title="IntersectionObserver æ–¹å¼"></a>IntersectionObserver æ–¹å¼</h2><!-- \# 1-A [Webæ›å…‰åŸ‹ç‚¹å®ç°åŸç†](https://www.jianshu.com/p/bb9375b0999d)IntersectionObserver:demoæºä»£ç ï¼šhttps://stackblitz.com/edit/js-ozzzjw?file=index.jsdemoæ•ˆæœï¼šhttps://js-ozzzjw.stackblitz.io/æ›å…‰åŸ‹ç‚¹å®ç°demoæºä»£ç ï¼šhttps://stackblitz.com/edit/react-hfq33n?file=src%2FApp.jsdemoæ•ˆæœï¼šhttps://react-hfq33n.stackblitz.io/--><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intersectionObserver = <span class="keyword">new</span> IntersectionObserver(<span class="function"><span class="params">entries</span> =&gt;</span> &#123;</span><br><span class="line">    entries.forEach(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>( entry.intersectionRatio &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">            report(entry.target)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> nodes = <span class="built_in">document</span>.querySelectorAll(<span class="string">".item"</span>)</span><br><span class="line">nodes.forEach(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">    intersectionObserver.observe(node)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¸»è¦ç”¨åˆ°çš„API<br><code>IntersectionObserver</code> ä¸»è¦ç”¨æ¥æ£€æµ‹è¢«ç›‘å¬çš„ç›®æ ‡å…ƒç´ å¯è§éƒ¨åˆ†ä¸rootå…ƒç´ çš„äº¤å‰çŠ¶å†µï¼Œæ¯”å¦‚è·å–ç›¸äº¤åŒºåŸŸçš„æ¯”ä¾‹å€¼ï¼Œåé¢åšæ›å…‰åŸ‹ç‚¹çš„åˆ¤æ–­éœ€è¦ç”¨åˆ°ã€‚</p><p><code>requestIdleCallback</code> æ–¹æ³•ï¼Œæµè§ˆå™¨ä¼šåœ¨ç©ºé—²æ—¶æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ã€‚åé¢åŸ‹ç‚¹æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé¿å…åŸ‹ç‚¹å½±å“ä¸»ä¸šåŠ¡ã€‚</p><!-- END#1 --><h3 id="react-ä¸¤ç§æ–¹å¼"><a href="#react-ä¸¤ç§æ–¹å¼" class="headerlink" title="react ä¸¤ç§æ–¹å¼"></a>react ä¸¤ç§æ–¹å¼</h3><!-- \# 2-A [åŸºäº IntersectionObserver å®ç°ä¸€ä¸ªç»„ä»¶çš„æ›å…‰ç›‘æ§](https://www.xiabingbao.com/post/js/dom-expose-intersectionobserver.html) --><p>å®ç°çš„æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š</p><ul><li>å‡½æ•°çš„æ–¹å¼ï¼›</li><li>é«˜é˜¶ç»„ä»¶çš„æ–¹å¼ï¼›<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// # è°ƒç”¨æ–¹å¼</span></span><br><span class="line"><span class="comment">// ## å‡½æ•°æ–¹å¼</span></span><br><span class="line"><span class="comment">// é‡æ–°è®¾ç½®IntersectionObserverçš„é…ç½®</span></span><br><span class="line">exposeListener(<span class="built_in">document</span>.querySelector(<span class="string">'.dom3'</span>), &#123;</span><br><span class="line">  observerOptions: &#123;</span><br><span class="line">    threshold: [<span class="number">0</span>, <span class="number">0.2</span>, <span class="number">1</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  onExpose() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'dom1 expose'</span>, <span class="built_in">Date</span>.now());</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ## ç±»çš„æ–¹å¼</span></span><br><span class="line"><span class="comment">// ## useEffect()</span></span><br><span class="line">&lt;ComExpose always onExpose=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">'expose'</span>)&#125; onHide=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">'hide'</span>)&#125;&gt;</span><br><span class="line">  &lt;div className=<span class="string">"dom dom1"</span>&gt;dom1 always&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>ComExpose&gt;</span><br></pre></td></tr></table></figure></li></ul><!-- END#2 --><p>PS: å¯ä»¥ç”¨è‡ªå®šä¹‰useExpoã€‚<br>&lt;!â€“ PS:<br>app.jsxä¸­ä½¿ç”¨æ–°çš„hooksï¼›ä¸ç”¨æ¯ä¸ªç»„ä»¶éƒ½è°ƒç”¨ã€‚å¯ä»¥ç”¨é«˜é˜¶ç»„ä»¶ï¼Œ æˆ–è€…å‡½æ•°è¯•ï¼šuseEffect(() =&gt; {useExpo()}, [])<br>é«˜é˜¶ç»„ä»¶ï¼Œä¸ç”¨é€šè¿‡classè·å–ç›®æ ‡å…ƒç´ ã€‚è€Œæ˜¯<code>const ref = useRef&lt;any&gt;(null);</code></p><p>â€“&gt;</p><h3 id="Taro"><a href="#Taro" class="headerlink" title="Taro"></a>Taro</h3><p>taroæˆ–è€…å°ç¨‹åºé¡¹ç›®æœ‰apiï¼šTaro.createIntersectionObserver<br><code>const observer = Taro.createIntersectionObserver(this, { thresholds: [0], observeAll: true })</code></p><blockquote><p>åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª IntersectionObserver å¯¹è±¡å®ä¾‹ã€‚<br>ç›‘å¬æ–‡æ¡£/domçš„å˜åŒ–ä»¥ä»–ç”¨<!-- æ¯”å¦‚ï¼šæ·»åŠ åŸ‹ç‚¹ --></p></blockquote><!-- å¾®ä¿¡å°ç¨‹åºå†…createIntersectionObserver éœ€è¦æ·»åŠ å®šæ—¶å™¨ï¼Œè€Œä¸”å›è°ƒå‡½æ•°ä¸èƒ½ç”¨requestIdleåŒ…è£…ï¼šåŠ¨æ€æ·»åŠ è§†å›¾ä¸ä¼šä¸ŠæŠ¥ã€‚æ¯”å¦‚æ¥å£è¯·æ±‚æ‹¿åˆ°æ•°æ®åæ¸²æŸ“ã€‚--><p><a href="https://github.com/NervJS/taro/pull/13972" target="_blank" rel="noopener">refactor(runtime/shared/api): ä¼˜åŒ–è·å–èŠ‚ç‚¹çš„é€»è¾‘ï¼Œå¢åŠ å…¶æˆåŠŸç‡</a></p><blockquote><ol><li>å°ç¨‹åºå’Œ H5 çš„ createIntersectionObserver å’Œ createSelectorQuery API è‡ªåŠ¨åœ¨ä¸€ä¸ª Taro.nextTick åæ‰§è¡Œï¼Œå‡å°‘å¼€å‘è€…æ‰‹åŠ¨ä½¿ç”¨ Taro.nextTick æˆ– setTimeout çš„éœ€è¦ã€‚</li><li>Taro.nextTick å¢åŠ ç­‰å¾…æ‰§è¡Œé€»è¾‘ï¼Œå¢åŠ å…¶åœ¨å¼€å‘æ¡†æ¶å®Œæˆæ¸²æŸ“åå†æ‰§è¡Œçš„æˆåŠŸç‡</li></ol></blockquote><h4 id="SMTC"><a href="#SMTC" class="headerlink" title="SMTC"></a>SMTC</h4><p>å…¼å®¹h5è¯­æ³•<!-- ï¼Œ3.4.x ç‰ˆæœ¬h5æœ‰äº›é—®é¢˜ï¼šä¸ä¼šè§¦å‘å›è°ƒ -->ï¼Œä½¿ç”¨åŸç”Ÿjså†™æ³•ã€‚<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useExposureã€‚</span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> observeCb = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="comment">// const dataset = document.getElementById(res.id)?.dataset;</span></span><br><span class="line">              <span class="keyword">let</span> target;</span><br><span class="line">              <span class="keyword">let</span> dataset;</span><br><span class="line">              <span class="comment">// let intersectionRatio:number;</span></span><br><span class="line">              <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">'h5'</span>) &#123;</span><br><span class="line">                  target = e.target;</span><br><span class="line">                  dataset = target.dataset;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  dataset = <span class="built_in">document</span>.getElementById(e.id)?.dataset</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">if</span> (!dataset) <span class="keyword">return</span>;</span><br><span class="line">              <span class="comment">// do sth</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">"weapp"</span>) &#123;</span><br><span class="line">            timerRef.current = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                obRef.current = Taro.createIntersectionObserver(<span class="keyword">this</span> <span class="keyword">as</span> unknown <span class="keyword">as</span> TaroGeneral.IAnyObject, &#123;</span><br><span class="line">                    observeAll: <span class="literal">true</span></span><br><span class="line">                &#125;);</span><br><span class="line">                obRef.current</span><br><span class="line">                    .relativeToViewport(&#123; <span class="attr">top</span>: <span class="number">10</span> &#125;)</span><br><span class="line">                    .observe(<span class="string">".expo"</span>, observeCb);</span><br><span class="line">            &#125;, <span class="number">0</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> options = &#123;</span><br><span class="line">                root: <span class="literal">null</span>,</span><br><span class="line">                <span class="comment">// rootMargin: '0px 0px 0px 0px',</span></span><br><span class="line">                <span class="comment">// threshold: [0, 0.3, 1],</span></span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">const</span> observer = <span class="keyword">new</span> IntersectionObserver(<span class="function">(<span class="params">entries<span class="regexp">/* , observer */</span></span>) =&gt;</span> &#123;</span><br><span class="line">                entries.forEach(requestIdle(observeCb));</span><br><span class="line">                <span class="comment">// entries.forEach(entry =&gt; &#123;</span></span><br><span class="line">                <span class="comment">// Each entry describes an intersection change for one observed</span></span><br><span class="line">                <span class="comment">// target element:</span></span><br><span class="line">                <span class="comment">//   entry.boundingClientRect</span></span><br><span class="line">                <span class="comment">//   entry.intersectionRatio</span></span><br><span class="line">                <span class="comment">//   entry.intersectionRect</span></span><br><span class="line">                <span class="comment">//   entry.isIntersecting</span></span><br><span class="line">                <span class="comment">//   entry.rootBounds</span></span><br><span class="line">                <span class="comment">//   entry.target</span></span><br><span class="line">                <span class="comment">//   entry.time</span></span><br><span class="line">                <span class="comment">// const target = entry.target;</span></span><br><span class="line">                <span class="comment">// observeCb(entry)</span></span><br><span class="line">                <span class="comment">// &#125;);</span></span><br><span class="line">            &#125;, options);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"[Expo]doms:"</span>, <span class="built_in">document</span>.querySelectorAll(<span class="string">'.expo'</span>))</span><br><span class="line">            <span class="comment">// eslint-disable-next-line semi-style</span></span><br><span class="line">            ;[].slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.expo'</span>)).forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">                observer.observe(el);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// window['myObserver'] = observer;</span></span><br><span class="line">            obRef.current = observer;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">(</span>) =&gt;</span> &#123;</span><br><span class="line">            obRef.current?.disconnect()</span><br><span class="line">            timerRef.current &amp;&amp; clearTimeout(timerRef.current);</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="comment">// eslint-disable-next-line react-hooks/exhaustive-deps</span></span><br><span class="line">    &#125;, deps);</span><br></pre></td></tr></table></figure></p><!--## å…¶ä»–[ç›‘å¬DOMæ›å…‰äº‹ä»¶ IntersectionObserver](https://juejin.cn/post/6844903886013071373)[å¦‚ä½•å®ç°å…ƒç´ æ›å…‰ä¸ŠæŠ¥](https://segmentfault.com/a/1190000019980376)[JavaScript ç›‘å¬å…ƒç´ æ˜¯å¦è¿›å…¥/ç§»å‡ºå¯è§†åŒºåŸŸ](https://blog.csdn.net/latency_cheng/article/details/84963435)æ–¹æ¡ˆä¸€ï¼šç›‘å¬é¡µé¢æˆ–è€…åŒºåŸŸscrolläº‹ä»¶ï¼Œé€šè¿‡getBoundingClientRectæ¥å£å–å…ƒç´ çš„ä½ç½®ä¸å¯è§†çª—å£è¿›è¡Œåˆ¤æ–­ã€‚é˜²æŠ–èŠ‚æµä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ç¼ºç‚¹ï¼šéœ€è¦å…³æ³¨é¡µé¢æˆ–è€…åŒºåŸŸçš„scrolläº‹ä»¶é¢‘ç¹çš„scrolläº‹ä»¶ï¼Œæ€§èƒ½é—®é¢˜IntersectionObserveræ–¹æ¡ˆäºŒï¼šé€šè¿‡ IntersectionObserver ç›‘å¬å…ƒç´ æ˜¯å¦å¤„äºå¯è§†èŒƒå›´å®é™…ä¸Šï¼Œé’ˆå¯¹å…¼å®¹æ€§é—®é¢˜ï¼Œw3c å®˜æ–¹æä¾›äº†å¯¹åº” polyfill, å› æ­¤intersectionObserverç”¨äºç”Ÿäº§æ˜¯å¯è¡Œçš„ã€‚ --><h2 id="æ»šåŠ¨ç›‘å¬"><a href="#æ»šåŠ¨ç›‘å¬" class="headerlink" title="æ»šåŠ¨ç›‘å¬"></a>æ»šåŠ¨ç›‘å¬</h2><h1 id="ç‚¹å‡»åŸ‹ç‚¹"><a href="#ç‚¹å‡»åŸ‹ç‚¹" class="headerlink" title="ç‚¹å‡»åŸ‹ç‚¹"></a>ç‚¹å‡»åŸ‹ç‚¹</h1><h2 id="è‡ªåŠ¨åŸ‹ç‚¹"><a href="#è‡ªåŠ¨åŸ‹ç‚¹" class="headerlink" title="è‡ªåŠ¨åŸ‹ç‚¹"></a>è‡ªåŠ¨åŸ‹ç‚¹</h2><h3 id="webé¡µé¢"><a href="#webé¡µé¢" class="headerlink" title="webé¡µé¢"></a>webé¡µé¢</h3><p>document.addEventListener</p><h3 id="taro-å°ç¨‹åº"><a href="#taro-å°ç¨‹åº" class="headerlink" title="taro å°ç¨‹åº"></a>taro å°ç¨‹åº</h3><p>è¿è¡Œæ—¶æ³¨å…¥äº‹ä»¶ç›‘å¬<code>modifyDispatchEvent</code>ã€‚<br><!-- é€šè¿‡`mergeReconciler` <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mergeReconciler &#125; <span class="keyword">from</span> <span class="string">"@tarojs/shared"</span>;</span><br><span class="line"></span><br><span class="line">mergeReconciler(&#123;</span><br><span class="line">    modifyDispatchEvent: <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// console.log("[Plugin-track]modify-Dispatch-Event", e);</span></span><br><span class="line">        <span class="keyword">if</span> (e.type === <span class="string">"tap"</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> dataset = e.currentTarget &amp;&amp; e.currentTarget.dataset;</span><br><span class="line">            <span class="keyword">const</span> eid = dataset.eid;</span><br><span class="line">            <span class="keyword">if</span> (!dataset || !eid) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> eparam = dataset.eparam;</span><br><span class="line">            <span class="comment">// eslint-disable-next-line @typescript-eslint/no-var-requires</span></span><br><span class="line">            <span class="keyword">const</span> runtime = <span class="built_in">require</span>(<span class="string">"@tarojs/runtime"</span>);</span><br><span class="line">            <span class="keyword">const</span> event = <span class="keyword">new</span> runtime.TaroEvent(<span class="string">"tracks"</span>, &#123;</span><br><span class="line">                bubbles: <span class="literal">true</span>,</span><br><span class="line">                cancelable: <span class="literal">true</span></span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                detail: &#123;</span><br><span class="line">                    eid,</span><br><span class="line">                    eparam</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            runtime.document.dispatchEvent(event);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>â€“&gt;</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useClick</span></span><br><span class="line">useEfect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> handleClkTrack = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> target = e.target;</span><br><span class="line">        <span class="comment">// console.log("[UseClick]. e:", e, target.dataset, e.mpEvent);</span></span><br><span class="line">        <span class="keyword">let</span> detail;</span><br><span class="line">        <span class="keyword">if</span> (process.env.TARO_ENV === <span class="string">'h5'</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> trackEle = getTargetEle(target);</span><br><span class="line">            <span class="keyword">if</span> (trackEle) &#123;</span><br><span class="line">                detail = trackEle.dataset;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            detail = e.mpEvent?.detail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> &#123; eid, eparam &#125; = detail || &#123;&#125;;</span><br><span class="line">        track.clic(eid, eparam);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> trackEventName = process.env.TARO_ENV === <span class="string">"h5"</span> ? <span class="string">'click'</span> : <span class="string">'tracks'</span>;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(trackEventName, handleClkTrack);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.removeEventListener(trackEventName, handleClkTrack);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="è‡ªåŠ¨åŸ‹ç‚¹-1"><a href="#è‡ªåŠ¨åŸ‹ç‚¹-1" class="headerlink" title="è‡ªåŠ¨åŸ‹ç‚¹"></a>è‡ªåŠ¨åŸ‹ç‚¹</h1><p>pvï¼Œfunction/clickç­‰ã€‚</p><p>é›¶åŸ‹ç‚¹ï¼šå„ä¸ªåŸ‹ç‚¹/æ•°æ®åˆ†æç»Ÿè®¡å¹³å°ï¼Œç™¾åº¦ç­‰ã€‚</p><h2 id="ä»£ç æ–¹å¼"><a href="#ä»£ç æ–¹å¼" class="headerlink" title="ä»£ç æ–¹å¼"></a>ä»£ç æ–¹å¼</h2><h3 id="åŸç”Ÿå°ç¨‹åº"><a href="#åŸç”Ÿå°ç¨‹åº" class="headerlink" title="åŸç”Ÿå°ç¨‹åº"></a>åŸç”Ÿå°ç¨‹åº</h3><p># 21 <a href="https://juejin.cn/post/6844903766328606728">å°ç¨‹åºä»æ‰‹åŠ¨åŸ‹ç‚¹åˆ°è‡ªåŠ¨åŸ‹ç‚¹</a></p><h4 id="1ã€é€šè¿‡äº‹ä»¶å†’æ³¡ç›‘å¬å…ƒç´ æ˜¯å¦è¢«ç‚¹å‡»"><a href="#1ã€é€šè¿‡äº‹ä»¶å†’æ³¡ç›‘å¬å…ƒç´ æ˜¯å¦è¢«ç‚¹å‡»" class="headerlink" title="1ã€é€šè¿‡äº‹ä»¶å†’æ³¡ç›‘å¬å…ƒç´ æ˜¯å¦è¢«ç‚¹å‡»"></a>1ã€é€šè¿‡äº‹ä»¶å†’æ³¡ç›‘å¬å…ƒç´ æ˜¯å¦è¢«ç‚¹å‡»</h4><p>å°ç¨‹åºæ²¡æœ‰æä¾›Domçš„äº‹ä»¶ç›‘å¬æ–¹æ³•ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡äº‹ä»¶å†’æ³¡çš„æ–¹å¼ç›‘å¬ï¼Œåœ¨wxmlæœ€å¤–å±‚ç»‘å®šcatchtapäº‹ä»¶è·å–ç‚¹å‡»å…ƒç´ çš„åæ ‡ï¼Œåˆ¤æ–­ç‚¹å‡»å…ƒç´ ä¸ç›‘å¬ç›®æ ‡çš„åæ ‡æ˜¯å¦ç›¸äº¤è§¦å‘è®°å½•ã€‚</p><h4 id="2ã€æ‰©å±•Pageæ–¹æ³•"><a href="#2ã€æ‰©å±•Pageæ–¹æ³•" class="headerlink" title="2ã€æ‰©å±•Pageæ–¹æ³•"></a>2ã€æ‰©å±•Pageæ–¹æ³•</h4><h4 id="3ã€å¯¹é¡µé¢å‡½æ•°åŸ‹ç‚¹"><a href="#3ã€å¯¹é¡µé¢å‡½æ•°åŸ‹ç‚¹" class="headerlink" title="3ã€å¯¹é¡µé¢å‡½æ•°åŸ‹ç‚¹"></a>3ã€å¯¹é¡µé¢å‡½æ•°åŸ‹ç‚¹</h4><p>PS: ç”Ÿå‘½å‘¨æœŸã€‚<br>#### é€šè¿‡é…ç½®è¡¨è®¾ç½®åŸ‹ç‚¹</p><p>å®Œæ•´çš„ä»£ç å·²ç»å°è£…æˆSDKäº†ï¼Œå¯ä»¥å¿«é€Ÿé›†æˆåˆ°é¡¹ç›® <a href="https://github.com/zhengguorong/xbosstrack-wechat">githubåœ°å€</a><br><!-- END#21 --></p><h3 id="Taroå°ç¨‹åº-ç”Ÿå‘½å‘¨æœŸ"><a href="#Taroå°ç¨‹åº-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Taroå°ç¨‹åº-ç”Ÿå‘½å‘¨æœŸ"></a>Taroå°ç¨‹åº-ç”Ÿå‘½å‘¨æœŸ</h3><!-- \# 31 [taroå¾®ä¿¡å°ç¨‹åºå…¨åŸ‹ç‚¹çš„æ€è·¯ä¸è§£å†³æ–¹æ¡ˆå¯¼å‘](http://www.wxappclub.com/topic/5300) --><!-- POST: 2023 --><p>æ€è·¯<br>â€‹ æˆ‘ä»¬è¦æƒ³è¦å®ç°æ— ä¾µå…¥æˆ–ä½ä¾µå…¥çš„ç›‘æ§é¡µé¢å£°æ˜å‘¨æœŸå‡½æ•°ï¼Œå¯¹äºåŸç”Ÿçš„å¾®ä¿¡å°ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒç½‘ä¸Šçš„ä¸€ä¸ªç°æœ‰è§£å†³æ–¹æ¡ˆï¼š<a href>å°ç¨‹åºä»æ‰‹åŠ¨åŸ‹ç‚¹åˆ°è‡ªåŠ¨åŸ‹ç‚¹</a>ã€‚<br><!-- PS: è§#21 --></p><p>â€‹ å…¶å®ç°åŸç†ä¸»è¦æ˜¯ï¼šé€šè¿‡ä»£ç†å¾®ä¿¡å°ç¨‹åºçš„Pageæ–¹æ³•ï¼Œåœ¨ç”¨æˆ·ä¼ é€’è¿›æ¥çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¤–å±‚åŒ…è£…ä¸€å±‚wrapperå‡½æ•°ï¼Œå¹¶åœ¨wrapperå‡½æ•°ä¸­å®ç°ç»Ÿä¸€æ•°æ®ä¸ŠæŠ¥çš„é€»è¾‘ï¼Œç„¶åå†è°ƒç”¨ç”¨æˆ·å®šä¹‰çš„å£°æ˜å‘¨æœŸé’©å­å‡½æ•°ï¼Œè¿™æ ·ï¼Œä½¿ç”¨è€…ä¾¿å¯ä»¥åœ¨æ— æ„ŸçŸ¥çš„æƒ…å†µä¸‹è¿›è¡Œç¼–ç ï¼Œæ‰€æœ‰çš„æ•°æ®æ”¶é›†ä¸ä¸ŠæŠ¥æ“ä½œéƒ½å¯ä»¥åœ¨è¿™ä¸ªwrapperå‡½æ•°ä¸­æ‰§è¡Œã€‚</p><p>â€‹ ç„¶è€Œï¼Œä¸Šè¿°æ–¹æ¡ˆä»…é€‚ç”¨äºåŸç”Ÿå¾®ä¿¡å°ç¨‹åºï¼Œåœ¨åŸºäºTaroå¼€å‘çš„å¾®ä¿¡å°ç¨‹åºé¡¹ç›®ä¸­ï¼Œç”±äºåœ¨Taroä¸­æ‰€æœ‰å•å…ƒéƒ½æ˜¯ç»„ä»¶Componentï¼Œè€ŒéPage,ç»è¿‡æœ¬äººçš„åå¤è¯•éªŒï¼ŒTaroåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨è¿‡Pageæ–¹æ³•,å› æ­¤ï¼Œé€šè¿‡ä»£ç†å¾®ä¿¡åŸç”ŸPageæ–¹æ³•è¿™æ¡è·¯æ˜¯è¡Œä¸é€šäº†ã€‚</p><p>â€‹ é‚£ä¹ˆï¼Œæ—¢ç„¶åœ¨Taroä¸­ä¸€åˆ‡çš†ç»„ä»¶ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½é€šè¿‡ä»£ç†Componentå®ç°ç±»ä¼¼çš„é€»è¾‘å‘¢ï¼Ÿç»è¿‡è¯•éªŒï¼Œè¿™ä¸ªæƒ³æ³•æ˜¯å¯è¡Œçš„ï¼Œä¸è¿‡ç”±äºComponentçš„ç”Ÿå‘½å‘¨æœŸé’©å­è·ŸPageçš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹å…¶åšä¸€å®šçš„è½¬åŒ–ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é‡å†™å¾®ä¿¡åŸç”ŸPage</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">newPage</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">overrideWxPage</span>(<span class="params">newPage: any</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">  Page = newPage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦ä»£ç†çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ŒåŒ…å«Pageå’ŒComponentçš„é’©å­</span></span><br><span class="line"><span class="keyword">const</span> proxyMethods = [</span><br><span class="line">  <span class="string">"onShow"</span>,</span><br><span class="line">  <span class="string">"onHide"</span>,</span><br><span class="line">  <span class="string">"onReady"</span>,</span><br><span class="line">  <span class="string">"onLoad"</span>,</span><br><span class="line">  <span class="string">"onUnload"</span>,</span><br><span class="line">  <span class="string">"created"</span>,</span><br><span class="line">  <span class="string">"attached"</span>,</span><br><span class="line">  <span class="string">"ready"</span>,</span><br><span class="line">  <span class="string">"moved"</span>,</span><br><span class="line">  <span class="string">"detached"</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>Github: <a href="https://github.com/kiner-tang/taro-track" target="_blank" rel="noopener">taro-track</a></p><p>æ³¨ï¼šç”±äºtaroæ˜¯ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œç‰ˆæœ¬å‡çº§ä¸å¯æ§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªæ˜¯å¯¹ç‰¹å®šä¸ªç‰ˆæœ¬ï¼Œå¦‚2.1.5è¿›è¡Œå…¼å®¹ï¼Œå…¶ä»–ç‰ˆæœ¬å°šæœªåšå…¼å®¹å¤„ç†<br><!-- END#31 --><br>&lt;!â€“<br><a href="https://www.php.cn/faq/459905.html" target="_blank" rel="noopener">äº†è§£å¾®ä¿¡å°ç¨‹åº Taro çš„è‡ªåŠ¨åŸ‹ç‚¹</a><br> POST: 2020-09-10 17:12:43</p><p>è€Œåœ¨å°ç¨‹åºä¸­å› ä¸ºå…¶å’Œæµè§ˆå™¨ä¸åŒçš„æ¶æ„ï¼Œå¯¼è‡´äº†ç›‘å¬é¡µé¢å˜çš„æ›´åŠ å›°éš¾ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½ä¼šé€šè¿‡é‡å†™ Page æ–¹æ³•æ¥è¾¾åˆ°å¯¹å°ç¨‹åºåŸç”Ÿç”Ÿå‘½å‘¨æœŸçš„æ‹¦æˆªä»£ç†ï¼Œä»è€Œè¿›è¡Œä¸šåŠ¡åŸ‹ç‚¹ï¼Œä½†æ˜¯åœ¨ Taro ä¸­è¿™ä¸€åˆ‡å˜å¾—ä¸åŒäº†ã€‚</p><p>æƒ³åœ¨å°ç¨‹åºä¸­è¿›è¡Œè‡ªåŠ¨çš„åŸ‹ç‚¹ï¼Œå…¶å®è¦åšçš„å°±æ˜¯åœ¨å°ç¨‹åºæŒ‡å®šçš„ç”Ÿå‘½å‘¨æœŸé‡Œåšä¸€äº›å›ºå®šçš„å¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªåŠ¨åŸ‹ç‚¹çš„é—®é¢˜å®é™…ä¸Šæ˜¯å¦‚ä½•åŠ«æŒå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œè¦åŠ«æŒå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å»é‡å†™optionsã€‚<br> â€“&gt;<br>weapp-lifecycle-hook-plugin: npmæ’ä»¶ã€‚</p><p>PS: ä»¥ä¸Šä¸¤ç¯‡åŸºäºtaro2.xã€‚</p><h3 id="Taroå°ç¨‹åº-äº‹ä»¶"><a href="#Taroå°ç¨‹åº-äº‹ä»¶" class="headerlink" title="Taroå°ç¨‹åº-äº‹ä»¶"></a>Taroå°ç¨‹åº-äº‹ä»¶</h3><p># 30-a <a href="https://xie.infoq.cn/article/09b84bfd093476657a8f04cff" target="_blank" rel="noopener">Taro3 æ— åŸ‹ç‚¹çš„æ¢ç´¢ä¸å®è·µ</a><br>è¿™ç‚¹åœ¨ Taro2 æ—¶æœŸå·²ç»æ˜¯å®ç°å®Œç¾é€‚é…çš„ï¼Œä½†åœ¨ Taro3 ä¹‹åï¼Œç”±äº Taro å›¢é˜Ÿå¯¹å…¶æ•´ä½“æ¶æ„çš„è°ƒæ•´ï¼Œä½¿å¾—ä¹‹å‰çš„æ–¹å¼å·²ç»æ— æ³•å®ç°å‡†ç¡®çš„æ— åŸ‹ç‚¹ï¼Œä¿ƒä½¿äº†æœ¬æ¬¡æ¢ç´¢ã€‚<br>&lt;!â€“ </p><p>GrowingIO å°ç¨‹åº SDK æ— åŸ‹ç‚¹åŠŸèƒ½çš„å®ç°æœ‰ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p><ul><li>å¦‚ä½•æ‹¦æˆªåˆ°ç”¨æˆ·äº‹ä»¶çš„è§¦å‘æ–¹æ³•</li><li>å¦‚ä½•ä¸ºèŠ‚ç‚¹ç”Ÿæˆä¸€ä¸ªå”¯ä¸€ä¸”ç¨³å®šçš„æ ‡è¯†ç¬¦</li></ul><p>å¦‚æœæƒ³å¤„ç†æ‰å·²å®šä¹‰æ— åŸ‹ç‚¹äº‹ä»¶å¤±æ•ˆé—®é¢˜ï¼Œé‚£å°±å¿…é¡»èƒ½æä¾›ä¸€ä¸ªç¨³å®šçš„æ ‡è¯†ç¬¦ã€‚ç±»æ¯”ä¸åœ¨ Taro2 ä¸Šçš„å®ç°ï¼Œå¦‚æœä¹Ÿèƒ½åœ¨æ‹¦æˆªåˆ°äº‹ä»¶è§¦å‘çš„æ—¶å€™è·å–åˆ°ç”¨æˆ·æ–¹æ³•åï¼Œé‚£å°±å¯ä»¥äº†ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦èƒ½æŠŠä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜å¤„ç†æ‰ï¼Œä¾¿èƒ½å®ç°è¿™ä¸ªç›®æ ‡äº†ã€‚</p><ul><li>è¿è¡Œæ—¶ SDK èƒ½æ‹¦æˆªç”¨æˆ·æ–¹æ³•</li><li>èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒå°†ç”¨æˆ·æ–¹æ³•åä¿ç•™ä¸‹æ¥<br>ç»“è¯­<br>â€“&gt;<br>åœ¨ Taro3 æ— åŸ‹ç‚¹åŠŸèƒ½çš„å®ç°ä¸Šï¼ŒGrowingIO å°ç¨‹åº SDK ä»è¿è¡ŒæœŸå’Œç¼–è¯‘æœŸåŒæ—¶ä¸‹æ‰‹ï¼Œåœ¨è¿è¡ŒæœŸå®ç°äº‹ä»¶æ‹¦æˆªï¼Œåœ¨ç¼–è¯‘æœŸå®ç°ç”¨æˆ·æ–¹æ³•åçš„ä¿ç•™ï¼Œä»¥æ­¤å®ç°è¾ƒç¨³å®šçš„æ— åŸ‹ç‚¹åŠŸèƒ½ã€‚å…·ä½“çš„ä½¿ç”¨æ–¹å¼å¯è§ï¼š<a href="https://github.com/growingio/growing-babel-plugin-setname/wiki/Taro3ä¸­é›†æˆGrowingIOå°ç¨‹åºSDK" target="_blank" rel="noopener">Taro3ä¸­é›†æˆGrowingIOå°ç¨‹åºSDK</a>ã€‚é€šè¿‡è¿™æ¬¡ Taro3 æ— åŸ‹ç‚¹çš„æ”¯æŒï¼ŒGrowingIO å°ç¨‹åºæ— åŸ‹ç‚¹å®ç°ä¹Ÿä»ä»…è¿è¡ŒæœŸçš„æ“ä½œæ‰©å±•åˆ°äº†ç¼–è¯‘æœŸï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§æ–°çš„æ–¹å¼ï¼Œæœªæ¥ä¹Ÿå¯èƒ½ä¼šåœ¨è¿™ä¸ªæ–¹å‘ä¸Šç»§ç»­ä¼˜åŒ–ï¼Œæä¾›æ›´ç¨³å®šçš„æ— åŸ‹ç‚¹åŠŸèƒ½ã€‚ç›¸å…³ Babel æ’ä»¶ä»¥å¼€æºï¼Œä»“åº“å¯è§ï¼š<br><a href="https://github.com/growingio/growing-babel-plugin-setname" target="_blank" rel="noopener">growing-babel-plugin-setname</a></li></ul><p><code>npm install --dev babel-plugin-setname</code></p><blockquote><p>ä¸ºåŒ¿åå‡½æ•°è®¾ç½®å‡½æ•°å</p></blockquote><!-- END#30s --><h2 id="å¹³å°"><a href="#å¹³å°" class="headerlink" title="å¹³å°"></a>å¹³å°</h2><p><a href="https://www.cnblogs.com/o2team/p/13259338.html" target="_blank" rel="noopener">å°ç¨‹åºé›¶å¼€å‘åŸ‹ç‚¹ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼</a></p><blockquote><p>Taro å¼•å…¥äº†è…¾è®¯æœ‰æ•°çš„å¾®ä¿¡å°ç¨‹åºæ— ç—•åŸ‹ç‚¹èƒ½åŠ›ï¼Œä¸º Taro çš„å¼€å‘è€…æä¾›çœŸÂ·é›¶å¼€å‘çš„ 8 å¤§æ— ç—•åŸ‹ç‚¹èƒ½åŠ›ä»¥åŠè‡ªå®šä¹‰åŸ‹ç‚¹èƒ½åŠ›ï¼ŒåŒ…å«å°ç¨‹åºå¯åŠ¨ã€æ˜¾ç¤ºã€éšè—ã€é¡µé¢æµè§ˆã€é¡µé¢ç¦»å¼€ã€åˆ†äº«ã€ä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰è§¦åº•ç­‰å…«å¤§è‡ªåŠ¨åŒ–åŸ‹ç‚¹èƒ½åŠ›ä»¥åŠæœç´¢ã€å•†å“å½’å› ç­‰å®šåˆ¶åŒ–åŸ‹ç‚¹ï¼Œä»¥åŠç»è¥åˆ†æã€ç›´æ’­åˆ†æã€å¯¼è´­åˆ†æç­‰èƒ½åŠ›ï¼Œè®©ä½ çš„å°ç¨‹åºå¯ä»¥åŸºäºå¾®ä¿¡ç”Ÿæ€ï¼Œä¸²è”å…¨åœºæ™¯å¤šè§¦ç‚¹ï¼Œå®ç°å…¨åŸŸç»è¥æ´å¯Ÿã€‚</p></blockquote><h1 id="requestIdleCallback"><a href="#requestIdleCallback" class="headerlink" title="requestIdleCallback"></a>requestIdleCallback</h1><!-- \#41 [åˆ©ç”¨å¥½æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´ --- requestIdleCallback](https://www.cnblogs.com/Wayou/p/requestIdleCallback.html) -->]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Intersection Observer API: &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="js" scheme="http://yoursite.com/categories/sum/js/"/>
    
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Typescript-d.tsæ–‡ä»¶</title>
    <link href="http://yoursite.com/sum/jsplus/typescript-d.ts%E6%96%87%E4%BB%B6/"/>
    <id>http://yoursite.com/sum/jsplus/typescript-d.tsæ–‡ä»¶/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T14:30:30.104Z</updated>
    
    <content type="html"><![CDATA[<p>typescript å£°æ˜æ–‡ä»¶ä»‹ç»<!-- å†å² -->åŠä½¿ç”¨</p><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><h1 id="d-ts-ä»‹ç»"><a href="#d-ts-ä»‹ç»" class="headerlink" title="d.ts ä»‹ç»"></a>d.ts ä»‹ç»</h1><!-- \#1-S [ä¸€æ–‡è¯»æ‡‚TSçš„(.d.ts)æ–‡ä»¶](https://juejin.cn/post/6987735091925483551)\#1-S [ä¸€æ–‡è¯»æ‡‚TSçš„(.d.ts)æ–‡ä»¶](https://developer.aliyun.com/article/929847) --><h2 id="äºŒã€-ä»€ä¹ˆæ˜¯â€œ-d-tsâ€-æ–‡ä»¶"><a href="#äºŒã€-ä»€ä¹ˆæ˜¯â€œ-d-tsâ€-æ–‡ä»¶" class="headerlink" title="äºŒã€ ä»€ä¹ˆæ˜¯â€œ.d.tsâ€ æ–‡ä»¶"></a>äºŒã€ ä»€ä¹ˆæ˜¯â€œ.d.tsâ€ æ–‡ä»¶</h2><p>åŸºäº Typescript å¼€å‘çš„æ—¶å€™ï¼Œå¾ˆéº»çƒ¦çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç±»å‹å®šä¹‰ã€‚å¯¼è‡´åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œç»å¸¸ä¼šçœ‹åˆ°ä¸€è¿ä¸²çš„æ‰¾ä¸åˆ°ç±»å‹çš„æç¤ºã€‚â€œd.tsâ€æ–‡ä»¶ç”¨äºä¸º TypeScript æä¾›æœ‰å…³ç”¨ JavaScript ç¼–å†™çš„ API çš„ç±»å‹ä¿¡æ¯ã€‚<br>ç®€å•è®²ï¼Œå°±æ˜¯ä½ å¯ä»¥åœ¨ ts ä¸­è°ƒç”¨çš„ js çš„å£°æ˜æ–‡ä»¶ã€‚TSçš„æ ¸å¿ƒåœ¨äºé™æ€ç±»å‹ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ TS çš„æ—¶å€™ä¼šå®šä¹‰å¾ˆå¤šçš„ç±»å‹ï¼Œä½†æ˜¯ä¸»æµçš„åº“éƒ½æ˜¯ JSç¼–å†™çš„ï¼Œå¹¶ä¸æ”¯æŒç±»å‹ç³»ç»Ÿã€‚è¿™ä¸ªæ—¶å€™ä½ ä¸èƒ½ç”¨TSé‡å†™ä¸»æµçš„åº“ï¼Œ<strong>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªéœ€è¦ç¼–å†™ä»…åŒ…å«ç±»å‹æ³¨é‡Šçš„ d.ts æ–‡ä»¶</strong>ï¼Œç„¶åä»æ‚¨çš„ TS ä»£ç ä¸­ï¼Œå¯ä»¥åœ¨ä»ç„¶ä½¿ç”¨çº¯ JS åº“çš„åŒæ—¶ï¼Œè·å¾—é™æ€ç±»å‹æ£€æŸ¥çš„ TS ä¼˜åŠ¿ã€‚</p><p>åœ¨æ­¤æœŸé—´ï¼Œè§£å†³çš„æ–¹å¼ç»è¿‡äº†è®¸å¤šçš„å˜åŒ–ï¼Œä» DefinitelyTyped åˆ° typingsã€‚<strong>æœ€åæ˜¯ @types</strong>ã€‚åœ¨ Typescript 2.0 ä¹‹åï¼Œæ¨èä½¿ç”¨ @types æ–¹å¼ã€‚</p><!-- ### 2.1 DefinitelyTyped### 2.2 Typings --><h3 id="2-3-Types"><a href="#2-3-Types" class="headerlink" title="2.3 @Types"></a>2.3 @Types</h3><!-- DefinitelyTypedå’Œ# Typingséƒ½éœ€è¦ä½¿ç”¨å¦å¤–ä¸€å¥—ç³»ç»Ÿæ¥ç®¡ç†ç±»å‹å®šä¹‰æ˜¾ç„¶ä¸å¤ªæ–¹ä¾¿ã€‚ åœ¨ Typescript 2.0 ä¹‹åï¼ŒTypeScript å°†ä¼šé»˜è®¤çš„æŸ¥çœ‹ ./node_modules/@types æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨ä»è¿™é‡Œæ¥è·å–æ¨¡å—çš„ç±»å‹å®šä¹‰ï¼Œå½“ç„¶äº†ï¼Œä½ éœ€è¦ç‹¬ç«‹å®‰è£…è¿™ä¸ªç±»å‹å®šä¹‰ã€‚Microsoft åœ¨ The Future of Declaration Files ä»‹ç»äº† TypeScript çš„è¿™ä¸ªæ–°ç‰¹æ€§ã€‚ --><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ @types åŒ…éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶åº”ç”¨ï¼Œä»»æ„å±‚çš„ node_modules/@types éƒ½ä¼šè¢«ä½¿ç”¨ï¼Œè¿›ä¸€æ­¥è¯´ï¼Œåœ¨  ./node_modules/@types/ , ../node_modules/@types/, ../../node_modules/@types/ éƒ½è¢«åº”ç”¨ã€‚å¦‚æœä½ çš„ç±»å‹å®šä¹‰ä¸åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ typesRoot æ¥é…ç½®ï¼Œåªæœ‰åœ¨ typeRoots ä¸­çš„åŒ…æ‰ä¼šè¢«åŒ…å«ï¼Œé…ç½®å¦‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">       <span class="string">"types"</span> : [<span class="string">"node"</span>, <span class="string">"lodash"</span>, <span class="string">"express"</span>]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="2-4-d-tså’Œ-typeså…³ç³»"><a href="#2-4-d-tså’Œ-typeså…³ç³»" class="headerlink" title="2.4 *.d.tså’Œ@typeså…³ç³»"></a>2.4 *.d.tså’Œ@typeså…³ç³»</h4><p>@typesæ˜¯npmçš„ä¸€ä¸ªåˆ†æ”¯ï¼Œç”¨æ¥å­˜æ”¾<em>.d.tsæ–‡ä»¶ï¼Œå¦‚æœå¯¹åº”çš„npmåŒ…å­˜æ”¾åœ¨@typesä¸­ï¼Œè¦ä½¿ç”¨å¿…é¡»ä¸‹è½½ï¼å¦‚æœæ˜¯è‡ªå·±æœ¬åœ°çš„</em>.d.tsç”³æ˜æ–‡ä»¶ï¼Œåˆ™å’Œ@typesæ²¡æœ‰ä»»ä½•å…³ç³»ï¼<br><!-- \## ä¸‰ã€ ç¼–å†™è¯­æ³•\## å››ã€æ¡ˆä¾‹äº”ã€å¸¸ç”¨å·¥å…·å‚è€ƒ--></p><!-- END#1 --><h1 id="ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶"><a href="#ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶"></a>ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶</h1><!-- \#2 [Typescriptå…¥é—¨æ•™ç¨‹-å£°æ˜æ–‡ä»¶](https://ts.xcatliu.com/basics/declaration-files.html#å‘å¸ƒå£°æ˜æ–‡ä»¶) --><p>## ä»€ä¹ˆæ˜¯å£°æ˜è¯­å¥Â§<br>å‡å¦‚æˆ‘ä»¬æƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ jQueryï¼Œä¸€ç§å¸¸è§çš„æ–¹å¼æ˜¯åœ¨ html ä¸­é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ jQueryï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ $ æˆ– jQuery äº†ã€‚</p><p>## ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶Â§<br>é€šå¸¸æˆ‘ä»¬ä¼šæŠŠå£°æ˜è¯­å¥æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼ˆjQuery.d.tsï¼‰ä¸­ï¼Œè¿™å°±æ˜¯å£°æ˜æ–‡ä»¶3</p><p>### ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶Â§<br>å½“ç„¶ï¼ŒjQuery çš„å£°æ˜æ–‡ä»¶ä¸éœ€è¦æˆ‘ä»¬å®šä¹‰äº†ï¼Œç¤¾åŒºå·²ç»å¸®æˆ‘ä»¬å®šä¹‰å¥½äº†ï¼šjQuery in DefinitelyTypedã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æ›´æ¨èçš„æ˜¯ä½¿ç”¨ @types ç»Ÿä¸€ç®¡ç†ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶ã€‚</p><p>@types çš„ä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥ç”¨ npm å®‰è£…å¯¹åº”çš„å£°æ˜æ¨¡å—å³å¯ï¼Œä»¥ jQuery ä¸¾ä¾‹ï¼š<br><code>npm install @types/jquery --save-dev</code></p><p>## ä¹¦å†™å£°æ˜æ–‡ä»¶Â§<br><!-- å½“ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“æ²¡æœ‰æä¾›å£°æ˜æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±ä¹¦å†™å£°æ˜æ–‡ä»¶äº†ã€‚å‰é¢åªä»‹ç»äº†æœ€ç®€å•çš„å£°æ˜æ–‡ä»¶å†…å®¹ï¼Œè€ŒçœŸæ­£ä¹¦å†™ä¸€ä¸ªå£°æ˜æ–‡ä»¶å¹¶ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹ï¼Œä»¥ä¸‹ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•ä¹¦å†™å£°æ˜æ–‡ä»¶ã€‚ --></p><p>åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œå£°æ˜æ–‡ä»¶çš„å†…å®¹å’Œä½¿ç”¨æ–¹å¼ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</p><!-- åº“çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼šå…¨å±€å˜é‡ï¼šé€šè¿‡ `<script>` æ ‡ç­¾å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œæ³¨å…¥å…¨å±€å˜é‡npm åŒ…ï¼šé€šè¿‡ import foo from 'foo' å¯¼å…¥ï¼Œç¬¦åˆ ES6 æ¨¡å—è§„èŒƒUMD åº“ï¼šæ—¢å¯ä»¥é€šè¿‡ <`script>` æ ‡ç­¾å¼•å…¥ï¼Œåˆå¯ä»¥é€šè¿‡ `import` å¯¼å…¥ç›´æ¥æ‰©å±•å…¨å±€å˜é‡ï¼šé€šè¿‡ `<script>` æ ‡ç­¾å¼•å…¥åï¼Œæ”¹å˜ä¸€ä¸ªå…¨å±€å˜é‡çš„ç»“æ„åœ¨ npm åŒ…æˆ– UMD åº“ä¸­æ‰©å±•å…¨å±€å˜é‡ï¼šå¼•ç”¨ npm åŒ…æˆ– UMD åº“åï¼Œæ”¹å˜ä¸€ä¸ªå…¨å±€å˜é‡çš„ç»“æ„æ¨¡å—æ’ä»¶ï¼šé€šè¿‡ `<script>` æˆ– `import` å¯¼å…¥åï¼Œæ”¹å˜å¦ä¸€ä¸ªæ¨¡å—çš„ç»“æ„\## å‘å¸ƒå£°æ˜æ–‡ä»¶\### å°†å£°æ˜æ–‡ä»¶å’Œæºç æ”¾åœ¨ä¸€èµ·1) å¦‚æœå£°æ˜æ–‡ä»¶æ˜¯é€šè¿‡ tsc è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆæ— éœ€åšä»»ä½•å…¶ä»–é…ç½®ï¼Œåªéœ€è¦æŠŠç¼–è¯‘å¥½çš„æ–‡ä»¶ä¹Ÿå‘å¸ƒåˆ° npm ä¸Šï¼Œä½¿ç”¨æ–¹å°±å¯ä»¥è·å–åˆ°ç±»å‹æç¤ºäº†ã€‚2) å¦‚æœæ˜¯æ‰‹åŠ¨å†™çš„å£°æ˜æ–‡ä»¶ï¼Œé‚£ä¹ˆéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼Œæ‰èƒ½è¢«æ­£ç¡®çš„è¯†åˆ«ï¼š* ç»™ package.json ä¸­çš„ types æˆ– typings å­—æ®µæŒ‡å®šä¸€ä¸ªç±»å‹å£°æ˜æ–‡ä»¶åœ°å€* åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œç¼–å†™ä¸€ä¸ª index.d.ts æ–‡ä»¶* é’ˆå¯¹å…¥å£æ–‡ä»¶ï¼ˆpackage.json ä¸­çš„ main å­—æ®µæŒ‡å®šçš„å…¥å£æ–‡ä»¶ï¼‰ï¼Œç¼–å†™ä¸€ä¸ªåŒåä¸åŒåç¼€çš„ .d.ts æ–‡ä»¶\### å°†å£°æ˜æ–‡ä»¶å‘å¸ƒåˆ° @types ä¸‹ --><h1 id="å£°æ˜æ–‡ä»¶æ–‡æ¡£"><a href="#å£°æ˜æ–‡ä»¶æ–‡æ¡£" class="headerlink" title="å£°æ˜æ–‡ä»¶æ–‡æ¡£"></a>å£°æ˜æ–‡ä»¶æ–‡æ¡£</h1><p><a href="https://www.tslang.cn/docs/handbook/declaration-files/library-structures.html" target="_blank" rel="noopener">typescriptæ–‡æ¡£-å£°æ˜æ–‡ä»¶</a></p><h2 id="è¯†åˆ«åº“çš„ç±»å‹"><a href="#è¯†åˆ«åº“çš„ç±»å‹" class="headerlink" title="è¯†åˆ«åº“çš„ç±»å‹"></a>è¯†åˆ«åº“çš„ç±»å‹</h2><h3 id="å…¨å±€åº“"><a href="#å…¨å±€åº“" class="headerlink" title="å…¨å±€åº“"></a>å…¨å±€åº“</h3><h3 id="æ¨¡å—åŒ–åº“"><a href="#æ¨¡å—åŒ–åº“" class="headerlink" title="æ¨¡å—åŒ–åº“"></a>æ¨¡å—åŒ–åº“</h3><h3 id="ä½¿ç”¨ä¾èµ–"><a href="#ä½¿ç”¨ä¾èµ–" class="headerlink" title="ä½¿ç”¨ä¾èµ–"></a>ä½¿ç”¨ä¾èµ–</h3><h3 id="è¡¥å……è¯´æ˜"><a href="#è¡¥å……è¯´æ˜" class="headerlink" title="è¡¥å……è¯´æ˜"></a>è¡¥å……è¯´æ˜</h3><p>é˜²æ­¢å‘½åå†²çª</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;typescript å£°æ˜æ–‡ä»¶ä»‹ç»&lt;!-- å†å² --&gt;åŠä½¿ç”¨&lt;/p&gt;
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T14:23:16.227Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/Microsoft/TypeScript" target="_blank" rel="noopener">https://github.com/Microsoft/TypeScript</a><br><a href="https://www.typescriptlang.org/zh/docs/" target="_blank" rel="noopener">https://www.typescriptlang.org/zh/docs/</a></p><!-- typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®ï¼šhttps://www.tslang.cn/docs/handbook/tsconfig-json.htmltypescriptå…¥é—¨æ•™ç¨‹-ç±»å‹æ–­è¨€: https://ts.xcatliu.com/basics/type-assertion.htmlPS: ç®€ä»‹ï¼ŒåŸºç¡€ï¼Œè¿›é˜¶ï¼Œå·¥ç¨‹ï¼Œæ„Ÿè°¢ã€‚ --><p>TypeScript: é™æ€ç±»å‹æ£€æŸ¥å™¨</p><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><h1 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started"></a>Get Started</h1><p>Quick introductions based on your background or preference.</p><p>TS for the New Programmer<br>TypeScript for JS Programmers<br>TS for Java/C# Programmers<br>TS for Functional Programmers<br>TypeScript Tooling in 5 minutes</p><h1 id="Handbook"><a href="#Handbook" class="headerlink" title="Handbook"></a>Handbook</h1><p>A great first read for your daily TS work.</p><h2 id="The-TypeScript-Handbook"><a href="#The-TypeScript-Handbook" class="headerlink" title="The TypeScript Handbook"></a>The TypeScript Handbook</h2><h2 id="The-Basics"><a href="#The-Basics" class="headerlink" title="The Basics"></a>The Basics</h2><h2 id="Everyday-Types"><a href="#Everyday-Types" class="headerlink" title="Everyday Types"></a>Everyday Types</h2><h2 id="Narrowing"><a href="#Narrowing" class="headerlink" title="Narrowing"></a>Narrowing</h2><h2 id="More-on-Functions"><a href="#More-on-Functions" class="headerlink" title="More on Functions"></a>More on Functions</h2><h2 id="Object-Types"><a href="#Object-Types" class="headerlink" title="Object Types"></a>Object Types</h2><h2 id="Type-Manipulation"><a href="#Type-Manipulation" class="headerlink" title="Type Manipulation"></a>Type Manipulation</h2><p>Creating Types from Types<br>Generics<br>Keyof Type Operator<br>Typeof Type Operator<br>Indexed Access Types<br>Conditional Types<br>Mapped Types<br>Template Literal Types</p><h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h2><h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><h1 id="Tutorials"><a href="#Tutorials" class="headerlink" title="Tutorials"></a>Tutorials</h1><p>Using TypeScript in several environments.</p><h2 id="ASP-NET-Core"><a href="#ASP-NET-Core" class="headerlink" title="ASP.NET Core"></a>ASP.NET Core</h2><h2 id="Gulp"><a href="#Gulp" class="headerlink" title="Gulp"></a>Gulp</h2><h2 id="DOM-Manipulation"><a href="#DOM-Manipulation" class="headerlink" title="DOM Manipulation"></a>DOM Manipulation</h2><h2 id="Migrating-from-JavaScript"><a href="#Migrating-from-JavaScript" class="headerlink" title="Migrating from JavaScript"></a>Migrating from JavaScript</h2><h2 id="Using-Babel-with-TypeScript"><a href="#Using-Babel-with-TypeScript" class="headerlink" title="Using Babel with TypeScript"></a>Using Babel with TypeScript</h2><h1 id="Declaration-Files"><a href="#Declaration-Files" class="headerlink" title="Declaration Files"></a>Declaration Files</h1><p>Learn how to write declaration files to describe existing JavaScript. Important for DefinitelyTyped contributions.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Declaration-Reference"><a href="#Declaration-Reference" class="headerlink" title="Declaration Reference"></a>Declaration Reference</h2><h2 id="Library-Structures"><a href="#Library-Structures" class="headerlink" title="Library Structures"></a>Library Structures</h2><h2 id="d-ts-Templates"><a href="#d-ts-Templates" class="headerlink" title=".d.ts Templates"></a>.d.ts Templates</h2><p>Modules .d.ts<br>Module: Plugin<br>Module: Class<br>Module: Function<br>Global .d.ts<br>Global: Modifying Module</p><h2 id="Doâ€™s-and-Donâ€™ts"><a href="#Doâ€™s-and-Donâ€™ts" class="headerlink" title="Doâ€™s and Donâ€™ts"></a>Doâ€™s and Donâ€™ts</h2><h2 id="Deep-Dive"><a href="#Deep-Dive" class="headerlink" title="Deep Dive"></a>Deep Dive</h2><h2 id="Publishing"><a href="#Publishing" class="headerlink" title="Publishing"></a>Publishing</h2><h2 id="Consumption"><a href="#Consumption" class="headerlink" title="Consumption"></a>Consumption</h2><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><p>How to use TypeScript-powered JavaScript tooling.</p><h2 id="JS-Projects-Utilizing-TypeScript"><a href="#JS-Projects-Utilizing-TypeScript" class="headerlink" title="JS Projects Utilizing TypeScript"></a>JS Projects Utilizing TypeScript</h2><h2 id="Type-Checking-JavaScript-Files"><a href="#Type-Checking-JavaScript-Files" class="headerlink" title="Type Checking JavaScript Files"></a>Type Checking JavaScript Files</h2><h2 id="JSDoc-Reference"><a href="#JSDoc-Reference" class="headerlink" title="JSDoc Reference"></a>JSDoc Reference</h2><h2 id="Creating-d-ts-Files-from-js-files"><a href="#Creating-d-ts-Files-from-js-files" class="headerlink" title="Creating .d.ts Files from .js files"></a>Creating .d.ts Files from .js files</h2><h1 id="Project-Configuration"><a href="#Project-Configuration" class="headerlink" title="Project Configuration"></a>Project Configuration</h1><p>Compiler configuration reference.</p><h2 id="What-is-a-tsconfig-json"><a href="#What-is-a-tsconfig-json" class="headerlink" title="What is a tsconfig.json"></a>What is a tsconfig.json</h2><h2 id="Compiler-Options-in-MSBuild"><a href="#Compiler-Options-in-MSBuild" class="headerlink" title="Compiler Options in MSBuild"></a>Compiler Options in MSBuild</h2><h2 id="TSConfig-Reference"><a href="#TSConfig-Reference" class="headerlink" title="TSConfig Reference"></a>TSConfig Reference</h2><h2 id="tsc-CLI-Options"><a href="#tsc-CLI-Options" class="headerlink" title="tsc CLI Options"></a>tsc CLI Options</h2><h2 id="Project-References"><a href="#Project-References" class="headerlink" title="Project References"></a>Project References</h2><h2 id="Integrating-with-Build-Tools"><a href="#Integrating-with-Build-Tools" class="headerlink" title="Integrating with Build Tools"></a>Integrating with Build Tools</h2><h2 id="Configuring-Watch"><a href="#Configuring-Watch" class="headerlink" title="Configuring Watch"></a>Configuring Watch</h2><h2 id="Nightly-Builds"><a href="#Nightly-Builds" class="headerlink" title="Nightly Builds"></a>Nightly Builds</h2><h1 id="Cheat-Sheets"><a href="#Cheat-Sheets" class="headerlink" title="Cheat Sheets"></a>Cheat Sheets</h1><p><strong>Downloadable</strong> syntax reference pages for different parts of everyday TypeScript code.</p><h2 id="Control-Flow-Analysis"><a href="#Control-Flow-Analysis" class="headerlink" title="Control Flow Analysis"></a>Control Flow Analysis</h2><h2 id="Classes-1"><a href="#Classes-1" class="headerlink" title="Classes"></a>Classes</h2><h2 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h2><h2 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h2><h2 id="Download-PDFs-and-PNGs"><a href="#Download-PDFs-and-PNGs" class="headerlink" title="Download PDFs and PNGs"></a>Download PDFs and PNGs</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/Microsoft/TypeScript&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/Microsoft/TypeScript&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.typescriptlang.org/zh/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/zh/docs/&lt;/a&gt;&lt;/p&gt;
&lt;!-- 
typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®ï¼šhttps://www.tslang.cn/docs/handbook/tsconfig-json.html

typescriptå…¥é—¨æ•™ç¨‹-ç±»å‹æ–­è¨€: https://ts.xcatliu.com/basics/type-assertion.html
PS: ç®€ä»‹ï¼ŒåŸºç¡€ï¼Œè¿›é˜¶ï¼Œå·¥ç¨‹ï¼Œæ„Ÿè°¢ã€‚
 --&gt;
&lt;p&gt;TypeScript: é™æ€ç±»å‹æ£€æŸ¥å™¨&lt;/p&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£1-Get Started</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/typescript%E6%96%87%E6%A1%A31-Get%20Started/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/typescriptæ–‡æ¡£1-Get Started/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T14:25:27.993Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.typescriptlang.org/zh/docs/handbook/typescript-from-scratch.html" target="_blank" rel="noopener">https://www.typescriptlang.org/zh/docs/handbook/typescript-from-scratch.html</a></p><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><h2 id="TypeScript-for-the-New-Programmer"><a href="#TypeScript-for-the-New-Programmer" class="headerlink" title="TypeScript for the New Programmer"></a>TypeScript for the New Programmer</h2><p>JavaScript çš„ç±»å‹åŒ–è¶…é›†</p><p>ä¸è¿‡ï¼ŒTypeScript ä¸ JavaScript æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>è¯­æ³•<br>TypeScript æ˜¯ JavaScript çš„ è¶…é›† ï¼šå› æ­¤ JS è¯­æ³•æ˜¯åˆæ³•çš„ TSã€‚&lt;!â€“ è¯­æ³•æ˜¯æŒ‡æˆ‘ä»¬ç¼–å†™æ–‡æœ¬ä»¥ç»„æˆç¨‹åºçš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œè¿™æ®µä»£ç æœ‰ä¸€ä¸ª è¯­æ³• é”™è¯¯ï¼Œå› ä¸ºå®ƒç¼ºå°‘ä¸€ä¸ª )ï¼š</p><p>ç±»å‹<br>ä½†æ˜¯ï¼ŒTypeScript æ˜¯ä¸€ä¸ª ç±»å‹åŒ– çš„è¶…é›†ï¼Œæ„å‘³ç€å®ƒæ·»åŠ äº†é’ˆå¯¹å¦‚ä½•ä½¿ç”¨ä¸åŒç±»å‹çš„å€¼çš„è§„åˆ™ã€‚<!-- ä¹‹å‰å…³äº obj.heigth çš„é”™è¯¯ä¸æ˜¯ è¯­æ³• é”™è¯¯ï¼Œè€Œæ˜¯ä»¥ä¸æ­£ç¡®çš„æ–¹å¼ä½¿ç”¨äº†æŸç§å€¼ï¼ˆ ç±»å‹ ï¼‰ã€‚ --></p><p>è¿è¡Œæ—¶è¡Œä¸º<br>TypeScript ä¿ç•™äº† JavaScript çš„ è¿è¡Œæ—¶è¡Œä¸º ã€‚<!-- ä¾‹å¦‚ï¼Œåœ¨JavaScript ä¸­è¢«é›¶é™¤çš„ç»“æœæ˜¯ Infinityï¼Œè€Œä¸æ˜¯æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚ -->åŸåˆ™ä¸Šï¼ŒTypeScript ç»ä¸ æ”¹å˜ JavaScript ä»£ç çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚</p><!-- è¿™æ„å‘³ç€ï¼Œå¦‚æœå°†ä»£ç ä» JavaScript è¿ç§»åˆ° TypeScript ï¼Œå³ä½¿ TypeScript è®¤ä¸ºä»£ç æœ‰ç±»å‹é”™è¯¯ï¼Œä¹Ÿå¯ä»¥ ä¿è¯ ä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚ --><p>æ“¦é™¤ç±»å‹<br>ç²—ç•¥åœ°è¯´ï¼Œä¸€æ—¦ TypeScript çš„ç¼–è¯‘å™¨å®Œæˆäº†æ£€æŸ¥ä»£ç çš„å·¥ä½œï¼Œå®ƒå°±ä¼š æ“¦é™¤ ç±»å‹ä»¥ç”Ÿæˆæœ€ç»ˆçš„â€œå·²ç¼–è¯‘â€ä»£ç <!-- ã€‚è¿™æ„å‘³ç€ä¸€æ—¦æ‚¨çš„ä»£ç è¢«ç¼–è¯‘ï¼Œç”Ÿæˆçš„æ™®é€š JS ä»£ç ä¾¿æ²¡æœ‰ç±»å‹ä¿¡æ¯ã€‚ --><br><!-- è¿™ä¹Ÿæ„å‘³ç€ TypeScript ç»ä¸ä¼šæ ¹æ®å®ƒæ¨æ–­çš„ç±»å‹æ›´æ”¹ç¨‹åºçš„ è¡Œä¸º ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå°½ç®¡æ‚¨å¯èƒ½ä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çœ‹åˆ°ç±»å‹é”™è¯¯ï¼Œä½†ç±»å‹ç³»ç»Ÿè‡ªèº«ä¸ç¨‹åºå¦‚ä½•è¿è¡Œæ— å…³ã€‚ --></p><h2 id="TypeScript-for-JavaScript-Programmers"><a href="#TypeScript-for-JavaScript-Programmers" class="headerlink" title="TypeScript for JavaScript Programmers"></a>TypeScript for JavaScript Programmers</h2><h3 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h3><!-- é€šè¿‡æ„ŸçŸ¥ JavaScript çš„å·¥ä½œåŸç†ï¼ŒTypeScript å¯ä»¥æ„å»ºä¸€ä¸ªæ¥å— JavaScript ä»£ç ä½†å…·æœ‰ç±»å‹çš„ç±»å‹ç³»ç»Ÿã€‚è¿™ä¸ªç±»å‹ç³»ç»Ÿä½¿å¾—æˆ‘ä»¬ä¸éœ€è¦æ·»åŠ é¢å¤–çš„å­—ç¬¦æ¥æ˜¾å¼åœ°æŒ‡å®šç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒTypeScriptå°±æ˜¯è¿™æ ·çŸ¥é“ helloWorld æ˜¯ string ç±»å‹çš„ã€‚ä½ å¯èƒ½å·²ç»åœ¨ Visual Studio Code ä¸­ç¼–å†™äº† JavaScriptï¼Œå¹¶å·²ä½¿ç”¨äº†ç¼–è¾‘å™¨çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚Visual Studio Code ä½¿ç”¨äº† TypeScript çš„å¼•æ“ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°å¤„ç† JavaScriptã€‚ --><h3 id="å®šä¹‰ç±»å‹"><a href="#å®šä¹‰ç±»å‹" class="headerlink" title="å®šä¹‰ç±»å‹"></a>å®šä¹‰ç±»å‹</h3><p>JavaScript ä¸­å·²ç»æœ‰ä¸€äº›åŸºæœ¬ç±»å‹å¯ç”¨ï¼šbooleanã€ bigintã€ nullã€numberã€ stringã€ symbol å’Œ undefinedï¼Œå®ƒä»¬éƒ½å¯ä»¥åœ¨æ¥å£ä¸­ä½¿ç”¨ã€‚TypeScript å°†æ­¤åˆ—è¡¨æ‰©å±•ä¸ºæ›´å¤šçš„å†…å®¹ï¼Œä¾‹å¦‚ any ï¼ˆå…è®¸ä»»ä½•ç±»å‹ï¼‰ã€unknown ï¼ˆç¡®ä¿ä½¿ç”¨æ­¤ç±»å‹çš„äººå£°æ˜ç±»å‹æ˜¯ä»€ä¹ˆï¼‰ã€ never ï¼ˆè¿™ç§ç±»å‹ä¸å¯èƒ½å‘ç”Ÿï¼‰å’Œ void ï¼ˆè¿”å› undefined æˆ–æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼‰ã€‚</p><p>æ„å»ºç±»å‹æœ‰ä¸¤ç§è¯­æ³•ï¼š æ¥å£å’Œç±»å‹ã€‚ ä½ åº”è¯¥æ›´å–œæ¬¢ interfaceã€‚å½“éœ€è¦ç‰¹å®šåŠŸèƒ½æ—¶ä½¿ç”¨ type ã€‚</p><h3 id="ç»„åˆç±»å‹"><a href="#ç»„åˆç±»å‹" class="headerlink" title="ç»„åˆç±»å‹"></a>ç»„åˆç±»å‹</h3><!-- ä½¿ç”¨ TypeScriptï¼Œå¯ä»¥é€šè¿‡ç»„åˆç®€å•ç±»å‹æ¥åˆ›å»ºå¤æ‚ç±»å‹ã€‚ -->æœ‰ä¸¤ç§æµè¡Œçš„æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼šè”åˆå’Œæ³›å‹ã€‚<br>#### è”åˆ<br>ä½¿ç”¨è”åˆï¼Œå¯ä»¥å£°æ˜ç±»å‹å¯ä»¥æ˜¯è®¸å¤šç±»å‹ä¸­çš„ä¸€ç§ã€‚<br>#### æ³›å‹<br>æ³›å‹ä¸ºç±»å‹æä¾›å˜é‡ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æ•°ç»„ã€‚æ²¡æœ‰æ³›å‹çš„æ•°ç»„å¯ä»¥åŒ…å«ä»»ä½•å†…å®¹ã€‚å¸¦æœ‰æ³›å‹çš„æ•°ç»„å¯ä»¥æè¿°æ•°ç»„åŒ…å«çš„å€¼ã€‚<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StringArray = <span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"><span class="keyword">type</span> NumberArray = <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt;;</span><br><span class="line"><span class="keyword">type</span> ObjectWithNameArray = <span class="built_in">Array</span>&lt;&#123; name: <span class="built_in">string</span> &#125;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// # å£°æ˜è‡ªå·±ä½¿ç”¨æ³›å‹çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">interface</span> Backpack&lt;Type&gt; &#123;</span><br><span class="line">  add: <span class="function">(<span class="params">obj: Type</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="keyword">get</span>: <span class="function"><span class="params">()</span> =&gt;</span> Type;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™ä¸€è¡Œæ˜¯ä¸€ä¸ªç®€å†™ï¼Œå¯ä»¥å‘Šè¯‰ TypeScript æœ‰ä¸€ä¸ªå¸¸é‡ï¼Œå«åš`backpack`ï¼Œå¹¶ä¸”ä¸ç”¨æ‹…å¿ƒå®ƒæ˜¯ä»å“ª</span></span><br><span class="line"><span class="comment">// é‡Œæ¥çš„ã€‚</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> backpack: Backpack&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"><span class="comment">// å¯¹è±¡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢å£°æ˜äº†å®ƒä½œä¸º Backpack çš„å˜é‡éƒ¨åˆ†ã€‚</span></span><br><span class="line"><span class="keyword">const</span> object = backpack.get();</span><br><span class="line"><span class="comment">// å› ä¸º backpack å˜é‡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸èƒ½å°†æ•°å­—ä¼ é€’ç»™ add å‡½æ•°ã€‚</span></span><br><span class="line">backpack.add(<span class="number">23</span>);</span><br><span class="line"><span class="comment">// Argument of type 'number' is not assignable to parameter of type 'string'.</span></span><br></pre></td></tr></table></figure><h3 id="ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿï¼ˆstructural-type-systemï¼‰"><a href="#ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿï¼ˆstructural-type-systemï¼‰" class="headerlink" title="ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿï¼ˆstructural type systemï¼‰"></a>ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿï¼ˆstructural type systemï¼‰</h3><p>TypeScript çš„ä¸€ä¸ªæ ¸å¿ƒåŸåˆ™æ˜¯ç±»å‹æ£€æŸ¥åŸºäºå¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºï¼ˆtype checking focuses on the shape that values haveï¼‰ã€‚<!-- è¿™æœ‰æ—¶è¢«å«åšâ€œé¸­å­ç±»å‹â€æˆ–â€œç»“æ„ç±»å‹â€ï¼ˆstructural typingï¼‰ã€‚ --></p><p>åœ¨ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿå½“ä¸­ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„ç»“æ„ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒç±»å‹çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/zh/docs/handbook/typescript-from-scratch.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/zh/docs/handbook/typescript-from-scratch.html&lt;/a&gt;&lt;/p&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
      <category term="typescriptæ–‡æ¡£" scheme="http://yoursite.com/categories/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£2-Handbook</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/typescript%E6%96%87%E6%A1%A32-Handbook/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/typescriptæ–‡æ¡£2-Handbook/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T16:42:30.247Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.typescriptlang.org/docs/handbook/intro.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/intro.html</a><br><a href="https://www.typescriptlang.org/zh/docs/handbook/2/basic-types.html" target="_blank" rel="noopener">https://www.typescriptlang.org/zh/docs/handbook/2/basic-types.html</a></p><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><h2 id="The-TypeScript-Handbook"><a href="#The-TypeScript-Handbook" class="headerlink" title="The TypeScript Handbook"></a>The TypeScript Handbook</h2><h2 id="The-Basics"><a href="#The-Basics" class="headerlink" title="The Basics"></a>The Basics</h2><h3 id="Static-type-checking"><a href="#Static-type-checking" class="headerlink" title="Static type-checking"></a>Static type-checking</h3><h3 id="Non-exception-Failures"><a href="#Non-exception-Failures" class="headerlink" title="Non-exception Failures"></a>Non-exception Failures</h3><h3 id="Types-for-Tooling"><a href="#Types-for-Tooling" class="headerlink" title="Types for Tooling"></a>Types for Tooling</h3><h3 id="tsc-the-TypeScript-compiler"><a href="#tsc-the-TypeScript-compiler" class="headerlink" title="tsc, the TypeScript compiler"></a>tsc, the TypeScript compiler</h3><h3 id="Emitting-with-Errors"><a href="#Emitting-with-Errors" class="headerlink" title="Emitting with Errors"></a>Emitting with Errors</h3><h3 id="Explicit-Types"><a href="#Explicit-Types" class="headerlink" title="Explicit Types"></a>Explicit Types</h3><h3 id="Erased-Types"><a href="#Erased-Types" class="headerlink" title="Erased Types"></a>Erased Types</h3><h3 id="Downleveling"><a href="#Downleveling" class="headerlink" title="Downleveling"></a>Downleveling</h3><h3 id="Strictness"><a href="#Strictness" class="headerlink" title="Strictness"></a>Strictness</h3><h3 id="noImplicitAny"><a href="#noImplicitAny" class="headerlink" title="noImplicitAny"></a>noImplicitAny</h3><h3 id="strictNullChecks"><a href="#strictNullChecks" class="headerlink" title="strictNullChecks"></a>strictNullChecks</h3><h2 id="Everyday-Types"><a href="#Everyday-Types" class="headerlink" title="Everyday Types"></a>Everyday Types</h2><h3 id="The-primitives-string-number-and-boolean"><a href="#The-primitives-string-number-and-boolean" class="headerlink" title="The primitives: string, number, and boolean"></a>The primitives: string, number, and boolean</h3><h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><h3 id="any"><a href="#any" class="headerlink" title="any"></a>any</h3><h4 id="noImplicitAny-1"><a href="#noImplicitAny-1" class="headerlink" title="noImplicitAny"></a>noImplicitAny</h4><h3 id="Type-Annotations-on-Variables"><a href="#Type-Annotations-on-Variables" class="headerlink" title="Type Annotations on Variables"></a>Type Annotations on Variables</h3><h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><h4 id="Parameter-Type-Annotations"><a href="#Parameter-Type-Annotations" class="headerlink" title="Parameter Type Annotations"></a>Parameter Type Annotations</h4><h4 id="Return-Type-Annotations"><a href="#Return-Type-Annotations" class="headerlink" title="Return Type Annotations"></a>Return Type Annotations</h4><h4 id="Anonymous-Functions"><a href="#Anonymous-Functions" class="headerlink" title="Anonymous Functions"></a>Anonymous Functions</h4><h3 id="Object-Types"><a href="#Object-Types" class="headerlink" title="Object Types"></a>Object Types</h3><h4 id="Optional-Properties"><a href="#Optional-Properties" class="headerlink" title="Optional Properties"></a>Optional Properties</h4><h3 id="Union-Types"><a href="#Union-Types" class="headerlink" title="Union Types"></a>Union Types</h3><h4 id="Defining-a-Union-Type"><a href="#Defining-a-Union-Type" class="headerlink" title="Defining a Union Type"></a>Defining a Union Type</h4><h4 id="Working-with-Union-Types"><a href="#Working-with-Union-Types" class="headerlink" title="Working with Union Types"></a>Working with Union Types</h4><h3 id="Type-Aliases"><a href="#Type-Aliases" class="headerlink" title="Type Aliases"></a>Type Aliases</h3><h3 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h3><h3 id="Differences-Between-Type-Aliases-and-Interfaces"><a href="#Differences-Between-Type-Aliases-and-Interfaces" class="headerlink" title="Differences Between Type Aliases and Interfaces"></a>Differences Between Type Aliases and Interfaces</h3><h3 id="Type-Assertions"><a href="#Type-Assertions" class="headerlink" title="Type Assertions"></a>Type Assertions</h3><h3 id="Literal-Types"><a href="#Literal-Types" class="headerlink" title="Literal Types"></a>Literal Types</h3><h3 id="Literal-Inference"><a href="#Literal-Inference" class="headerlink" title="Literal Inference"></a>Literal Inference</h3><h3 id="null-and-undefined"><a href="#null-and-undefined" class="headerlink" title="null and undefined"></a>null and undefined</h3><h4 id="strictNullChecks-off"><a href="#strictNullChecks-off" class="headerlink" title="strictNullChecks off"></a>strictNullChecks off</h4><h4 id="strictNullChecks-on"><a href="#strictNullChecks-on" class="headerlink" title="strictNullChecks on"></a>strictNullChecks on</h4><h4 id="Non-null-Assertion-Operator-Postfix"><a href="#Non-null-Assertion-Operator-Postfix" class="headerlink" title="Non-null Assertion Operator (Postfix !)"></a>Non-null Assertion Operator (Postfix !)</h4><h3 id="Enums"><a href="#Enums" class="headerlink" title="Enums"></a>Enums</h3><h3 id="Less-Common-Primitives"><a href="#Less-Common-Primitives" class="headerlink" title="Less Common Primitives"></a>Less Common Primitives</h3><h2 id="Narrowing"><a href="#Narrowing" class="headerlink" title="Narrowing"></a>Narrowing</h2><h2 id="More-on-Functions"><a href="#More-on-Functions" class="headerlink" title="More on Functions"></a>More on Functions</h2><h2 id="Object-Types-1"><a href="#Object-Types-1" class="headerlink" title="Object Types"></a>Object Types</h2><h2 id="Type-Manipulation"><a href="#Type-Manipulation" class="headerlink" title="Type Manipulation"></a>Type Manipulation</h2><p>Creating Types from Types<br>Generics<br>Keyof Type Operator<br>Typeof Type Operator<br>Indexed Access Types<br>Conditional Types<br>Mapped Types<br>Template Literal Types</p><h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h2><h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/intro.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/docs/handbook/intro.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.typescriptlang.org/zh/docs/handbook/2/basic-types.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/zh/docs/handbook/2/basic-types.html&lt;/a&gt;&lt;/p&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
      <category term="typescriptæ–‡æ¡£" scheme="http://yoursite.com/categories/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£6-Declaration Files</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/typescript%E6%96%87%E6%A1%A36-Declaration%20Files/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/typescriptæ–‡æ¡£6-Declaration Files/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T16:42:35.202Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html</a></p><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><p><a href="https://juejin.cn/post/6987735091925483551" target="_blank" rel="noopener">ä¸€æ–‡è¯»æ‡‚TSçš„(.d.ts)æ–‡ä»¶</a></p><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Declaration-Reference"><a href="#Declaration-Reference" class="headerlink" title="Declaration Reference"></a>Declaration Reference</h2><h2 id="Library-Structures"><a href="#Library-Structures" class="headerlink" title="Library Structures"></a>Library Structures</h2><h2 id="d-ts-Templates"><a href="#d-ts-Templates" class="headerlink" title=".d.ts Templates"></a>.d.ts Templates</h2><p>Modules .d.ts<br>Module: Plugin<br>Module: Class<br>Module: Function<br>Global .d.ts<br>Global: Modifying Module</p><h2 id="Doâ€™s-and-Donâ€™ts"><a href="#Doâ€™s-and-Donâ€™ts" class="headerlink" title="Doâ€™s and Donâ€™ts"></a>Doâ€™s and Donâ€™ts</h2><h2 id="Deep-Dive"><a href="#Deep-Dive" class="headerlink" title="Deep Dive"></a>Deep Dive</h2><h2 id="Publishing"><a href="#Publishing" class="headerlink" title="Publishing"></a>Publishing</h2><h2 id="Consumption"><a href="#Consumption" class="headerlink" title="Consumption"></a>Consumption</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html&lt;/a&gt;&lt;/p&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
&lt;p&gt;&lt;a href=&quot;https://juejin.cn/post/6987735091925483551&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸€æ–‡è¯»æ‡‚TSçš„(.d.ts)æ–‡ä»¶&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
      <category term="typescriptæ–‡æ¡£" scheme="http://yoursite.com/categories/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£7-JavaScript</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/typescript%E6%96%87%E6%A1%A37-JavaScript/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/typescriptæ–‡æ¡£7-JavaScript/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T14:29:41.670Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html</a></p><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><!-- # JavaScript --><p>How to use TypeScript-powered JavaScript tooling.</p><h2 id="JS-Projects-Utilizing-TypeScript"><a href="#JS-Projects-Utilizing-TypeScript" class="headerlink" title="JS Projects Utilizing TypeScript"></a>JS Projects Utilizing TypeScript</h2><p>The type system in TypeScript has different levels of strictness when working with a codebase:</p><p>A type-system based only on inference with JavaScript code</p><ul><li>Incremental typing in JavaScript via JSDoc</li><li>Using // @ts-check in a JavaScript file</li><li>TypeScript code</li><li>TypeScript with strict enabled<br>Each step represents a move towards a safer type-system, but not every project needs that level of verification.<h3 id="TypeScript-with-JavaScript"><a href="#TypeScript-with-JavaScript" class="headerlink" title="TypeScript with JavaScript"></a>TypeScript with JavaScript</h3><h3 id="Providing-Type-Hints-in-JS-via-JSDoc"><a href="#Providing-Type-Hints-in-JS-via-JSDoc" class="headerlink" title="Providing Type Hints in JS via JSDoc"></a>Providing Type Hints in JS via JSDoc</h3>In a .js file, types can often be inferred. When types canâ€™t be inferred, they can be specified using JSDoc syntax.</li></ul><p>JSDoc annotations come before a declaration will be used to set the type of that declaration. For example:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;number&#125;</span> </span>*/</span></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"> </span><br><span class="line">x = <span class="number">0</span>; <span class="comment">// OK</span></span><br><span class="line">x = <span class="literal">false</span>; <span class="comment">// OK?!</span></span><br></pre></td></tr></table></figure><h3 id="ts-check"><a href="#ts-check" class="headerlink" title="@ts-check"></a>@ts-check</h3><!-- The last line of the previous code sample would raise an error in TypeScript, but it doesnâ€™t by default in a JS project.  -->To enable errors in your JavaScript files add: <code>// @ts-check</code> to the first line in your .js files to have TypeScript raise it as an error.<br><br>If you have a lot of JavaScript files you want to add errors to then you can switch to using a <a href>jsconfig.json</a>. You can skip checking some files by adding a <code>// @ts-nocheck</code> comment to files.<br><br>TypeScript may offer you errors which you disagree with, in those cases you can ignore errors on specific lines by adding <code>// @ts-ignore</code> or<code>// @ts-expect-error</code>on the preceding line.<br><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @ts-check</span></span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;number&#125;</span> </span>*/</span></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"> </span><br><span class="line">x = <span class="number">0</span>; <span class="comment">// OK</span></span><br><span class="line">x = <span class="literal">false</span>; <span class="comment">// Not OK</span></span><br><span class="line"><span class="comment">// Type 'boolean' is not assignable to type 'number'.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @ts-expect-error</span></span><br><span class="line">x = <span class="literal">false</span>; <span class="comment">// Not OK</span></span><br></pre></td></tr></table></figure><h2 id="Type-Checking-JavaScript-Files"><a href="#Type-Checking-JavaScript-Files" class="headerlink" title="Type Checking JavaScript Files"></a>Type Checking JavaScript Files</h2><h2 id="JSDoc-Reference"><a href="#JSDoc-Reference" class="headerlink" title="JSDoc Reference"></a>JSDoc Reference</h2><p>The list below outlines which constructs are currently supported when using JSDoc annotations to provide type information in JavaScript files.</p><!-- Note any tags which are not explicitly listed below (such as @async) are not yet supported. --><h2 id="Creating-d-ts-Files-from-js-files"><a href="#Creating-d-ts-Files-from-js-files" class="headerlink" title="Creating .d.ts Files from .js files"></a>Creating .d.ts Files from .js files</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html&lt;/a&gt;&lt;/p&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
      <category term="typescriptæ–‡æ¡£" scheme="http://yoursite.com/categories/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptæ–‡æ¡£8-Project Configuration</title>
    <link href="http://yoursite.com/w3/jslib/typescript%E6%96%87%E6%A1%A3/typescript%E6%96%87%E6%A1%A38-Project%20Configuration/"/>
    <id>http://yoursite.com/w3/jslib/typescriptæ–‡æ¡£/typescriptæ–‡æ¡£8-Project Configuration/</id>
    <published>2023-02-19T00:00:00.000Z</published>
    <updated>2023-02-22T16:42:27.006Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a><br><a href="https://www.tslang.cn/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/handbook/tsconfig-json.html</a></p><!-- typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®ï¼šhttps://www.tslang.cn/docs/handbook/tsconfig-json.htmltypescriptå…¥é—¨æ•™ç¨‹-ç±»å‹æ–­è¨€: https://ts.xcatliu.com/basics/type-assertion.htmlPS: ç®€ä»‹ï¼ŒåŸºç¡€ï¼Œè¿›é˜¶ï¼Œå·¥ç¨‹ï¼Œæ„Ÿè°¢ã€‚ --><!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š --><a id="more"></a><p style="text-align:right">2023.2.19 æ˜ŸæœŸæ—¥</p><p>Compiler configuration reference.</p><h2 id="What-is-a-tsconfig-json"><a href="#What-is-a-tsconfig-json" class="headerlink" title="What is a tsconfig.json"></a>What is a tsconfig.json</h2><h2 id="Compiler-Options-in-MSBuild"><a href="#Compiler-Options-in-MSBuild" class="headerlink" title="Compiler Options in MSBuild"></a>Compiler Options in MSBuild</h2><h2 id="TSConfig-Reference"><a href="#TSConfig-Reference" class="headerlink" title="TSConfig Reference"></a>TSConfig Reference</h2><h2 id="tsc-CLI-Options"><a href="#tsc-CLI-Options" class="headerlink" title="tsc CLI Options"></a>tsc CLI Options</h2><h2 id="Project-References"><a href="#Project-References" class="headerlink" title="Project References"></a>Project References</h2><h2 id="Integrating-with-Build-Tools"><a href="#Integrating-with-Build-Tools" class="headerlink" title="Integrating with Build Tools"></a>Integrating with Build Tools</h2><h2 id="Configuring-Watch"><a href="#Configuring-Watch" class="headerlink" title="Configuring Watch"></a>Configuring Watch</h2><h2 id="Nightly-Builds"><a href="#Nightly-Builds" class="headerlink" title="Nightly Builds"></a>Nightly Builds</h2><h1 id="typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®"><a href="#typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®" class="headerlink" title="typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®"></a>typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®</h1><p>typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®ï¼š<a href="https://www.tslang.cn/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/handbook/tsconfig-json.html</a></p><h2 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h2><h2 id="é”™è¯¯ä¿¡æ¯åˆ—è¡¨"><a href="#é”™è¯¯ä¿¡æ¯åˆ—è¡¨" class="headerlink" title="é”™è¯¯ä¿¡æ¯åˆ—è¡¨"></a>é”™è¯¯ä¿¡æ¯åˆ—è¡¨</h2><h2 id="ç¼–è¯‘é€‰é¡¹"><a href="#ç¼–è¯‘é€‰é¡¹" class="headerlink" title="ç¼–è¯‘é€‰é¡¹"></a>ç¼–è¯‘é€‰é¡¹</h2><h2 id="é¡¹ç›®å¼•ç”¨"><a href="#é¡¹ç›®å¼•ç”¨" class="headerlink" title="é¡¹ç›®å¼•ç”¨"></a>é¡¹ç›®å¼•ç”¨</h2><h2 id="MSBuildç¼–è¯‘é€‰é¡¹"><a href="#MSBuildç¼–è¯‘é€‰é¡¹" class="headerlink" title="MSBuildç¼–è¯‘é€‰é¡¹"></a>MSBuildç¼–è¯‘é€‰é¡¹</h2><h2 id="æ„å»ºå·¥å…·é›†æˆ"><a href="#æ„å»ºå·¥å…·é›†æˆ" class="headerlink" title="æ„å»ºå·¥å…·é›†æˆ"></a>æ„å»ºå·¥å…·é›†æˆ</h2><h2 id="æ¯æ—¥æ„å»º"><a href="#æ¯æ—¥æ„å»º" class="headerlink" title="æ¯æ—¥æ„å»º"></a>æ¯æ—¥æ„å»º</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/tsconfig-json.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.typescriptlang.org/docs/handbook/tsconfig-json.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.tslang.cn/docs/handbook/tsconfig-json.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.tslang.cn/docs/handbook/tsconfig-json.html&lt;/a&gt;&lt;/p&gt;
&lt;!-- 
typescriptæ–‡æ¡£-é¡¹ç›®é…ç½®ï¼šhttps://www.tslang.cn/docs/handbook/tsconfig-json.html

typescriptå…¥é—¨æ•™ç¨‹-ç±»å‹æ–­è¨€: https://ts.xcatliu.com/basics/type-assertion.html
PS: ç®€ä»‹ï¼ŒåŸºç¡€ï¼Œè¿›é˜¶ï¼Œå·¥ç¨‹ï¼Œæ„Ÿè°¢ã€‚
 --&gt;
&lt;!-- å‰é¢æˆ‘ä»¬æåˆ°ï¼Œä¸€äº›è¯­è¨€æ ¹æœ¬ä¸å…è®¸é‚£äº›é”™è¯¯çš„ç¨‹åºè¿è¡Œã€‚åœ¨ä¸è¿è¡Œä»£ç çš„æƒ…å†µä¸‹æ£€æµ‹å…¶ä¸­çš„é”™è¯¯ç§°ä¸º é™æ€æ£€æŸ¥ ã€‚æ ¹æ®è¢«æ“ä½œçš„å€¼çš„ç§ç±»æ¥ç¡®å®šæ˜¯ä»€ä¹ˆé”™è¯¯å’Œä»€ä¹ˆä¸æ˜¯é”™è¯¯ï¼Œè¿™ç§°ä¸ºé™æ€ ç±»å‹ æ£€æŸ¥ã€‚

TypeScript åœ¨æ‰§è¡Œä¹‹å‰ï¼ŒåŸºäº å€¼çš„ç±»å‹ æ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰é”™è¯¯ã€‚å®ƒæ˜¯ é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚ä¾‹å¦‚ï¼ŒåŸºäº obj çš„ ç±»å‹ï¼ŒTypeScript åœ¨ä¸Šé¢çš„æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼š 
--&gt;
    
    </summary>
    
      <category term="w3" scheme="http://yoursite.com/categories/w3/"/>
    
      <category term="jslib" scheme="http://yoursite.com/categories/w3/jslib/"/>
    
      <category term="typescriptæ–‡æ¡£" scheme="http://yoursite.com/categories/w3/jslib/typescript%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="typescript" scheme="http://yoursite.com/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>Typescriptä½¿ç”¨è®°å½•</title>
    <link href="http://yoursite.com/sum/jsplus/typescript%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
    <id>http://yoursite.com/sum/jsplus/typescriptä½¿ç”¨è®°å½•/</id>
    <published>2023-02-18T00:00:00.000Z</published>
    <updated>2023-08-20T15:19:47.380Z</updated>
    
    <content type="html"><![CDATA[<p style="text-align:right"> 2023.2.18 æ˜ŸæœŸå…­ </p><ol><li><p>å¿½ç•¥æŠ¥é”™æç¤º</p><blockquote><p>Using a @ts-ignore comment to silence the error </p><!-- `/* tslint:disable:no-unused-variable */`PS: ä¸Šé¢æŒ‡å®šæŠ¥é”™ç±»å‹å»å¿½ç•¥æ— æ•ˆ --></blockquote></li><li><p><code>Property &#39;xxx&#39; does not exist on type YYY</code><br>1ã€å°†å¯¹è±¡è®¾ç½®æˆ any <code>item:any</code><br>2ã€é€šè¿‡å­—ç¬¦æ–¹å¼è·å–å¯¹è±¡å±æ€§ <code>item[&quot;articleId&quot;]</code><br>3ã€å£°æ˜æ–­è¨€ï¼Œå¼ºåˆ¶æ‰§è¡Œ <code>(item as any).articleId == val;</code></p><!-- > æ˜¯å› ä¸ºTypescriptåœ¨æ‰§è¡Œä»£ç æ£€æŸ¥æ—¶åœ¨è¯¥å¯¹è±¡æ²¡æœ‰å®šä¹‰ç›¸åº”å±æ€§ï¼Œé‡åˆ°è¯¥é”™è¯¯æœ‰ä»¥ä¸‹å‡ ç§è§£å†³åŠæ³•ã€‚ --></li></ol><ol start="3"><li>æœªä½¿ç”¨çš„å˜é‡é…ç½®ã€‚åŒ…æ‹¬å®šä¹‰å’Œå‡½æ•°<!-- [tslint how to disable error "someVariable is declared but its value is never read"](https://stackoverflow.com/questions/50011443/tslint-how-to-disable-error-somevariable-is-declared-but-its-value-is-never-rea) -->eslint.js<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    rules: &#123;</span><br><span class="line">        <span class="comment">// "noUnusedLocals": false,</span></span><br><span class="line">        <span class="comment">// 'no-unused-vars': 'off',</span></span><br><span class="line">        <span class="string">'@typescript-eslint/no-unused-vars'</span>: [<span class="string">'error'</span>, </span><br><span class="line">            &#123; <span class="string">'varsIgnorePattern'</span>: <span class="string">'^_'</span>, <span class="string">"argsIgnorePattern"</span>: <span class="string">"e|error|args|param"</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">'@typescript-eslint/naming-convention'</span>: [</span><br><span class="line">            <span class="string">'error'</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                selector: <span class="string">'variable'</span>,</span><br><span class="line">                format: [<span class="string">'camelCase'</span>, <span class="string">'PascalCase'</span>, <span class="string">'UPPER_CASE'</span>],</span><br><span class="line">                leadingUnderscore: <span class="string">'allow'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                selector: <span class="string">'function'</span>,</span><br><span class="line">                format: [<span class="string">'camelCase'</span>, <span class="string">'PascalCase'</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                selector: <span class="string">'typeLike'</span>,</span><br><span class="line">                format: [<span class="string">'PascalCase'</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><p>PS: éœ€è¦æŠŠtsconfog.jsonä¸­çš„å¼€å…³ä¹Ÿå…³æ‰<!-- ï¼ˆå¦‚æœæ˜¯tureä¸Šé¢çš„é…ç½®ä¸ä¼šç”Ÿæ•ˆï¼‰ -->ã€‚<br>tsconfig.json<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">        <span class="string">"noUnusedLocals"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">"noUnusedParameters"</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol start="4"><li>setTimeout å®šæ—¶å™¨ç±»å‹å®šä¹‰ã€‚<!-- [TypeScript - use correct version of setTimeout (node vs window)](https://stackoverflow.com/questions/45802988/typescript-use-correct-version-of-settimeout-node-vs-window) --><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ## 1 number æŠ¥é”™:  `TS2322: Type 'Timer' is not assignable to type 'number'.`</span></span><br><span class="line"><span class="keyword">let</span> n: number; </span><br><span class="line"><span class="comment">// ## 2 NodeJS.Timeout å¯ä»¥è¿è¡Œ</span></span><br><span class="line"><span class="keyword">let</span> n: NodeJS.Timeout;</span><br><span class="line"><span class="comment">// ## 3 ReturnType æœ€ä½³ã€‚</span></span><br><span class="line"><span class="keyword">let</span> timer: ReturnType&lt;<span class="keyword">typeof</span> setTimeout&gt; = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123; ... &#125;);</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>By using ReturnType<code>&lt;fn&gt;</code> you are getting independence from platform. You wonâ€™t be forced to use neither any nor window.setTimeout which will break if you run the code on nodeJS server (eg. server-side rendered page).</p></blockquote><p>#### åŸå› å®šä½<br><a href="https://www.jianshu.com/p/6421f2a884fe" target="_blank" rel="noopener">Typescript ç»™setTimeout çš„è¿”å›å€¼å®šä¹‰ä¸º numberå‡ºé”™</a><br><a href="https://blog.csdn.net/weixin_42369598/article/details/125000346" target="_blank" rel="noopener">Typescript ç»™setTimeout çš„è¿”å›å€¼å®šä¹‰ä¸º numberå‡ºé”™</a></p><p>é€šè¿‡ cmd + ç‚¹å‡»å®šä½ï¼Œå‘ç°setTimeoutä½¿ç”¨çš„æ˜¯ Node.js ä¸‹çš„æ¥å£å®šä¹‰<code>@types/node index.d.ts</code><br>é€šè¿‡yarn.lockå®šä½ä¾èµ–ï¼Œå‘ç°æ¥æºäº<code>@types/react-dom</code></p><p>è€Œåœ¨typescriptä¸­ï¼Œwindowä¸‹çš„setTimeoutè¿”å›çš„æ˜¯numberï¼š</p><p>è§£å†³ï¼š<br>ç§»é™¤å¯¹@type/nodeçš„ä¾èµ–(ä¸å¤ªå¯è¡Œ)<br>ä½¿ç”¨window.setTimeout</p><p>#### taroå†…ç»“åˆuseRef ä½¿ç”¨</p><ol><li>ä¸ç”¨anyå»å®šä¹‰</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ## å®šä¹‰</span></span><br><span class="line"><span class="comment">// ### 1 ç›´æ¥å®šä¹‰ï¼Œ</span></span><br><span class="line"><span class="keyword">const</span> timerRef = useRef&lt;ReturnType&lt;<span class="keyword">typeof</span> setTimeout&gt;&gt;(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// ### 2 ä¹Ÿå¯ä»¥å…ˆå®šä¹‰ç±»å‹</span></span><br><span class="line">type Timer = ReturnType&lt;<span class="keyword">typeof</span> setTimeout&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ## 2 èµ‹å€¼æ—¶æŠ¥é”™ï¼š `Cannot assign to 'current' because it is a read-only property.ts(2540)` ã€‚ è§£å†³ï¼šéœ€è¦æ·»åŠ null ç±»å‹</span></span><br><span class="line">timerRef.current = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ## 3 æ­£ç¡®çš„å®šä¹‰</span></span><br><span class="line"><span class="keyword">const</span> timerRef = useRef&lt;ReturnType&lt;<span class="keyword">typeof</span> setTimeout&gt; | <span class="literal">null</span>&gt;(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h2 id="ReturnType"><a href="#ReturnType" class="headerlink" title="ReturnType"></a>ReturnType</h2><!-- [TSä¸­çš„å†…ç½®æ¡ä»¶ç±»å‹ï¼šReturnType](https://juejin.cn/post/7151669172970192904) --><p>å†…ç½®æ¡ä»¶ç±»å‹ï¼šReturnType<code>&lt;Type&gt;</code></p><p>å…¶ä»–å†…ç½®çš„æ¡ä»¶ç±»å‹è¿˜æœ‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tså¤åˆ¶ä»£ç Exclude&lt;T, U&gt; -- ä»Tä¸­å‰”é™¤å¯ä»¥èµ‹å€¼ç»™Uçš„ç±»å‹ã€‚</span><br><span class="line">Extract&lt;T, U&gt; -- æå–Tä¸­å¯ä»¥èµ‹å€¼ç»™Uçš„ç±»å‹ã€‚</span><br><span class="line">NonNullable&lt;T&gt; -- ä»Tä¸­å‰”é™¤nullå’Œundefinedã€‚</span><br><span class="line">InstanceType&lt;T&gt; -- è·å–æ„é€ å‡½æ•°ç±»å‹çš„å®ä¾‹ç±»å‹ã€‚</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p style=&quot;text-align:right&quot;&gt; 2023.2.18 æ˜ŸæœŸå…­ &lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å¿½ç•¥æŠ¥é”™æç¤º&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Using a @ts-ignore comment to silence the error &lt;/p&gt;
      
    
    </summary>
    
      <category term="sum" scheme="http://yoursite.com/categories/sum/"/>
    
      <category term="jsplus" scheme="http://yoursite.com/categories/sum/jsplus/"/>
    
    
  </entry>
  
</feed>
