<p>title: 犀利开发—jQuery内核详解与实践-6_动画效果设计及其高效实践<br>date: 2018.1.16</p>
<h2 id="toc-fold-unfold"><a href="#toc-fold-unfold" class="headerlink" title="toc_fold: unfold"></a>toc_fold: unfold</h2><h2 id="第-1-章-jQ起步"><a href="#第-1-章-jQ起步" class="headerlink" title="第 1 章 jQ起步"></a>第 1 章 jQ起步</h2><h2 id="第-2-章-jQ解密技术"><a href="#第-2-章-jQ解密技术" class="headerlink" title="第 2 章 jQ解密技术"></a>第 2 章 jQ解密技术</h2><h2 id="第-3-章-高效选择的技巧与原理"><a href="#第-3-章-高效选择的技巧与原理" class="headerlink" title="第 3 章 高效选择的技巧与原理"></a>第 3 章 高效选择的技巧与原理</h2><h2 id="第-4-章-文档对象的操作及高效实践"><a href="#第-4-章-文档对象的操作及高效实践" class="headerlink" title="第 4 章 文档对象的操作及高效实践"></a>第 4 章 文档对象的操作及高效实践</h2><h2 id="第-5-章-事件封装机制与解析"><a href="#第-5-章-事件封装机制与解析" class="headerlink" title="第 5 章 事件封装机制与解析"></a>第 5 章 事件封装机制与解析</h2><h3 id="5-1-事件模型"><a href="#5-1-事件模型" class="headerlink" title="5.1 事件模型"></a>5.1 事件模型</h3><h3 id="5-2-jQuery事件模型"><a href="#5-2-jQuery事件模型" class="headerlink" title="5.2 jQuery事件模型"></a>5.2 jQuery事件模型</h3><h3 id="5-3-jQuery页面初始化"><a href="#5-3-jQuery页面初始化" class="headerlink" title="5.3 jQuery页面初始化"></a>5.3 jQuery页面初始化</h3><h3 id="5-4-使用JS自定义jQ的事件方法"><a href="#5-4-使用JS自定义jQ的事件方法" class="headerlink" title="5.4 使用JS自定义jQ的事件方法"></a>5.4 使用JS自定义jQ的事件方法</h3><p style="text-align:right">2018.1.16 星期 23:12</p> 

<h2 id="第-6-章-动画效果设计及其高效实践"><a href="#第-6-章-动画效果设计及其高效实践" class="headerlink" title="第 6 章 动画效果设计及其高效实践"></a>第 6 章 动画效果设计及其高效实践</h2><h3 id="6-1-直接显示和隐藏"><a href="#6-1-直接显示和隐藏" class="headerlink" title="6.1 直接显示和隐藏"></a>6.1 直接显示和隐藏</h3><h4 id="1-jQ实现显隐效果"><a href="#1-jQ实现显隐效果" class="headerlink" title="1 jQ实现显隐效果"></a>1 jQ实现显隐效果</h4><h4 id="2-JS实现显隐效果"><a href="#2-JS实现显隐效果" class="headerlink" title="2 JS实现显隐效果"></a>2 JS实现显隐效果</h4><pre><code>DOMextend(&quot;show&quot;,function(){
    var _this=this
    _this.style.display=&quot;&quot;
    return _this
})
</code></pre><h4 id="3-折叠效果"><a href="#3-折叠效果" class="headerlink" title="3 折叠效果"></a>3 折叠效果</h4><h4 id="4-树形结构"><a href="#4-树形结构" class="headerlink" title="4 树形结构"></a>4 树形结构</h4><h4 id="5-Tab选项卡"><a href="#5-Tab选项卡" class="headerlink" title="5 Tab选项卡"></a>5 Tab选项卡</h4><h4 id="6-显隐切换"><a href="#6-显隐切换" class="headerlink" title="6 显隐切换"></a>6 显隐切换</h4><h3 id="6-2-滑动显示和隐藏"><a href="#6-2-滑动显示和隐藏" class="headerlink" title="6.2 滑动显示和隐藏"></a>6.2 滑动显示和隐藏</h3><h4 id="1-jQ实现的滑动显隐效果"><a href="#1-jQ实现的滑动显隐效果" class="headerlink" title="1 jQ实现的滑动显隐效果"></a>1 jQ实现的滑动显隐效果</h4><h4 id="2-JS实现的滑动显示效果"><a href="#2-JS实现的滑动显示效果" class="headerlink" title="2 JS实现的滑动显示效果"></a>2 JS实现的滑动显示效果</h4><p>slideDown(t,fn)<br>// EXCLUDE:setInterval实现的；可能已经不具有现实意义了</p>
<h4 id="3-JS实现的滑动隐藏效果"><a href="#3-JS实现的滑动隐藏效果" class="headerlink" title="3 JS实现的滑动隐藏效果"></a>3 JS实现的滑动隐藏效果</h4><p>// EXCLUDE:setInterval实现的；可能已经不具有现实意义了</p>
<h4 id="4-jQ设计的滑动显隐切换"><a href="#4-jQ设计的滑动显隐切换" class="headerlink" title="4 jQ设计的滑动显隐切换"></a>4 jQ设计的滑动显隐切换</h4><p>slideToggle()</p>
<p>// NOTE:自己做的playerNote，用了css3的height，transition，性能应该好一些<br>// TODO:可以考虑封装一波</p>
<h3 id="6-3-渐隐和渐显"><a href="#6-3-渐隐和渐显" class="headerlink" title="6.3 渐隐和渐显"></a>6.3 渐隐和渐显</h3><p>不透明度</p>
<h4 id="1-jQ实现的渐隐渐显效果"><a href="#1-jQ实现的渐隐渐显效果" class="headerlink" title="1 jQ实现的渐隐渐显效果"></a>1 jQ实现的渐隐渐显效果</h4><p>fadeIn(t,fn),fadeOut(),fadeTo(2000,0.4)</p>
<h4 id="2-JS实现的渐显效果"><a href="#2-JS实现的渐显效果" class="headerlink" title="2 JS实现的渐显效果"></a>2 JS实现的渐显效果</h4><pre><code>DOMextend(&apos;setOpacity&apos;,function(n){
    var _this=this
    var n=parseFloat(n)
    if(n&amp;&amp;(n&gt;100)||!n) n=100
    if(n&amp;&amp;n&lt;0&gt;) n=0
    if(_this.filters){
        _this.style.filter=&quot;alpha(opacity=&quot;+n+&quot;)&quot;
    }else{
        _this.style.opacity=n/100
    }
})
</code></pre><p>// EXCLUDE:setInterval实现的；可能已经不具有现实意义了</p>
<h4 id="3-JS实现的渐隐效果"><a href="#3-JS实现的渐隐效果" class="headerlink" title="3 JS实现的渐隐效果"></a>3 JS实现的渐隐效果</h4><p>// EXCLUDE:setInterval实现的；可能已经不具有现实意义了<br>    DOMextend(‘fadeOut’,function(time,fn){<br>        var _this=this<br>        var isShow=_this.getStyle(‘display’)<br>        if(isShow==’none’) return<br>        var t=5 //设置定时器的间隔时间为5毫秒<br>        var step=t*100/time  //计算步长<br>        var i=100 //定义不透明度初始值为100<br>        var interval=setInterval(function(){<br>            _this.setOpacity(i)<br>            i-=step<br>            if(i&lt;=0){<br>                clearTimout(interval)<br>                _this.style.display=’none’<br>                if(fn)//如果存在回调函数，则调用该回调函数<br>                    fn()<br>            }<br>        },t)<br>    })</p>
<h3 id="6-4-自定义动画"><a href="#6-4-自定义动画" class="headerlink" title="6.4 自定义动画"></a>6.4 自定义动画</h3><h4 id="1-jQ自定义动画"><a href="#1-jQ自定义动画" class="headerlink" title="1 jQ自定义动画"></a>1 jQ自定义动画</h4><p>animate({animateObj},t,effect,fn)<br>animate({animateObj},[others])</p>
<h4 id="2-使用jQ停止动画"><a href="#2-使用jQ停止动画" class="headerlink" title="2 使用jQ停止动画"></a>2 使用jQ停止动画</h4><p>stop(是否清空队列,是否立即完成)</p>
<h4 id="3-使用jQ关闭动画"><a href="#3-使用jQ关闭动画" class="headerlink" title="3 使用jQ关闭动画"></a>3 使用jQ关闭动画</h4><p>jQuery.fx.off=true</p>
<h4 id="4-使用JS实现滚动动画"><a href="#4-使用JS实现滚动动画" class="headerlink" title="4 使用JS实现滚动动画"></a>4 使用JS实现滚动动画</h4><pre><code>var $=function(id){
    retrun &quot;string&quot;==typeof id? document.getElementById(id):id
}
var addEventHandler=function(oTarget,sEventType,fnHandler){
    if(oTarget.addEventHandler){//DOM 2事件处理模型
        oTarget.addEventHandler(sEventType,fnHandler)
    }else if(oTarget.attachEvent){
        oTarget.attachEvent(&quot;on&quot;+sEventType,fnHandler)
    }else{//DOM 0 级事件模型
        oTarget[&quot;on&quot;+sEventType]=fnHandler
    }
}

var Scroller=function(){
    this.init.apply(this,arguments)
}
Scroller.prototype={
    init:function(box,scroller,left,right,options){
        var _this=this,box=$(box),scroller=$(scroller)
        this.boxWidth=box.offsetWidth
        this.scroWidth=scroller.offsetWidth
        if(this.scroWidth&lt;=this.boxWidth) return
        box.style.overflow=&quot;hidden&quot;
        scroller.appendChild(scroller.cloneNode(true))
        this.box=box
        this.scroll=true
        this.setOptions(optionis)
        this.side=1//滚动方向向左
        switch(this.options.Side){
            case &quot;right&quot;:
                this.side=-1
                break;
            case &quot;left&quot;:
            default:
                tihs.side=1    
        }
        addEventHandler(scroller,&quot;mouseover&quot;，function(){_this.scroll=false})
        addEventHandler(scroller,&quot;mouseout&quot;，function(){_this.scroll=true})
        if(left){addEventHandler($(left),&quot;click&quot;,function(){_this.side=1})}
        if(right){addEventHandler($(right),&quot;click&quot;,function(){_this.side=-1})}
    },
    setOptions:function(options){
        this.options={//默认值
            Step:1,
            Time:10,
            Side:&quot;left&quot;
        }
        var options=options||{}
        for(var property in options){
            this.options[property]=options[property]
        }
    },
    scrolling:function(){
        if(this.scroll){
            var iscroll=this.box.scrollLeft,thisWidth=this.boxWidth
            if(this.side&gt;0){
                if(iscroll&gt;=(thisWidth*2-this.boxWidth)){iscroll-=thisWidth} 
            }else{
                if(iscroll&lt;=0){iscroll+=thisWidth}
            }
            this.box.scrollLeft=iscroll+this.optionis.Step*this.side
        }
        var _this=this
        window.setTimeout(function(){
            _this.scrolling()
        },this.options.Time)
    }
}
//最后，调用
new Scroller(&apos;box&apos;,&apos;scroll&apos;,&apos;left&apos;,&apos;right&apos;)
</code></pre><p>// TODO:自定义滚动，轮播，分页<br>    //acuviewer的页面上有滚动，还有分页，可以看一看用的插件，也可能也是自己写的</p>
<p style="text-align:right">2018.1.17 00:12</p>    

<h2 id="第-7-章-Ajax异步通信高效实践"><a href="#第-7-章-Ajax异步通信高效实践" class="headerlink" title="第 7 章 Ajax异步通信高效实践"></a>第 7 章 Ajax异步通信高效实践</h2><h3 id="7-1-Ajax应用的准备"><a href="#7-1-Ajax应用的准备" class="headerlink" title="7.1 Ajax应用的准备"></a>7.1 Ajax应用的准备</h3><h3 id="7-2-Ajax应用的"><a href="#7-2-Ajax应用的" class="headerlink" title="7.2 Ajax应用的"></a>7.2 Ajax应用的</h3><h3 id="7-3-从JS"><a href="#7-3-从JS" class="headerlink" title="7.3 从JS"></a>7.3 从JS</h3><h3 id="7-4-从jQ角度"><a href="#7-4-从jQ角度" class="headerlink" title="7.4 从jQ角度"></a>7.4 从jQ角度</h3><h2 id="第-8-章-高效开发和使用插件"><a href="#第-8-章-高效开发和使用插件" class="headerlink" title="第 8 章 高效开发和使用插件"></a>第 8 章 高效开发和使用插件</h2><h3 id="8-1-创建jQ"><a href="#8-1-创建jQ" class="headerlink" title="8.1 创建jQ"></a>8.1 创建jQ</h3><h3 id="8-2-创建jQ"><a href="#8-2-创建jQ" class="headerlink" title="8.2 创建jQ"></a>8.2 创建jQ</h3><h3 id="8-3-jQ-UI插件"><a href="#8-3-jQ-UI插件" class="headerlink" title="8.3 jQ UI插件"></a>8.3 jQ UI插件</h3><h2 id="第-9-章-jQ辅助工具"><a href="#第-9-章-jQ辅助工具" class="headerlink" title="第 9 章 jQ辅助工具"></a>第 9 章 jQ辅助工具</h2><h2 id="第-10-章-使用jQ打造Ajax异步交互式动态网站"><a href="#第-10-章-使用jQ打造Ajax异步交互式动态网站" class="headerlink" title="第 10 章 使用jQ打造Ajax异步交互式动态网站"></a>第 10 章 使用jQ打造Ajax异步交互式动态网站</h2><p style="text-align:right">2018.1. 星期 P</p>