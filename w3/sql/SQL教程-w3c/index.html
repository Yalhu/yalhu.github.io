<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="sql,">





  <link rel="alternate" href="/atom.xml" title="Yalhu" type="application/atom+xml">






<meta name="description" content="toc and abstract. 简单入门，也有一些left join等，还有函数http://w3school.com.cn/sql/index.asp   2017.9.26 星期二 15:13">
<meta name="keywords" content="sql">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL 教程 （W3c）">
<meta property="og:url" content="http://yoursite.com/w3/sql/SQL教程-w3c/index.html">
<meta property="og:site_name" content="Yalhu">
<meta property="og:description" content="toc and abstract. 简单入门，也有一些left join等，还有函数http://w3school.com.cn/sql/index.asp   2017.9.26 星期二 15:13">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-02-04T09:13:55.451Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SQL 教程 （W3c）">
<meta name="twitter:description" content="toc and abstract. 简单入门，也有一些left join等，还有函数http://w3school.com.cn/sql/index.asp   2017.9.26 星期二 15:13">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/w3/sql/SQL教程-w3c/">





  <title>SQL 教程 （W3c） | Yalhu</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yalhu</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">yalhu's blob</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/w3/sql/SQL教程-w3c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yalhu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/robbot.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yalhu">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SQL 教程 （W3c）</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-26T08:00:00+08:00">
                2017-09-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2020-02-04T17:13:55+08:00">
                2020-02-04
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/w3/" itemprop="url" rel="index">
                    <span itemprop="name">w3</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/w3/sql/" itemprop="url" rel="index">
                    <span itemprop="name">sql</span>
                  </a>
                </span>

                
                
              
            </span>
          
          
          

          
          
             <span id="/w3/sql/SQL教程-w3c/" class="leancloud_visitors" data-flag-title="SQL 教程 （W3c）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,918
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  13
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>toc and abstract.</p>
<p>简单入门，也有一些left join等，还有函数<br><!-- 简单抄了目录，用的时候再查 --><br><!-- 《SQL必知必会》学习较多 --><br><a href="http://w3school.com.cn/sql/index.asp" target="_blank" rel="noopener">http://w3school.com.cn/sql/index.asp</a>  </p>
<p style="text-align:right">2017.9.26 星期二 15:13</p>

<a id="more"></a>
<h2 id="一-基础教程"><a href="#一-基础教程" class="headerlink" title="一 基础教程"></a>一 基础教程</h2><h3 id="1-1-教程"><a href="#1-1-教程" class="headerlink" title="1.1 教程"></a>1.1 教程</h3><p>SQL 是用于访问和处理数据库的标准的计算机语言。<br>在本教程中，您将学到如何使用 SQL 访问和处理数据系统中的数据，这类数据库包括：Oracle, Sybase, SQL Server, DB2, Access 等等。</p>
<h3 id="1-2-简介"><a href="#1-2-简介" class="headerlink" title="1.2 简介"></a>1.2 简介</h3><h4 id="1-SQL-是用于访问和处理数据库的标准的计算机语言。"><a href="#1-SQL-是用于访问和处理数据库的标准的计算机语言。" class="headerlink" title="1 SQL 是用于访问和处理数据库的标准的计算机语言。"></a>1 SQL 是用于访问和处理数据库的标准的计算机语言。</h4><h4 id="什么是-SQL？"><a href="#什么是-SQL？" class="headerlink" title="什么是 SQL？"></a>什么是 SQL？</h4><p>SQL 指结构化查询语言<br>SQL 使我们有能力访问数据库<br>SQL 是一种 ANSI 的标准计算机语言   </p>
<blockquote>
<p>编者注：ANSI，美国国家标准化组织</p>
</blockquote>
<h4 id="2-SQL-是一种标准-但是…"><a href="#2-SQL-是一种标准-但是…" class="headerlink" title="2 SQL 是一种标准 - 但是…"></a>2 SQL 是一种标准 - 但是…</h4><p>SQL 是一门 ANSI 的标准计算机语言，用来访问和操作数据库系统。<br>SQL 语句用于取回和更新数据库中的数据。SQL 可与数据库程序协同工作，比如 MS Access、DB2、Informix、MS SQL Server、Oracle、Sybase 以及其他数据库系统。 </p>
<p>不幸地是，存在着很多不同版本的 SQL 语言，但是为了与 ANSI 标准相兼容，它们必须以相似的方式共同地来支持一些主要的关键词（比如 SELECT、UPDATE、DELETE、INSERT、WHERE 等等）。<br>注释：除了 SQL 标准之外，大部分 SQL 数据库程序都拥有它们自己的私有扩展！</p>
<h4 id="3-在您的网站中使用-SQL"><a href="#3-在您的网站中使用-SQL" class="headerlink" title="3 在您的网站中使用 SQL"></a>3 在您的网站中使用 SQL</h4><p>您需要以下要素：   </p>
<pre><code>1. RDBMS 数据库程序（比如 MS Access,SQL Server, MySQL）  
2. 服务器端脚本语言（比如 PHP 或 ASP）  
3. SQL  
4. HTML / CSS 
</code></pre><blockquote>
<h3 id="RDBMS"><a href="#RDBMS" class="headerlink" title="RDBMS"></a>RDBMS</h3><p>RDBMS 指的是关系型数据库管理系统。 </p>
<p>RDBMS 是 SQL 的基础，同样也是所有现代数据库系统的基础，比如 MS SQL Server, IBM DB2, Oracle, MySQL 以及 Microsoft Access。  </p>
<p>RDBMS 中的数据存储在被称为表（tables）的数据库对象中。    </p>
<p>表是相关的数据项的集合，它由列和行组成。</p>
</blockquote>
<h3 id="1-3-语法"><a href="#1-3-语法" class="headerlink" title="1.3 语法"></a>1.3 语法</h3><h4 id="1-数据库表"><a href="#1-数据库表" class="headerlink" title="1 数据库表"></a>1 数据库表</h4><h4 id="2-SQL-语句"><a href="#2-SQL-语句" class="headerlink" title="2 SQL 语句"></a>2 SQL 语句</h4><pre><code>SELECT LastName FROM Persons
</code></pre><h4 id="3-重要事项"><a href="#3-重要事项" class="headerlink" title="3 重要事项"></a>3 重要事项</h4><p><strong>SQL 对大小写不敏感！</strong></p>
<h4 id="4-SQL-语句后面的分号？"><a href="#4-SQL-语句后面的分号？" class="headerlink" title="4 SQL 语句后面的分号？"></a>4 SQL 语句后面的分号？</h4><ol>
<li>某些数据库系统要求在每条 SQL 命令的末端使用分号。</li>
<li>分号是在数据库系统中分隔每条 SQL 语句的标准方法，这样就可以在对服务器的相同请求中执行一条以上的语句。</li>
<li>如果您使用的是 MS Access 和 SQL Server 2000，则不必在每条 SQL 语句之后使用分号，不过某些数据库软件要求必须使用分号。</li>
</ol>
<h4 id="5-SQL-DML-和-DDL"><a href="#5-SQL-DML-和-DDL" class="headerlink" title="5 SQL DML 和 DDL"></a>5 SQL DML 和 DDL</h4><h5 id="1-数据操作语言-DML-查询和更新"><a href="#1-数据操作语言-DML-查询和更新" class="headerlink" title="1.数据操作语言 (DML):查询和更新"></a>1.数据操作语言 (DML):查询和更新</h5><pre><code>SELECT - 从数据库表中获取数据  
UPDATE - 更新数据库表中的数据  
DELETE - 从数据库表中删除数据  
INSERT INTO - 向数据库表中插入数据  
</code></pre><h5 id="2-数据定义语言-DDL-创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。"><a href="#2-数据定义语言-DDL-创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。" class="headerlink" title="2. 数据定义语言 (DDL):创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。"></a>2. 数据定义语言 (DDL):创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。</h5><pre><code>CREATE DATABASE - 创建新数据库  
ALTER DATABASE - 修改数据库  
CREATE TABLE - 创建新表  
ALTER TABLE - 变更（改变）数据库表   
DROP TABLE - 删除表  
CREATE INDEX - 创建索引（搜索键）  
DROP INDEX - 删除索引  
</code></pre><h3 id="1-4-select"><a href="#1-4-select" class="headerlink" title="1.4 select"></a>1.4 select</h3><pre><code>SELECT LastName,FirstName FROM Persons
SELECT * FROM Persons
</code></pre><h4 id="在结果集（result-set）中导航"><a href="#在结果集（result-set）中导航" class="headerlink" title="在结果集（result-set）中导航"></a>在结果集（result-set）中导航</h4><p>由 SQL 查询程序获得的结果被存放在一个结果集中。大多数数据库软件系统都允许使用编程函数在结果集中进行导航，比如：Move-To-First-Record、Get-Record-Content、Move-To-Next-Record 等等。</p>
<p>类似这些编程函数不在本教程讲解之列。如需学习通过函数调用访问数据的知识，请访问我们的 ADO 教程 和 PHP 教程。</p>
<h3 id="1-5-distinct"><a href="#1-5-distinct" class="headerlink" title="1.5 distinct"></a>1.5 distinct</h3><pre><code>SELECT DISTINCT Company FROM Orders 
</code></pre><h3 id="1-6-where"><a href="#1-6-where" class="headerlink" title="1.6 where"></a>1.6 where</h3><pre><code>SELECT * FROM Persons WHERE City=&apos;Beijing&apos;
</code></pre><ul>
<li>在某些版本的 SQL 中，操作符 &lt;&gt; 可以写为 !=。</li>
<li>引号的使用:<br>SQL 使用单引号来环绕文本值（大部分数据库系统也接受双引号）。如果是数值，请不要使用引号。    </li>
</ul>
<h3 id="1-7-AND-amp-OR"><a href="#1-7-AND-amp-OR" class="headerlink" title="1.7 AND &amp; OR"></a>1.7 AND &amp; OR</h3><pre><code>SELECT * FROM Persons WHERE FirstName=&apos;Thomas&apos; AND LastName=&apos;Carter&apos;
SELECT * FROM Persons WHERE firstname=&apos;Thomas&apos; OR lastname=&apos;Carter&apos;
SELECT * FROM Persons WHERE (FirstName=&apos;Thomas&apos; OR FirstName=&apos;William&apos;) AND LastName=&apos;Carter&apos;
</code></pre><h3 id="1-8-Order-By-DESC、ASCs"><a href="#1-8-Order-By-DESC、ASCs" class="headerlink" title="1.8 Order By (DESC、ASCs)"></a>1.8 Order By (DESC、ASCs)</h3><pre><code>SELECT Company, OrderNumber FROM Orders ORDER BY Company
SELECT Company, OrderNumber FROM Orders ORDER BY Company, OrderNumber
SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC
SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC, OrderNumber ASC
</code></pre><h3 id="1-9-insert"><a href="#1-9-insert" class="headerlink" title="1.9 insert"></a>1.9 insert</h3><pre><code>//插入新的行
INSERT INTO Persons VALUES (&apos;Gates&apos;, &apos;Bill&apos;, &apos;Xuanwumen 10&apos;, &apos;Beijing&apos;)
//指定的列中插入数据
INSERT INTO Persons (LastName, Address) VALUES (&apos;Wilson&apos;, &apos;Champs-Elysees&apos;)
</code></pre><h3 id="1-0-update"><a href="#1-0-update" class="headerlink" title="1.0 update"></a>1.0 update</h3><pre><code>//更新某一行中的一个列
UPDATE Person SET FirstName = &apos;Fred&apos; WHERE LastName = &apos;Wilson&apos; 
//更新某一行中的若干列
UPDATE Person SET Address = &apos;Zhongshan 23&apos;, City = &apos;Nanjing&apos; WHERE LastName = &apos;Wilson&apos;
</code></pre><h3 id="1-1-delete"><a href="#1-1-delete" class="headerlink" title="1.1 delete"></a>1.1 delete</h3><pre><code>DELETE FROM Person WHERE LastName = &apos;Wilson&apos; 
//删除所有行:不删除表的情况下删除所有的行。这意味着表的结构、属性和索引都是完整的：
DELETE FROM table_name
DELETE * FROM table_name
</code></pre><h2 id="二-高级教程"><a href="#二-高级教程" class="headerlink" title="二 高级教程"></a>二 高级教程</h2><p>top,like,通配符,in,between,aliases,join/inner join/left join/right join/full join,union,select into,create db,create table,constraints,not null,unique,primary key,foreign key,check,default,create index,drop,alter,increment,view,date,nulls,isnull(),数据类型，服务器</p>
<h3 id="1-Top-PERCENT"><a href="#1-Top-PERCENT" class="headerlink" title="1 Top (-/PERCENT)"></a>1 Top (-/PERCENT)</h3><pre><code>SELECT TOP 2 * FROM Persons
SELECT TOP 50 PERCENT * FROM Persons
</code></pre><ul>
<li><p>MySQL 和 Oracle 中的 SQL SELECT TOP 是等价的</p>
<pre><code>//Mysql
SELECT * FROM Persons LIMIT 5
//Oracle
SELECT * FROM Persons WHERE ROWNUM &lt;= 5
</code></pre></li>
</ul>
<h3 id="2-Like"><a href="#2-Like" class="headerlink" title="2 Like"></a>2 Like</h3><pre><code>SELECT * FROM Persons WHERE City LIKE &apos;N%&apos;
SELECT * FROM Persons WHERE City LIKE &apos;%g&apos;
SELECT * FROM Persons WHERE City LIKE &apos;%lon%&apos;
SELECT * FROM Persons WHERE City NOT LIKE &apos;%lon%&apos;
</code></pre><h3 id="3-通配符"><a href="#3-通配符" class="headerlink" title="3 通配符"></a>3 通配符</h3><p>%  _ [charlist]  [^charlist]或者[!charlist]</p>
<pre><code>SELECT * FROM Persons WHERE City LIKE &apos;Ne%&apos;

SELECT * FROM Persons WHERE FirstName LIKE &apos;_eorge&apos;
SELECT * FROM Persons WHERE LastName LIKE &apos;C_r_er&apos;

SELECT * FROM Persons WHERE City LIKE &apos;[ALN]%&apos;
SELECT * FROM Persons WHERE City LIKE &apos;[!ALN]%&apos;
</code></pre><h3 id="4-In"><a href="#4-In" class="headerlink" title="4 In"></a>4 In</h3><pre><code>SELECT * FROM Persons WHERE LastName IN (&apos;Adams&apos;,&apos;Carter&apos;)
</code></pre><h3 id="5-Between"><a href="#5-Between" class="headerlink" title="5 Between"></a>5 Between</h3><pre><code>SELECT * FROM Persons WHERE LastName BETWEEN &apos;Adams&apos; AND &apos;Carter&apos;
SELECT * FROM Persons WHERE LastName NOT BETWEEN &apos;Adams&apos; AND &apos;Carter&apos;
</code></pre><blockquote>
<p>重要事项：不同的数据库对 BETWEEN…AND 操作符的处理方式是有差异的。某些数据库会列出介于 “Adams” 和 “Carter” 之间的人，但不包括 “Adams” 和 “Carter” ；某些数据库会列出介于 “Adams” 和 “Carter” 之间并包括 “Adams” 和 “Carter” 的人；而另一些数据库会列出介于 “Adams” 和 “Carter” 之间的人，包括 “Adams” ，但不包括 “Carter” 。<br>所以，请检查你的数据库是如何处理 BETWEEN….AND 操作符的！    </p>
</blockquote>
<h3 id="6-Aliases"><a href="#6-Aliases" class="headerlink" title="6 Aliases"></a>6 Aliases</h3><pre><code>SELECT po.OrderID, p.LastName, p.FirstName FROM Persons AS p, Product_Orders AS po WHERE p.LastName=&apos;Adams&apos; AND p.FirstName=&apos;John&apos;
//使用一个列名别名:结果列名更改了
SELECT LastName AS Family, FirstName AS Name FROM Persons
</code></pre><h3 id="7-Join-根据两个或多个表中的列之间的关系，从这些表中查询数据。"><a href="#7-Join-根据两个或多个表中的列之间的关系，从这些表中查询数据。" class="headerlink" title="7 Join: 根据两个或多个表中的列之间的关系，从这些表中查询数据。"></a>7 Join: 根据两个或多个表中的列之间的关系，从这些表中查询数据。</h3><pre><code>SELECT Persons.LastName, Persons.FirstName, rders.OrderNo
FROM Persons, Orders WHERE Persons.Id_P = Orders.Id_P
// 使用 Join 
SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo FROM Persons INNER JOIN Orders ON Persons.Id_P = Orders.Id_P ORDER BY Persons.LastName
</code></pre><p>不同的 SQL JOIN</p>
<ul>
<li>INNER JOIN(内连接): 如果表中有至少一个匹配，则返回行</li>
<li>LEFT JOIN: 即使右表中没有匹配，也从左表返回所有的行</li>
<li>RIGHT JOIN: 即使左表中没有匹配，也从右表返回所有的行</li>
<li>FULL JOIN: 只要其中一个表中存在匹配，就返回行<blockquote>
<p>注释：INNER JOIN 与 JOIN 是相同的。</p>
</blockquote>
</li>
</ul>
<h3 id="8-Inner-Join"><a href="#8-Inner-Join" class="headerlink" title="8 Inner Join"></a>8 Inner Join</h3><h3 id="9-Left-Join"><a href="#9-Left-Join" class="headerlink" title="9 Left Join"></a>9 Left Join</h3><h3 id="10-Right-Join"><a href="#10-Right-Join" class="headerlink" title="10 Right Join"></a>10 Right Join</h3><h3 id="11-Full-Join"><a href="#11-Full-Join" class="headerlink" title="11 Full Join"></a>11 Full Join</h3><h3 id="12-union-all-合并两个或多个-SELECT-语句的结果集。"><a href="#12-union-all-合并两个或多个-SELECT-语句的结果集。" class="headerlink" title="12 union (all): 合并两个或多个 SELECT 语句的结果集。"></a>12 union (all): 合并两个或多个 SELECT 语句的结果集。</h3><ul>
<li>请注意，UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。</li>
<li>注释：默认地，UNION 操作符选取不同的值。如果允许重复的值，请使用 UNION ALL。</li>
<li><p>UNION 结果集中的列名总是等于 UNION 中第一个 SELECT 语句中的列名。</p>
<pre><code>SELECT E_Name FROM Employees_China UNION SELECT E_Name FROM Employees_USA
SELECT E_Name FROM Employees_China UNION ALL SELECT E_Name FROM Employees_USA
</code></pre></li>
</ul>
<h3 id="13-select-into-用于创建表的备份复件"><a href="#13-select-into-用于创建表的备份复件" class="headerlink" title="13 select into: 用于创建表的备份复件"></a>13 select into: 用于创建表的备份复件</h3><pre><code>SELECT * INTO Persons_backup FROM Persons
//IN 子句可用于向另一个数据库中拷贝表：
SELECT * INTO Persons IN &apos;Backup.mdb&apos; FROM Persons
//如果我们希望拷贝某些域，可以在 SELECT 语句后列出这些域：
SELECT LastName,FirstName INTO Persons_backup FROM Persons
//也可以添加 WHERE 子句。
SELECT LastName,Firstname INTO Persons_backup FROM Persons WHERE City=&apos;Beijing&apos;
//从一个以上的表中选取数据也是可以做到的。
SELECT Persons.LastName,Orders.OrderNo INTO Persons_Order_Backup FROM Persons INNER JOIN Orders ON Persons.Id_P=Orders.Id_P
</code></pre><h3 id="14-create-db"><a href="#14-create-db" class="headerlink" title="14 create db"></a>14 create db</h3><pre><code>CREATE DATABASE my_db
</code></pre><h3 id="15-create-table"><a href="#15-create-table" class="headerlink" title="15 create table"></a>15 create table</h3><pre><code>CREATE TABLE Persons ( Id_P int,LastName varchar(255),FirstName varchar(255),Address varchar(255),City varchar(255) )
</code></pre><h3 id="16-约束-Constraints-用于限制加入表的数据的类型。"><a href="#16-约束-Constraints-用于限制加入表的数据的类型。" class="headerlink" title="16 约束 (Constraints):用于限制加入表的数据的类型。"></a>16 约束 (Constraints):用于限制加入表的数据的类型。</h3><h3 id="16-1-NOT-NULL"><a href="#16-1-NOT-NULL" class="headerlink" title="16.1 NOT NULL"></a>16.1 NOT NULL</h3><pre><code>CREATE TABLE Persons (Id_P int NOT NULL,LastName varchar255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255) )
</code></pre><h3 id="16-2-UNIQUE"><a href="#16-2-UNIQUE" class="headerlink" title="16.2 UNIQUE"></a>16.2 UNIQUE</h3><p>请注意，每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p>
<h3 id="16-3-PRIMARY-KEY"><a href="#16-3-PRIMARY-KEY" class="headerlink" title="16.3 PRIMARY KEY"></a>16.3 PRIMARY KEY</h3><h3 id="16-4-FOREIGN-KEY"><a href="#16-4-FOREIGN-KEY" class="headerlink" title="16.4 FOREIGN KEY"></a>16.4 FOREIGN KEY</h3><h3 id="16-5-CHECK"><a href="#16-5-CHECK" class="headerlink" title="16.5 CHECK"></a>16.5 CHECK</h3><h3 id="16-6-DEFAULT"><a href="#16-6-DEFAULT" class="headerlink" title="16.6 DEFAULT"></a>16.6 DEFAULT</h3><h3 id="17-create-index"><a href="#17-create-index" class="headerlink" title="17 create index"></a>17 create index</h3><h3 id="18-drop"><a href="#18-drop" class="headerlink" title="18 drop"></a>18 drop</h3><h3 id="19-alter"><a href="#19-alter" class="headerlink" title="19 alter"></a>19 alter</h3><h3 id="20-alter"><a href="#20-alter" class="headerlink" title="20 alter"></a>20 alter</h3><h3 id="21-increment"><a href="#21-increment" class="headerlink" title="21 increment"></a>21 increment</h3><h3 id="22-view"><a href="#22-view" class="headerlink" title="22 view"></a>22 view</h3><h3 id="23-date"><a href="#23-date" class="headerlink" title="23 date"></a>23 date</h3><h3 id="24-nulls"><a href="#24-nulls" class="headerlink" title="24 nulls"></a>24 nulls</h3><h3 id="25-isnull"><a href="#25-isnull" class="headerlink" title="25 isnull()"></a>25 isnull()</h3><h3 id="26-数据类型"><a href="#26-数据类型" class="headerlink" title="26 数据类型"></a>26 数据类型</h3><p>Microsoft Access、MySQL 以及 SQL Server 所使用的数据类型和范围。<br>参考链接：<a href="http://w3school.com.cn/sql/sql_datatypes.asp" target="_blank" rel="noopener">http://w3school.com.cn/sql/sql_datatypes.asp</a></p>
<h4 id="1-Microsoft-Access-数据类型"><a href="#1-Microsoft-Access-数据类型" class="headerlink" title="1.Microsoft Access 数据类型"></a>1.Microsoft Access 数据类型</h4><p>Text  Memo  Byte  Integer  Long  Single  Double  Currency  AutoNumber  Date/Time  Yes/No  Ole-Object  Hyperlink  Lookup Wizard</p>
<h4 id="2-MySQL-数据类型"><a href="#2-MySQL-数据类型" class="headerlink" title="2.MySQL 数据类型"></a>2.MySQL 数据类型</h4><p>在 MySQL 中，有三种主要的类型：文本、数字和日期/时间类型。</p>
<ul>
<li>text: CHAR(size)  VARCHAR(size) TINYTEXT TEXT BLOB  MEDIUMTEXT  MEDIUMBLOB  LONGTEXT  LONGBLOB   ENUM(x,y,z,etc.)  SET    </li>
<li>number: TINYINT(size)  SMALLINT(size)  MEDIUMINT(size)  INT(size)  BIGINT(size)  FLOAT(size,d)  DOUBLE(size,d)  DECIMAL(size,d)</li>
<li>date: DATE()  DATETIME()  TIME()  YEAR()</li>
</ul>
<h4 id="3-SQL-Server-数据类型"><a href="#3-SQL-Server-数据类型" class="headerlink" title="3.SQL Server 数据类型"></a>3.SQL Server 数据类型</h4><ul>
<li>Character 字符串：</li>
<li>Unicode 字符串：</li>
<li>Binary 类型：</li>
<li>Number 类型：</li>
<li>Date 类型：</li>
<li>其他数据类型：<h3 id="27-服务器"><a href="#27-服务器" class="headerlink" title="27 服务器"></a>27 服务器</h3>现代的 SQL 服务器构建在 RDBMS 之上。</li>
<li><h4 id="DBMS-数据库管理系统（Database-Management-System）"><a href="#DBMS-数据库管理系统（Database-Management-System）" class="headerlink" title="DBMS - 数据库管理系统（Database Management System）"></a>DBMS - 数据库管理系统（Database Management System）</h4><p>   数据库管理系统是一种可以访问数据库中数据的计算机程序。 </p>
<p>   DBMS 使我们有能力在数据库中提取、修改或者存贮信息。  </p>
<p>   不同的 DBMS 提供不同的函数供查询、提交以及修改数据。  </p>
</li>
<li><h4 id="RDBMS-关系数据库管理系统（Relational-Database-Management-System）"><a href="#RDBMS-关系数据库管理系统（Relational-Database-Management-System）" class="headerlink" title="RDBMS - 关系数据库管理系统（Relational Database          Management System）"></a>RDBMS - 关系数据库管理系统（Relational Database          Management System）</h4><p>   关系数据库管理系统 (RDBMS) 也是一种数据库管理系统，其数据库是根据数据间的关系来组织和访问数据的。  </p>
<p>   20 世纪 70 年代初，IBM 公司发明了 RDBMS。  </p>
<p>   RDBMS 是 SQL 的基础，也是所有现代数据库系统诸如 Oracle、SQL Server、IBM DB2、Sybase、MySQL 以及 Microsoft Access 的基础。</p>
</li>
</ul>
<h2 id="三-函数"><a href="#三-函数" class="headerlink" title="三 函数"></a>三 函数</h2><h3 id="functions-avg-count-first-last-max-min-sum-group-by-having-ucase-lcase-mid-round-now-format"><a href="#functions-avg-count-first-last-max-min-sum-group-by-having-ucase-lcase-mid-round-now-format" class="headerlink" title="functions-,avg,count,first,last,max,min,sum,group by-,having-,ucase,lcase,mid,round,now,format"></a>functions-,avg,count,first,last,max,min,sum,group by-,having-,ucase,lcase,mid,round,now,format</h3><h3 id="1-functions"><a href="#1-functions" class="headerlink" title="1 functions"></a>1 functions</h3><ul>
<li>合计函数（Aggregate functions）: 的操作面向一系列的值，并返回一个单一的值。<blockquote>
<p>注释：如果在 SELECT 语句的项目列表中的众多其它表达式中使用 SELECT 语句，则这个 SELECT 必须使用 GROUP BY 语句！</p>
</blockquote>
</li>
<li>Scalar 函数: 的操作面向某个单一的值，并返回基于输入值的一个单一的值。    </li>
</ul>
<h3 id="2-avg"><a href="#2-avg" class="headerlink" title="2 avg"></a>2 avg</h3><pre><code>SELECT AVG(OrderPrice) AS OrderAverage FROM Orders
SELECT Customer FROM Orders WHERE OrderPrice&gt;(SELECT AVG(OrderPrice) FROM Orders)
</code></pre><h3 id="3-count"><a href="#3-count" class="headerlink" title="3 count"></a>3 count</h3><pre><code>SELECT COUNT(Customer) AS CustomerNilsen FROM Orders WHERE Customer=&apos;Carter&apos;
//总行数
SELECT COUNT(*) AS NumberOfOrders FROM Orders
//表中不同客户的数目
SELECT COUNT(DISTINCT Customer) AS NumberOfCustomers FROM Orders
</code></pre><h3 id="4-first"><a href="#4-first" class="headerlink" title="4 first"></a>4 first</h3><pre><code>SELECT FIRST(OrderPrice) AS FirstOrderPrice FROM Orders
</code></pre><h3 id="5-last"><a href="#5-last" class="headerlink" title="5 last"></a>5 last</h3><h3 id="6-max"><a href="#6-max" class="headerlink" title="6 max"></a>6 max</h3><h3 id="7-min"><a href="#7-min" class="headerlink" title="7 min"></a>7 min</h3><h3 id="8-sum"><a href="#8-sum" class="headerlink" title="8 sum"></a>8 sum</h3><h3 id="9-group-by"><a href="#9-group-by" class="headerlink" title="9 group by-"></a>9 group by-</h3><p>用于结合合计函数，根据一个或多个列对结果集进行分组。</p>
<pre><code>//不使用的话，都5700
SELECT Customer,SUM(OrderPrice) FROM Orders GROUP BY Customer
//也可以对一个以上的列应用 GROUP BY 语句
SELECT Customer,OrderDate,SUM(OrderPrice) FROM Orders GROUP BY Customer,OrderDate
</code></pre><h3 id="10-having"><a href="#10-having" class="headerlink" title="10 having-"></a>10 having-</h3><p>在 SQL 中增加 HAVING 子句原因是，WHERE 关键字无法与合计函数一起使用。</p>
<pre><code>SELECT Customer,SUM(OrderPrice) FROM Orders GROUP BY Customer HAVING SUM(OrderPrice)&lt;2000
SELECT Customer,SUM(OrderPrice) FROM Orders WHERE Customer=&apos;Bush&apos; OR Customer=&apos;Adams&apos; GROUP BY Customer HAVING SUM(OrderPrice)&gt;1500
</code></pre><h3 id="11-ucase"><a href="#11-ucase" class="headerlink" title="11 ucase"></a>11 ucase</h3><h3 id="12-lcase"><a href="#12-lcase" class="headerlink" title="12 lcase"></a>12 lcase</h3><h3 id="13-mid"><a href="#13-mid" class="headerlink" title="13 mid"></a>13 mid</h3><h3 id="14-len"><a href="#14-len" class="headerlink" title="14 len"></a>14 len</h3><h3 id="15-round"><a href="#15-round" class="headerlink" title="15 round"></a>15 round</h3><h3 id="16-now"><a href="#16-now" class="headerlink" title="16 now"></a>16 now</h3><h3 id="17-format"><a href="#17-format" class="headerlink" title="17 format"></a>17 format</h3><h2 id="四-总结"><a href="#四-总结" class="headerlink" title="四 总结"></a>四 总结</h2><h3 id="1-快速参考"><a href="#1-快速参考" class="headerlink" title="1 快速参考"></a>1 快速参考</h3><h3 id="2-教程总结"><a href="#2-教程总结" class="headerlink" title="2 教程总结"></a>2 教程总结</h3><h2 id="五-测验"><a href="#五-测验" class="headerlink" title="五 测验"></a>五 测验</h2><p style="text-align:right">2017.9.26 二 18:14</p>


<table>
<thead>
<tr>
<th>章节</th>
<th>学习情况</th>
<th>截止日期</th>
<th>后期安排</th>
</tr>
</thead>
<tbody>
<tr>
<td>noted</td>
<td>md * 简明日志</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>coded</td>
<td>看了的部分都 coded</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>高级、函数</td>
<td>看了半块</td>
<td>2017.9.26 2</td>
<td>抽空、neededThenWork</td>
</tr>
</tbody>
</table>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>knowledge is no pay,reward is kindness</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="Yalhu 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Yalhu 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/sql/" rel="tag"><i class="fa fa-tag"></i> sql</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/w3/sql/mongodb8days/" rel="next" title="8天学通MongoDB">
                <i class="fa fa-chevron-left"></i> 8天学通MongoDB
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/w3/ser/php面向对象-runoob/" rel="prev" title="PHP 面向对象-Runoob">
                PHP 面向对象-Runoob <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/robbot.jpg" alt="Yalhu">
            
              <p class="site-author-name" itemprop="name">Yalhu</p>
              <p class="site-description motion-element" itemprop="description">no better,but great !</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">322</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">41</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:xxxx@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons">
              </a>
            </div>
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="/home2/" title="Home2" target="_blank">Home2</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="/archives2/" title="Archives2" target="_blank">Archives2</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="/acategories/" title="Acategories" target="_blank">Acategories</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一-基础教程"><span class="nav-text">一 基础教程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-教程"><span class="nav-text">1.1 教程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-简介"><span class="nav-text">1.2 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-SQL-是用于访问和处理数据库的标准的计算机语言。"><span class="nav-text">1 SQL 是用于访问和处理数据库的标准的计算机语言。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是-SQL？"><span class="nav-text">什么是 SQL？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-SQL-是一种标准-但是…"><span class="nav-text">2 SQL 是一种标准 - 但是…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-在您的网站中使用-SQL"><span class="nav-text">3 在您的网站中使用 SQL</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RDBMS"><span class="nav-text">RDBMS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-语法"><span class="nav-text">1.3 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-数据库表"><span class="nav-text">1 数据库表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-SQL-语句"><span class="nav-text">2 SQL 语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-重要事项"><span class="nav-text">3 重要事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-SQL-语句后面的分号？"><span class="nav-text">4 SQL 语句后面的分号？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-SQL-DML-和-DDL"><span class="nav-text">5 SQL DML 和 DDL</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-数据操作语言-DML-查询和更新"><span class="nav-text">1.数据操作语言 (DML):查询和更新</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-数据定义语言-DDL-创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。"><span class="nav-text">2. 数据定义语言 (DDL):创建或删除表格。我们也可以定义索引（键），规定表之间的链接，以及施加表间的约束。</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-select"><span class="nav-text">1.4 select</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#在结果集（result-set）中导航"><span class="nav-text">在结果集（result-set）中导航</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-distinct"><span class="nav-text">1.5 distinct</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-where"><span class="nav-text">1.6 where</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-AND-amp-OR"><span class="nav-text">1.7 AND &amp; OR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-Order-By-DESC、ASCs"><span class="nav-text">1.8 Order By (DESC、ASCs)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9-insert"><span class="nav-text">1.9 insert</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-0-update"><span class="nav-text">1.0 update</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-delete"><span class="nav-text">1.1 delete</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二-高级教程"><span class="nav-text">二 高级教程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Top-PERCENT"><span class="nav-text">1 Top (-/PERCENT)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Like"><span class="nav-text">2 Like</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-通配符"><span class="nav-text">3 通配符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-In"><span class="nav-text">4 In</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Between"><span class="nav-text">5 Between</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Aliases"><span class="nav-text">6 Aliases</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Join-根据两个或多个表中的列之间的关系，从这些表中查询数据。"><span class="nav-text">7 Join: 根据两个或多个表中的列之间的关系，从这些表中查询数据。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-Inner-Join"><span class="nav-text">8 Inner Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-Left-Join"><span class="nav-text">9 Left Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-Right-Join"><span class="nav-text">10 Right Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-Full-Join"><span class="nav-text">11 Full Join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-union-all-合并两个或多个-SELECT-语句的结果集。"><span class="nav-text">12 union (all): 合并两个或多个 SELECT 语句的结果集。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-select-into-用于创建表的备份复件"><span class="nav-text">13 select into: 用于创建表的备份复件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-create-db"><span class="nav-text">14 create db</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-create-table"><span class="nav-text">15 create table</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-约束-Constraints-用于限制加入表的数据的类型。"><span class="nav-text">16 约束 (Constraints):用于限制加入表的数据的类型。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-1-NOT-NULL"><span class="nav-text">16.1 NOT NULL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-2-UNIQUE"><span class="nav-text">16.2 UNIQUE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-3-PRIMARY-KEY"><span class="nav-text">16.3 PRIMARY KEY</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-4-FOREIGN-KEY"><span class="nav-text">16.4 FOREIGN KEY</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-5-CHECK"><span class="nav-text">16.5 CHECK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-6-DEFAULT"><span class="nav-text">16.6 DEFAULT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-create-index"><span class="nav-text">17 create index</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-drop"><span class="nav-text">18 drop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-alter"><span class="nav-text">19 alter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-alter"><span class="nav-text">20 alter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-increment"><span class="nav-text">21 increment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-view"><span class="nav-text">22 view</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-date"><span class="nav-text">23 date</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-nulls"><span class="nav-text">24 nulls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-isnull"><span class="nav-text">25 isnull()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-数据类型"><span class="nav-text">26 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Microsoft-Access-数据类型"><span class="nav-text">1.Microsoft Access 数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-MySQL-数据类型"><span class="nav-text">2.MySQL 数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-SQL-Server-数据类型"><span class="nav-text">3.SQL Server 数据类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-服务器"><span class="nav-text">27 服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DBMS-数据库管理系统（Database-Management-System）"><span class="nav-text">DBMS - 数据库管理系统（Database Management System）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RDBMS-关系数据库管理系统（Relational-Database-Management-System）"><span class="nav-text">RDBMS - 关系数据库管理系统（Relational Database          Management System）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三-函数"><span class="nav-text">三 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#functions-avg-count-first-last-max-min-sum-group-by-having-ucase-lcase-mid-round-now-format"><span class="nav-text">functions-,avg,count,first,last,max,min,sum,group by-,having-,ucase,lcase,mid,round,now,format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-functions"><span class="nav-text">1 functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-avg"><span class="nav-text">2 avg</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-count"><span class="nav-text">3 count</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-first"><span class="nav-text">4 first</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-last"><span class="nav-text">5 last</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-max"><span class="nav-text">6 max</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-min"><span class="nav-text">7 min</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-sum"><span class="nav-text">8 sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-group-by"><span class="nav-text">9 group by-</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-having"><span class="nav-text">10 having-</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-ucase"><span class="nav-text">11 ucase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-lcase"><span class="nav-text">12 lcase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-mid"><span class="nav-text">13 mid</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-len"><span class="nav-text">14 len</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-round"><span class="nav-text">15 round</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-now"><span class="nav-text">16 now</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-format"><span class="nav-text">17 format</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四-总结"><span class="nav-text">四 总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-快速参考"><span class="nav-text">1 快速参考</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-教程总结"><span class="nav-text">2 教程总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五-测验"><span class="nav-text">五 测验</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yalhu</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">529.7k</span>
  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("FR1Ck8VBxN9d1lKPIOSKmvgl-gzGzoHsz", "bLUjHdwtJTf00J8OwVTT8urs");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
